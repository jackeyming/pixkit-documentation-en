{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":""},{"location":"#pixkit-open-source-autonomous-driving-development-teaching-kit","title":"PIXKIT open source autonomous driving development teaching kit","text":""},{"location":"#pixmoving-inc","title":"Pixmoving Inc","text":""},{"location":"#who-are-we","title":"Who Are We","text":"<p>PIX Movingis forged by an interdisciplinary and innovative team of around 200 members from diverse cultural backgrounds with in-depth expertise in various fields. Software engineer, algorithm engineer, electronic engineer, designer, architect, entrepreneur and artist from 7 countries including Italy, the US, Pakistan, India and Japan are bound together with the same vision to build the bridge between future mobility and digital manufacturing. Currently PIX Moving has got fundings from various investors around the globe including VC SOSV, A-listed company Guizhou Transportation Planning Survey&amp;design Academe Co.,ltd. and TIS from Japan.</p>"},{"location":"#pixkit","title":"PIXKIT","text":"<ul> <li>Provide a one-stop autonomous driving development solution, offering customers a 0-1 autonomous driving development platform.</li> <li>Complete the integration of computing platform, wire-controlled chassis, sensors, and autonomous driving systems for customers, allowing them to focus on algorithm development.</li> <li>Provide mapping and sensor calibration toolchains to reduce the development threshold.</li> <li>Open-source all source code and provide detailed documentation to make development easier.</li> <li>Continuously update and iterate software and algorithms to stay at the forefront of technology.</li> <li>Benefit from the resources of ROS/Autoware community, providing continuous motivation for development.</li> <li>Provide different ODD examples to expand Autoware to different scenarios (support to be provided in the future).</li> </ul>"},{"location":"#hardware-component","title":"Hardware component","text":""},{"location":"#1electric-open-source-pix-ultra-skateboard-dbw-chassis","title":"1.Electric Open-source Pix Ultra-Skateboard DBW Chassis","text":""},{"location":"#2sensor-package-and-modular-sensor-brancket","title":"2.Sensor Package And Modular Sensor Brancket","text":""},{"location":"#3industrial-remote-controller-for-the-chassis","title":"3.Industrial Remote Controller For The Chassis","text":""},{"location":"#tool-chains-for-autonomous-driving-development","title":"Tool Chains for Autonomous Driving Development","text":""},{"location":"#sensor-calibration","title":"Sensor Calibration","text":"<ul> <li>camera Intrisics calibration</li> </ul> <pre><code>image_width: 1920\nimage_height: 1080\ncamera_name: trafficlight\ncamera_matrix:\n  rows: 3\n  cols: 3\n  data: [1010.2744 ,    0.     ,  941.65588,\n            0.     , 1008.70001,  517.61131,\n            0.     ,    0.     ,    1.     ]\ndistortion_model: plumb_bob\ndistortion_coefficients:\n  rows: 1\n  cols: 5\n  data: [-0.336502, 0.091380, -0.001975, 0.000444, 0.000000]\nrectification_matrix:\n  rows: 3\n  cols: 3\n  data: [1., 0., 0.,\n         0., 1., 0.,\n         0., 0., 1.]\nprojection_matrix:\n  rows: 3\n  cols: 4\n  data: [723.01111,   0.     , 947.26543,   0.     ,\n           0.     , 895.51398, 508.08632,   0.     ,\n           0.     ,   0.     ,   1.     ,   0.     ]\n</code></pre> <ul> <li>LiDAR-camera calibration</li> </ul> <pre><code>rs162camera:\n  x: 0.5789871\n  y: -0.08247789\n  z: -0.3453706\n  roll: -1.55877693\n  pitch: 0.00713767\n  yaw: -1.55820481\n</code></pre> <p> - IMU calibration</p> <pre><code>Gyr:\n    unit: \" rad/s\"\n    avg-axis:\n    gyr_n: 1.5059072284923697e-03\n    gyr_w: 4.3430855283551206e-05\n    x-axis:\n    gyr_n: 1.6901233770452774e-03\n    gyr_w: 5.0850707578827144e-05\n    y-axis:\n    gyr_n: 1.3392742394140514e-03\n    gyr_w: 3.7654685426892668e-05\n    z-axis:\n    gyr_n: 1.4883240690177805e-03\n    gyr_w: 4.1787172844933785e-05\nAcc:\n    unit: \" m/s^2\"\n    avg-axis:\n    acc_n: 5.9215155351791055e-03\n    acc_w: 1.3379378640306186e-04\n    x-axis:\n    acc_n: 6.0017230453598448e-03\n    acc_w: 1.0726720420556991e-04\n    y-axis:\n    acc_n: 6.7689914243794181e-03\n    acc_w: 1.6961241589651517e-04\n    z-axis:\n    acc_n: 4.9938321357980535e-03\n    acc_w: 1.2450173910710051e-04\n</code></pre>"},{"location":"#hd-map","title":"HD Map","text":"<ul> <li>Pointcloud Map </li> <li>Lanelet2 Map </li> </ul>"},{"location":"#documentation-for-autonomous-driving-development","title":"Documentation For Autonomous Driving Development","text":"<ul> <li>Hardware Check</li> <li>Pix Chassis User Manual</li> <li>Sensor Calibration</li> <li>Mapping</li> <li>Hands on Autoware</li> </ul>"},{"location":"#contack-us","title":"Contack Us","text":"<p>If you are interested in our products, please contack us. - Ecosystem cooperation\uff1achase@pixmoving.com - For business cooperation\uff1asean@pixmoving.com - Media coverage\uff1ayoki@pixmoving.com - Get more information about the product\uff1a</p> <p></p>"},{"location":"Hardware-Check/","title":"Overview","text":""},{"location":"Hardware-Check/#hardware-check","title":"Hardware Check","text":"<ul> <li>Hardware Installation Wiring Diagram     </li> </ul>"},{"location":"Hardware-Check/#video","title":"Video","text":"<ul> <li>Autoware Teaching Videos </li> </ul>"},{"location":"Hardware-Check/#directory","title":"Directory","text":"<ul> <li>IPC</li> <li>LiDAR</li> <li>camera</li> <li>GNSS\u2014CHC</li> <li>GNSS\u2014FP</li> <li>ultra_sonic_radar</li> </ul>"},{"location":"Hardware-Check/CAMERA/","title":"camera","text":""},{"location":"Hardware-Check/CAMERA/#camera","title":"camera","text":""},{"location":"Hardware-Check/CAMERA/#device-wiring","title":"Device Wiring","text":""},{"location":"Hardware-Check/CAMERA/#hardware-startup","title":"Hardware startup","text":"<ul> <li>Open the industrial computer, press Ctrl+Alt+t to start the terminal</li> </ul> <pre><code>source  ~/pix/pitkit/Autoware/install/setup.bash \nros2 launch pixkit_sensor_kit_launch camera_launch.py \n</code></pre> <ul> <li>Start the camera driver     </li> <li>View topic data</li> </ul> <pre><code>ros2 topic list\n</code></pre> <p>Reopen a terminal      -  rqt tool package view</p> <pre><code>ros2 run rqt_image_view rqt_image_view\n</code></pre> <p>Enter the command in the terminal and press Enter, and the visualization interface will pop up automatically .      Note\uff1aIf you cannot output the topic list or view the visualization image, please check the wiring harness or check whether the ros driver is started successfully.</p>"},{"location":"Hardware-Check/GNSS%E2%80%94CHC/","title":"GNSS\u2014CHC","text":""},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#gnsschc","title":"GNSS\u2014CHC","text":""},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#device-wiring","title":"Device Wiring","text":""},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#hardware-parameter-configuration","title":"Hardware parameter configuration","text":""},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#detection","title":"Detection","text":"<ul> <li>Open the Google browser on the industrial computer: enter 192.168.1.110 (factory IP, do not modify) in the address bar, and the login interface pops up. Account: admin, password: password</li> </ul> <p>Note\uff1aDo not open it with Firefox, otherwise the parameters cannot be modified successfully.    </p>"},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#rtk-account-login-required-your-rtk-account-password","title":"RTK account login (required - your RTK account password)","text":"<ul> <li>Enter the IO configuration interface, select \"RTK Client\", click \"Connect\", select NTRIP protocol as the connection protocol, enter your account password and remote IP, port, get the source list, select RTCM33, and finally click \"OK\".     </li> </ul> <p>Note 1\uff1aWhen obtaining the source list, be sure to pay attention to the pop-up source list in the lower right corner to obtain the source list successfully, otherwise RTK login fails. Check whether the device is supplied with network.</p> <p>Note 2\uff1aCGI-410 supports foreign differentials, but it must ensure that the base station broadcasts standard RTCM sentences. Domestic and foreign satellites are uniformly supported: GPS, Beidou, Galileo, GLONASS, and Quasi-Zenith.</p>"},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#parameter-adaptation-optional-configured","title":"Parameter adaptation (optional - configured)","text":""},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#data-io-output","title":"Data I/O Output","text":"<ul> <li>Output format TCP: Enter the IO configuration interface, check the TCP Server 9904 port, set the combined navigation data separately: GPCHC 100HZ, GPGGA 10HZ, and close other data, and save the data.     </li> <li>Start the industrial computer, press Ctrl+Alt+t to open the terminal, nc 192.168.1.110 9904, and data output indicates that TCP communication is successful;     </li> </ul>"},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#vehicle-parameter-settings-optional-configured","title":"Vehicle parameter settings (optional - configured)","text":"<p>If you purchase a PIXKIT kit, no need, it is already set up at the factory.</p> <p></p> <ul> <li>Number of antennas used: Connect the rear antenna to the GNSS1 device for positioning, and connect the front antenna to the GNSS2 device for heading;</li> <li>Operating mode: Select \"Mobile Robot\" and choose the low-speed mode;</li> <li>IMU to Vehicle Coordinate System Angle: Standard installation with all parameters set to 0;</li> <li><code>Positioning Antenna to Rear Wheel Center Arm</code>\uff1aUse the positioning antenna as the origin coordinate. Provide values for x, y, and z directions: x represents left and right (positive for right, negative for left), y represents front and back (positive for front, negative for back), z represents up and down (positive for up, negative for down) in meters. For example, if the antenna is 0.3 meters to the left of the rear wheel center (usually placed on the vehicle's centerline, so it would be 0), 0.5 meters to the front, and 1 meter above, the input values would be 0.3, -0.5, -1;</li> <li>GNSS Heading Baseline to Vehicle Coordinate System Angle: Standard installation with all parameters set to 0;</li> <li><code>IMU to Positioning Antenna Arm</code>\uff1aUse the IMU device as the origin coordinate. Provide values for x, y, and z directions: x represents left and right (positive for right, negative for left), y represents front and back (positive for front, negative for back), z represents up and down (positive for up, negative for down) in meters. If the positioning antenna is located to the right, front, and above the device, then x, y, and z values should all be positive;</li> <li>Odometry Wheel Speed Accuracy (km/h) / Steering Angle Accuracy (deg) and Odometry Delay: Leave the default values at 0;</li> <li><code>Wheelbase</code>\uff1aMeasure and fill in the wheelbase value based on the received vehicle;</li> <li>Once the configuration is complete, click \"Save\" to apply the settings.</li> </ul> <p> </p> <ol> <li><code>Wheelbase</code>:  The distance between the centers of the two rear wheels, represented by length <code>D</code> in the diagram.</li> <li><code>IMU to Positioning Antenna Arm</code>: Consider the <code>Main Unit</code> as the origin of the coordinate system. The <code>Positioning Antenna</code> is considered as a point in this coordinate system. Provide the x, y, and z values of the <code>Positioning Antenna</code> in the coordinate system of the \"Main Unit.\" For example, (E, -A, F).</li> <li><code>Positioning Antenna to Rear Wheel Center Arm</code>: Consider the <code>Positioning Antenna</code> as the origin of the coordinate system. The <code>Rear Wheel Center</code> is considered as a point. Provide the x, y, and z values of the <code>Rear Wheel Center</code> in the coordinate system of the<code>Positioning Antenna</code>.</li> </ol>"},{"location":"Hardware-Check/GNSS%E2%80%94CHC/#device-calibration","title":"Device Calibration","text":"<p>Real Vehicle Operation: In the INS mode, start with GNSS, then initialize, and finally combine with the inertial navigation system. The vehicle must be driven outdoors in an open area with no tall obstructions. Move the vehicle back and forth, drive in a figure-eight pattern, and make turns. It will take approximately twenty minutes for the calibration process to be successful. If the INS mode remains unchanged, please check if the RTK account has logged in successfully. Inertial navigation fusion status\uff1a INS mode is combined inertial navigation state, combined information is GNSS | MIU      \u6ce8\u610f\uff1aCalibration takes about 30 minutes. If the INS mode initializes but the GNSS mode does not show a stable RTK positioning and heading solution, please check the device's RTK status, arm values, and antenna connections (whether the rear antenna is connected to GNSS1 and the front antenna is connected to GNSS2). If the device is installed in a complete vehicle project and difficult to inspect, check the heading angle in the attitude information of the inertial navigation status. Use a compass on a mobile phone aligned with the vehicle's direction of travel. Verify if the angles are consistent. Deviation within 10 degrees is normal. If the deviation exceeds 180 degrees, it indicates a reversed connection. In that case, interchange the positions of the GNSS1 and GNSS2 interfaces.</p> <ul> <li>If you need to use other parameters, please refer to the CGI-410 User Manual.     CGI-410\u4f7f\u7528\u624b\u518c</li> </ul>"},{"location":"Hardware-Check/GNSS%E2%80%94FP/","title":"GNSS\u2014FP","text":""},{"location":"Hardware-Check/GNSS%E2%80%94FP/#gnssfp","title":"GNSS\u2014FP","text":""},{"location":"Hardware-Check/GNSS%E2%80%94FP/#device-wiring","title":"Device Wiring","text":""},{"location":"Hardware-Check/GNSS%E2%80%94FP/#hardware-parameter-configuration","title":"Hardware parameter configuration","text":""},{"location":"Hardware-Check/GNSS%E2%80%94FP/#detection","title":"Detection","text":"<ul> <li>Open the Google browser on the industrial computer: enter 192.168.1.110 in the address bar (factory IP, do not modify)</li> </ul>"},{"location":"Hardware-Check/GNSS%E2%80%94FP/#rtk-account-login-required-your-rtk-account-password","title":"RTK account login (required - your RTK account password)","text":"<ul> <li>After entering the fixposition webpage, select GNSS under Configuration     </li> <li>Enter rtk and set as follows: user: your account, password: your password, Host: 119.3.136.126, Mountpoint: RTCM33      Note 1\uff1a Check whether the network is normal, otherwise RTK login fails, check the network device.</li> </ul>"},{"location":"Hardware-Check/GNSS%E2%80%94FP/#data-check","title":"Data Check","text":"<pre><code>nc 192.168.1.110 21000\n</code></pre>"},{"location":"Hardware-Check/GNSS%E2%80%94FP/#device-calibration","title":"Device Calibration","text":"<pre><code>Move the vehicle outdoors and let it remain stationary for about 5 minutes. Then, when the vehicle is in motion, drive it in a figure-eight pattern, making loops and turning both forward and backward. Ensure that the front of the vehicle, where the mushroom antenna is located, is connected to GNSS1, and the rear is connected to GNSS2. Also, check the connected RTK account.\n</code></pre> <ul> <li>Return to the home page and click start   </li> <li>FP devices require wheel speed feedback, which will be integrated faster. Execute autoware.sh to start, give an initial position, and display the point cloud on the map. Here you need to pay attention to whether the chassis is connected to auotware normally. You can turn the remote control steering wheel left and right to check the steer changes on rviz2. If there is no data, restart autoware, and activate it when the radar does not display.    Select info under System on the web page to view Wheelspeed sensors. If there is data feedback, it means the wheel speed is connected   </li> <li>Before fusion: The vehicle moves in a figure 8, turns and goes straight for a distance. It takes about 10 minutes until all states are green.   </li> <li> <p>Status after fusion: After fusion, all statuses are green, indicating fusion.   </p> </li> <li> <p>Reference Manual VRTK Documentation</p> </li> </ul>"},{"location":"Hardware-Check/IPC/","title":"IPC","text":""},{"location":"Hardware-Check/IPC/#ipc","title":"IPC","text":"<p>Username\uff1apixkit\uff0c Password\uff1apixmoving</p>"},{"location":"Hardware-Check/IPC/#device-wiring","title":"Device Wiring","text":"<p>Note All sensor devices (except cameras) need to be connected to the vehicle's 12V power supply and the industrial computer's 24V power supply, and the RJ45 network cable transmits data lidar-ouster, robosense, fixposition and CHC. lidar-ouster\u3001robosense\u3001fixposition\u548cCHC\u3002   </p>"},{"location":"Hardware-Check/IPC/#ipc-network-settings","title":"IPC Network Settings","text":"<p>Connect the RJ45 network cable of the switch or router to the network port of the industrial computer (IPC)      Note\uff1aThe picture is for reference only. If the model of the industrial computer does not match the picture, pay attention to the connection of the network port. - After the wiring is completed, click the power button and wait for a few seconds to log in to the interface.      - Ctrl+Alt+t starts the terminal terminal  Note\uff1aCtrl+Alt+t is to open the terminal, Ctrl+c is to end the terminal, and Ctrl+shift+t is to open the side terminal. The document will not be repeated later.</p>"},{"location":"Hardware-Check/IPC/#check-the-host-static-ip","title":"Check the host static IP","text":"<p>Open the network settings, check the current connection port, click IPV4 to view, if different, modify according to the picture, and click Apply after completion.     </p> <ul> <li>Check the host static IP (ifconfig): If the static IP address is not 192.168.1.102, you need to check the network settings, otherwise the sensor data transmission is abnormal     </li> </ul>"},{"location":"Hardware-Check/IPC/#check-the-network","title":"Check the network","text":"<p>If you cannot access the Internet, please check DNS192.168.1.1 or change the router network port.</p> <pre><code>ping baidu.com\n</code></pre> <p></p> <p>Note 1\uff1aDo not modify the router IP address. If you cannot access the Internet, check the network port connection, check the DNS, and access the router through the browser.</p>"},{"location":"Hardware-Check/IPC/#check-chassis-can-data","title":"Check chassis CAN data","text":"<ul> <li>The chassis's CAN data interface needs to be connected to the CAN0 interface. If data cannot be output, please replace the CAN port.</li> </ul> <pre><code>candump can0\n</code></pre> <p>Terminal output data is normal     </p>"},{"location":"Hardware-Check/IPC/#inspecting-lidar-data","title":"Inspecting lidar data","text":"<p>RS-Helios-16P static IP 192.168.1.200      OUSTER-OS     static IP 192.168.1.125</p> <pre><code>ping 192.168.1.200\nping 192.168.1.125\n</code></pre> <p>Terminal output data is normal      </p>"},{"location":"Hardware-Check/IPC/#check-the-integrated-inertial-navigation","title":"Check the integrated inertial navigation","text":"<p>192.168.1.110</p> <pre><code>ping  192.168.1.110\n</code></pre> <p>Terminal output data is normal     </p>"},{"location":"Hardware-Check/LiDAR/","title":"LiDAR","text":""},{"location":"Hardware-Check/LiDAR/#lidar","title":"LiDAR","text":""},{"location":"Hardware-Check/LiDAR/#device-wiring","title":"Device Wiring","text":""},{"location":"Hardware-Check/LiDAR/#device","title":"Device","text":"<ul> <li> <p>Radar model: RS-Helios-16P or OUSTER-OS</p> </li> <li> <p>Radar static IP: 192.168.1.200 (RS-Helios-16P) or 192.168.1.125 (OUSTER-OS) (do not modify)</p> </li> </ul>"},{"location":"Hardware-Check/LiDAR/#ros-driver","title":"ROS Driver","text":"<p>Under the Autoware file</p>"},{"location":"Hardware-Check/LiDAR/#ouster_driver","title":"ouster_driver","text":"<pre><code>source install/setup.bash\nros2 launch pixkit_sensor_kit_launch os_sensor_top.launch.xml\n</code></pre> <p>  View the lidar/points topic through ros topic list, echo can print the topic output   </p>"},{"location":"Hardware-Check/LiDAR/#rs_driver","title":"rs_driver","text":"<pre><code>source install/setup.bash\nros2 launch pixkit_sensor_kit_launch lidar.launch.xml\n</code></pre> <p>    \u901a\u8fc7ros topic list \u67e5\u770b lidar/points\u7684\u8bdd\u9898\uff0cecho\u53ef\u4ee5\u6253\u5370\u8bdd\u9898\u8f93\u51fa     </p> <ul> <li>Driver Download\uff1aRS-Helios-16p</li> <li>Driver download\uff1aOUSTER-OS</li> </ul>"},{"location":"Hardware-Check/Ultra_sonic_radar/","title":"Ultrasonic radar","text":""},{"location":"Hardware-Check/Ultra_sonic_radar/#ultrasonic-radar","title":"Ultrasonic radar","text":""},{"location":"Hardware-Check/Ultra_sonic_radar/#device","title":"Device","text":"<ul> <li>Normal connection to CAN0</li> </ul>"},{"location":"Hardware-Check/Ultra_sonic_radar/#hardware-activation-check","title":"Hardware Activation Check","text":"<ul> <li>Hardware installation has been completed</li> <li>Start Terminal</li> </ul> <pre><code>Activation Ultrasonic\uff1awhile true; do cansend can0 601#b91fff; sleep 0.5; done\nView search data for No. 1-4\uff1acandump can0,611:7ff\nView search data for No. 5-8\uff1acandump can0,612:7ff\n</code></pre>"},{"location":"Hardware-Check/Ultra_sonic_radar/#hardware-startup","title":"Hardware startup","text":"<ul> <li>Open Terminal under the auotware file</li> </ul> <pre><code>1. CAN Drive\n    source install/setup.bash \n    ros2 launch  ros2_socketcan socket_can_bridge.launch.xml\n2. Ultrasonic Drive\n    source install/setup.bash \n    ros2 launch ultra_sonic_radar_driver mc_radar_driver.launch.xml\n3. Super active topic\u2014\u2014can communicate with ros2 topic list\n    ros2 topic pub -1 /sensing/ultra_sonic_radar/activate_radar std_msgs/msg/Bool \"{data: True}\"\n</code></pre> <p> 'ACTIVATING ULTRASONIC RADAR' means the startup is successful</p> <ul> <li> <p>Reference Documentation</p> <p>F40-16TR9BL2 Ultrasonic Sensor CAN User Documentation</p> <p>F40-16TR9BL2 Driver</p> </li> </ul>"},{"location":"hands-on-Autoware/LiDAR-based-perception/","title":"LiDAR Based Perception","text":""},{"location":"hands-on-Autoware/LiDAR-based-perception/#lidar-based-perception","title":"LiDAR Based Perception","text":""},{"location":"hands-on-Autoware/LiDAR-based-perception/#overview","title":"Overview","text":"<ol> <li> <p>The pointcloud from LiDAR is received by LiDAR CenterPoint for pointcloud object detection, obtaining object classification, position, and size information, and outputting DetectedObjects.</p> </li> <li> <p>Multi Object Tracker receives DetectedObjects and performs object tracking to obtain object classification, position, shape, velocity, and acceleration information. It outputs TrackedObjects.</p> </li> <li> <p>Map Based Prediction receives TrackedObjects, predicts object trajectories based on map information, and outputs PredictedObjects.</p> </li> </ol>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#how-to-use","title":"How To Use","text":""},{"location":"hands-on-Autoware/LiDAR-based-perception/#launch-perception","title":"Launch Perception","text":"<p>Launch Autoware</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#lidar-centerpoint","title":"LiDAR CenterPoint","text":"<p>Detect objects in pointcloud using CenterPoint, you can see the <code>CAR</code> obejct in the blue box.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#input-topics","title":"Input Topics","text":"Topic Type Description /sensing/lidar/concatenated/pointcloud sensor_msgs/msg/PointCloud2 realtime pointcloud"},{"location":"hands-on-Autoware/LiDAR-based-perception/#output-topics","title":"Output Topics","text":"Topic Type Description /perception/object_recognition/detection/centerpoint/objects autoware_auto_perception_msgs/msg/DetectedObjects Detected Objects"},{"location":"hands-on-Autoware/LiDAR-based-perception/#multi-object-tracker","title":"Multi Object Tracker","text":"<p>multi-frame object association using <code>Data Association</code>, use <code>EKF Tracker</code> to obtain object tracking with a unique uuid. The speed is visualized by the red line.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#data-association","title":"Data Association","text":"<p>associate the data of the multi-frame perception results, convert it into the <code>Min Cost Max Flow problem</code>, and solve it using mussp to obtain the connection between the multi-frame perception results.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#ekf-tracker","title":"EKF Tracker","text":"<p>Choose different models for different classifications to track the perception results and improve tracking stability and accuracy.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#input-topics_1","title":"Input Topics","text":"Topic Type Description /perception/object_recognition/detection/centerpoint/objects autoware_auto_perception_msgs::msg::DetectedObjects detected objects"},{"location":"hands-on-Autoware/LiDAR-based-perception/#output-topics_1","title":"Output Topics","text":"Topic Type Description /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects Tracked objects without trajectory"},{"location":"hands-on-Autoware/LiDAR-based-perception/#map-based-prediction","title":"Map Based Prediction","text":"<p> Predict the object's future trajectory based on the map and the tracked object to improve the safety and stability of path planning.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#remove-old-data-in-history","title":"Remove Old Data in History","text":"<p>store the time series data of objects, which includes the position, speed, and time information, to predict if the objects need to lane change or not.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#get-current-lanelet-then-update-objects-data","title":"Get Current Lanelet Then Update Objects Data","text":"<p>Detect whether if the object need to change lane or to to do left lane change or right lane change.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#generate-predicted-trajectories-for-objects","title":"Generate predicted Trajectories for objects","text":"<p>According to the lane change information and map information, generate the predicted reference trajectories for objects.</p>"},{"location":"hands-on-Autoware/LiDAR-based-perception/#input-topics_2","title":"Input Topics","text":"Topic Type Description /perception/object_recognition/tracking/objects autoware_auto_perception_msgs/msg/TrackedObjects Tracked Objects without trajectory /map/vector_map autoware_auto_mapping_msgs/msg/HADMapBin lanelet2 map"},{"location":"hands-on-Autoware/LiDAR-based-perception/#output-topics_2","title":"Output Topics","text":"Topic Type Description /perception/object_recognition/objects autoware_auto_perception_msgs::msg::PredictedObjects objects with predicted trajectories"},{"location":"hands-on-Autoware/LiDAR-based-perception/#reference","title":"Reference","text":"<ul> <li>autoware_auto_perception_msgs</li> <li>lidar centerpoint in Autoware</li> <li>CenterPoint</li> <li>multi object tracker in Autoware</li> <li>muSSP</li> <li>map based prediction</li> </ul>"},{"location":"hands-on-Autoware/lane-driving/","title":"Lane Driving","text":""},{"location":"hands-on-Autoware/lane-driving/#lane-driving","title":"Lane Driving","text":""},{"location":"hands-on-Autoware/lane-driving/#overview","title":"overview","text":"<p>This tutorial describes how to use Autoware to implement lane driving mode. The page will cover the following aspects: the overall process, command operation and debugging parameters of lane driving. </p>"},{"location":"hands-on-Autoware/lane-driving/#overall-process","title":"overall process","text":"<p>The overall process of lane driving is shown in the figure below.  </p> <ul> <li>This function needs to a lanlet map so that the vehivle can implement mode of lane drving\uff0cTherefore, please use the lanlet2 map drawing tool for map drawing. For specific drawing methods, please refer tolanelet2-map\u3002</li> <li>If you need to use it in a real car, please make sure that the vehicle's lidar, camera and gnss can work normally. For specific hardware configuration, please refer toLiDAR-installation\u3001camera-installation\u3001GNSS-installation\u3002</li> </ul> <p>For lane driving, it contains the follow modules\uff1aMissison Planner(mission_planner), Behavior Planner(behavior_path_planner\u3001behavior_velocity_planner), Motion Planner(obstacle_avoidance_planner\u3001obstacle_veocity_limit\u3001obstacle_stop_planner)</p> <p>mission_planner : it will receive the initial pose, the goal pose of the vehicle, and the lanelet2 map, then will plan a global route which from the initial pose to the goal pose.  behavior_path_planner \uff1a After received the global route from the mission planning, it will combined with the sensor data of the vehicle and road traffic conditions and generate the drivable path, the drivable area of the vehicle.  behavior_velocity_planner : After obtained the drivable path, the velocity of path will be calculated further base on the traffic rules  obstacle_avoidance_planner : When received the drivable path, it will plan a collision-free trajectory according to the vehicle's sensors and surrounding obstacle. obstacle_velocity_limit : Further optimize the velocity of the trajectory. For example: the optimized trajectory will reduce the speed during the curve driving  obstacle_stop_planner : According to the surrounding obstacle and vehicle status, this module realizes stop, slowing down, or adaptive cruise when encountering obstacles.   scenario_selector : it will select the corresponding trajectory according to different scenarios. As we know autoware divided the scene into two categories: lane driving and freespace. But we only consider the lane driving scenario, we can ignored it.  motion_velocity_optimizer : Smooth the output trajectory and send it to the control module    </p> <p>Main Subscription Topics</p> Input topic name(type of data) Instruction goal pose <code>/planning/mission_planning/goal</code>(geometry_msgs::PoseStamped) It is specified by the user and obtained through the ui interface or command initial pose <code>/initialpose</code>(geometry_msgs::PoseWithCovarianceStamped) It is specified by the user and obtained through the UI interface or commands odometer <code>/localization/kinematic_state</code>(nav_msgs/msg/Odometry) It includes the vehicle's pose and velocity information lanelet2 map <code>/map/vector_map</code>(autoware_auto_mapping_msgs/msg/HADMapBin) This includes all static information about the environment, such as: <ul><li>Information about lane connections on maps</li> <li>Information about traffic rules (lane speed limits, etc.) </li></ul> Dynamic Obstacles <code>/perception/object_recognition/objects</code>(autoware_auto_perception_msgs/msg/PredictedObjects) The perception module analyzes sensor data such as point clouds (LIDAR) and images (camera) and pre-processes them to obtain Traffic Light Recognition Results <code>/perception/traffic_light_recognition/traffic_signals</code>(autoware_auto_perception_msgs/msg/TrafficSignalArray) The perception module analyzes images data (camera) and pre-processes them to obtain <p>Main Publish Topics</p> Output topic(type of data) Instruction output trajectory <code>/planning/scenario_planning/trajectory</code>(autoware_auto_planning_msgs/msg/Trajectory) The trajectory is a set of sequences including pose, velocity and acceleration. It needs to be executed by the control module. The trajectory must be smooth and meet the vehicle kinematics requirements (can be executed by the controller) turn signal <code>/planning/turn_indicators_cmd</code>(autoware_auto_vehicle_msgs/msg/TurnIndicatorsCommand) This is the output used to control the turn signal of the vehicle. The planning module needs to ensure that the turn signal will be turned on according to the planning results"},{"location":"hands-on-Autoware/lane-driving/#get-started-quickly","title":"Get started quickly","text":"<p>This section will introduce how to implement autoware's lane driving mode through UI interface or command line.</p> <p>Note: The following will use the map file and vehicle simulation model provided by autoware. If the user uses own's map or vehicle model, please modify it by yourself.     </p> <ol> <li>Start the autoware simulation program and execute the following command\uff1a</li> </ol> <pre><code>$ ros2 launch autoware_launch planning_simulator.launch.xml map_path:=$HOME/autoware_map/sample-map-planning vehicle_model:=sample_vehicle sensor_model:=sample_sensor_kit\n</code></pre> <p> Note: the parameter map path needs to fill in the specific location of the map file. In this example, <code>$home/autoware map/sample map planning</code> indicates that the map is actually stored in the autoware_map folder under the home directory, and the map file name is sample_map_planning.  2. In the RVIZ interface, setting the initial pose of the vehicle and the goal pose, then it will plan a global route according to these information for vehicle.  Note: The planning will fail if the orientation of goal pose is the opposite of lane direction. As shown in the example below.  3. In the RVIZ interface, select the <code>AutowareStatePanel</code> panel, click <code>AUTO</code>, the vehicle will start to drive automatically. Or use the following command</p> <pre><code>$ ros2 topic pub -1 /autoware/engage autoware_auto_vehicle_msgs/msg/Engage engage:\\ true\n</code></pre> <p>Note: During the real vehicle test, due to the changeable environment, the vehicle initialization process won't go so well, In Rviz, Maybe the word <code>uninitialized</code> will appear in the column of localization that indicating the initialization positioning has not been successful. At this time, <code>AUTO</code> is not available. Usually, it's okay to  wait a while, but if it still fails for a long time, please check whether the sensor is working normally.   4. Place dynamic obstacles on the map (take pedestrians as an example).  Set up properties of dynamic obstacles (take pedestrians as an example) </p>"},{"location":"hands-on-Autoware/lane-driving/#debug-parameters","title":"Debug parameters","text":"<p>This section will introduce how to adjust the driving effect of the vehicle by modifying the configuration file in the planning module   To be continue</p>"},{"location":"hands-on-Autoware/lanelet2-based-routing/","title":"Lanelet2 Based routing","text":""},{"location":"hands-on-Autoware/multi-sensor-localization/","title":"Multi-Sensor Fusion Localization","text":""},{"location":"hands-on-Autoware/multi-sensor-localization/#multi-sensor-fusion-localization","title":"Multi-Sensor Fusion Localization","text":""},{"location":"hands-on-Autoware/multi-sensor-localization/#overview","title":"Overview","text":"<ol> <li>The wheel speed feedback of the chassis and the angular velocity of the IMU need to be fused to output <code>TwistWithCovarianceStamped</code> in the base_link coordinate system.</li> <li>Use the pointcloud map and LiDAR pointcloud for matching to output <code>PoseWithCovarianceStamped</code> in the <code>map</code> coordinate system.</li> <li>Use EKF to filter the fused <code>TwistWithCovarianceStamped</code> and <code>PoseWithCovarianceStamped</code> from the pointcloud map to obtain high-frequency and smooth positioning information.</li> <li>Use the fused <code>PoseWithCovarianceStamped</code> as the initial pose for pointcloud matching.</li> </ol>"},{"location":"hands-on-Autoware/multi-sensor-localization/#input-data","title":"Input Data","text":"topic type description /map/pointcloud_map sensor_msgs/msg/PointCloud2 pointcloud map /localization/util/downsample/pointcloud sensor_msgs/msg/PointCloud2 Real-time downsampled pointcloud /sensing/vehicle_velocity_converter/twist_with_covariance geometry_msgs/msg/TwistCovarianceStamped Chassis wheel speed feedback, providing linear velocity /sensing/imu/imu_data sensor_msgs/msg/Imu IMU data, providing angular velocity"},{"location":"hands-on-Autoware/multi-sensor-localization/#output-data","title":"Output Data","text":"topic type description /localization/kinematic_state nav_msgs/msg/Odometry Fused Odometry data /localization/pose_with_covariance geometry_msgs/msg/PoseWithConvarianceStamped Fused pose data"},{"location":"hands-on-Autoware/multi-sensor-localization/#fusion-localization-demo","title":"Fusion Localization Demo","text":""},{"location":"hands-on-Autoware/multi-sensor-localization/#reference","title":"Reference","text":"<p>https://autowarefoundation.github.io/autoware-documentation/main/design/autoware-architecture/localization/</p>"},{"location":"hands-on-Autoware/parking/","title":"Parking","text":""},{"location":"hands-on-Autoware/parking/#parking","title":"Parking","text":""},{"location":"hands-on-Autoware/parking/#overview","title":"Overview","text":""},{"location":"hands-on-Autoware/parking/#how-to-use","title":"How TO Use","text":"<ol> <li>Prepare a lanelet2 map and draw the <code>polygon</code> for the <code>parking_lot</code> area in the map. For reference on how to draw a lanelet2 map, see lanelet2 map.</li> <li>When the vehicle is within the <code>parking_lot</code> area, the planner will switch to <code>Parking scenario</code>, and the <code>costmap_generator</code> and <code>freespace_planner</code> will start working.</li> <li>The <code>costmap_generator</code> generates an <code>occupancy_grid</code> as the cost map for the <code>freespace_planner</code>.</li> <li>The <code>freespace_planner</code> uses the cost map for path searching and planning.</li> <li>The final <code>trajectory</code> is passed to the trajectory following module to generate control commands.</li> </ol>"},{"location":"hands-on-Autoware/parking/#costmap-generator","title":"Costmap Generator","text":"<p>As shown in the figure below, when the vehicle is within the <code>parking_lot</code> area (the light-yellow polygon inside the blue box), the <code>goal_pose</code>(the green box with the coordinate axis) is set, and there are <code>objects</code> (the red box). </p> <p>After setting the target within the <code>parking_lot</code> area, the <code>occupancy_grip</code> cost map can be visualized. The drivable area has a lower cost, shown in gray, while the area occupied by obstacles has a higher cost, shown in black. It can be seen that the <code>lanelet</code> that overlaps with the <code>parking_lot</code> is also considered in the calculation of the <code>occupancy_grip</code>, as the vehicle may have to drive within the lane_driving lane to reach the <code>parking_lot</code> while performing autonomous driving tasks. To avoid a gap in the map, the <code>lanelet</code> and <code>parking_lot</code> are connected by overlapping. </p>"},{"location":"hands-on-Autoware/parking/#key-parameters","title":"Key Parameters","text":"Parameter Description Default Value grid_min_value minimum cost for gridmap 0.0 grid_max_value maximum cost for gridmap 1.0 grid_resolution resolution for gridmap 0.2(m) grid_length_x size of gridmap for x direction 70.0(m) grid_length_y size of gridmap for y direction 70.0(m) grid_position_x offset from coordinate in x direction 0.0(m) grid_position_y offset from coordinate in y direction 0.0(m) maximum_lidar_height_thres maximum height threshold for pointcloud data 0.3(m) minimum_lidar_height_thres minimum height threshold for pointcloud data -2.2(m) expand_rectangle_size expand object's rectangle with this value 1.0(m)"},{"location":"hands-on-Autoware/parking/#freespace-planner","title":"Freespace Planner","text":"<p>Given the vehicle's position <code>initial_pose</code> and <code>goal_pose</code>, the freespace_planner uses A* Search to plan a feasible trajectory for the vehicle to reach the <code>goal_pose</code>.</p> <p>Because the <code>freespace planner</code> may generate overlapping trajectories that can not be handled by the controller, so <code>freespace planner</code> split trajectory into serveral <code>partial trajectories</code> in order to make sure they can be used by <code>controller</code>.  </p>"},{"location":"hands-on-Autoware/parking/#key-parameters_1","title":"Key Parameters","text":""},{"location":"hands-on-Autoware/parking/#node-parameters","title":"Node Parameters","text":"Parameter Description Default Value <code>vehicle_shape_margin_m</code> collision margin in planning algorithm 1.0(m) <code>waypoints_velocity</code> velocity in output trajectory 5.0(km/h) <code>th_arrived_distance_m</code> threshold distance to check if vehicle has arrived at the trajectory's endpoint 1.0(m) <code>th_stopped_time_sec</code> threshold time to check if vehicle is stopped 1.0(s) <code>th_stopped_velocity_mps</code> threshold velocity to check if vehicle is stopped 0.01(m/s) <code>th_course_out_distance_m</code> threshold distance to check if vehicle is out of course 1.0(m) <code>replan_when_obstacle_found</code> whether replanning when obstacle has found on the trajectory true <code>replan_when_course_out</code> whether replanning when vehicle is out of course true"},{"location":"hands-on-Autoware/parking/#planner-parameters","title":"Planner Parameters","text":"Parameter Description Default Value <code>time_limit</code> time limit of planning 30000.0(s) <code>minimum_turning_radius</code> minimum turning radius of robot 9.0(m) <code>maximum_turning_radius</code> maximum turning radius of robot 9.0(m) <code>theta_size</code> the number of angle's discretization 144 <code>lateral_goal_range</code> goal range of lateral position 0.5 <code>longitudinal_goal_range</code> goal range of longitudinal position 2.0 <code>angle_goal_range</code> goal range of angle 6.0(deg) <code>curve_weight</code> additional cost factor for curve actions 1.2 <code>reverse_weight</code> additional cost factor for reverse actions 2.0 <code>obstacle_threshold</code> threshold for regarding a certain grid as obstacle 100"},{"location":"hands-on-Autoware/parking/#reference","title":"Reference","text":"<ul> <li>planning design</li> <li>costmap generator</li> <li>freespace planner</li> <li>freespace planner algorithm</li> </ul>"},{"location":"hands-on-Autoware/start_autoware/","title":"Start Autoware","text":""},{"location":"hands-on-Autoware/start_autoware/#start-autoware","title":"Start Autoware","text":"<p>Autoware consists of two parts: simulation and real vehicle operation. For simulation, please refer to Autoware Simulator Tutorials. For real vehicle operation, please refer to the following documentation.</p>"},{"location":"hands-on-Autoware/start_autoware/#launch-file-and-parameter-configuration","title":"Launch File and Parameter Configuration","text":"<p>You can start Autoware with the following command:</p> <pre><code>ros2 launch autoware_launch autoware.launch.xml \\\nmap_path:=$HOME/autoware_map/factory_20230325 \\ #Change your map file\nvehicle_model:=pixkit \\\nsensor_model:=pixkit_sensor_kit\n</code></pre> <p>The above commands can be divided into the following 5 parts</p> <ul> <li><code>autoware_launch</code>\uff1aThe package where the launch file is located</li> <li><code>autoware.launch.xml</code>\uff1a launch file</li> <li><code>map_path</code>\uff1a  Contains point cloud map (pointcloud_map.pcd) and vector map (lanelet2_map.osm), and map address parameters. For map production methods, refer tothe map</li> <li><code>vehicle_model</code>\uff1a Vehicle model parameters, the corresponding vehicle urdf modelandautoware interface will be selected according to the parameters , refer topixkit_launch</li> <li><code>sensor_model</code>\uff1a ensor model parameters, the corresponding sensorurdf model and sensor driver will be selected according to the parameters, refer to pixkit_sensor_kit_launch</li> </ul>"},{"location":"hands-on-Autoware/start_autoware/#startup-interface","title":"Startup interface","text":"<p>After the above command runs normally.rviz2 window will appear.  In the visualization window, you can see the imported chassis model and your point cloud map and vector map.</p>"},{"location":"hands-on-Autoware/start_autoware/#start-successful-verification","title":"Start successful verification","text":"<ul> <li>Verify that the map was imported</li> <li>Verify that the vehicle model is started</li> <li>Verify that the sensor is started normally</li> </ul>"},{"location":"hands-on-Autoware/start_autoware/#verify-that-the-map-was-imported","title":"Verify that the map was imported","text":"<p>Use the following methods to check whether there is a map import - You can directly observe whether there is a point cloud map and a vector map in rviz  - Use ros2 cli to check whether there is map data published. If there is data output, it means that the map import is normal. The command is as follows</p> <pre><code>ros2 topic echo [topic name]\n</code></pre> Topic Type Describe /map/pointcloud_map sensor_msgs/msg/PointCloud2 Point cloud map /map/vector_map autoware_auto_mapping_msgs/msg/HADMapBin Vector map (lanelet2 format)"},{"location":"hands-on-Autoware/start_autoware/#verify-that-the-vehicle-model-is-imported","title":"Verify that the vehicle model is imported","text":"<ol> <li>Observe whether there is a vehicle model in the rviz visualization window, as shown in the figure below </li> <li>Check whether the chassis feedback is normal. The topic of chassis feedback is shown in the table below. Also use the remote control to check whether the deg on rviz2 changes. If there is a change, it means it is connected. If it cannot be closed, wait for 30 seconds and restart auotware to observe. The command is as follows</li> </ol> <pre><code>ros2 topic echo [topic name]\n</code></pre> Topic Type Describe /vehicle/status/control_mode autoware_auto_vehicle_msgs::msg::ControlModeReport Chassis Control Mode Feedback /vehicle/status/velocity_status autoware_auto_vehicle_msgs::msg::VelocityReport Chassis speed feedback /vehicle/status/steering_status autoware_auto_vehicle_msgs::msg::SteeringReport Chassis steering feedback /vehicle/status/gear_status autoware_auto_vehicle_msgs::msg::GearReport Chassis gear feedback /vehicle/status/turn_indicators_status autoware_auto_vehicle_msgs::msg::TurnIndicatorsReport Chassis turn signal feedback /vehicle/status/hazard_lights_status autoware_auto_vehicle_msgs::msg::HazardLightsReport Chassis emergency light status feedback"},{"location":"hands-on-Autoware/start_autoware/#verify-that-the-sensor-is-started-normally","title":"Verify that the sensor is started normally","text":"<ol> <li>Use ros2 cli to check whether there is any sensor data released. If there is data released, it means that the sensor is started normally. If the point cloud cannot be displayed on the map, the radar needs to be activated. The command is as follows:</li> </ol> <pre><code>ros2 topic echo [topic name]\n</code></pre> Topic Type Describe /sensing/lidar/top/outlier_filtered/pointcloud sensor_msgs/msg/PointCloud2 LiDAR Data /sensing/imu/imu_data sensor_msgs/msg/Imu IMU Data <ul> <li>Activate radar script\uff1a./activte_ouster.sh</li> </ul>"},{"location":"hands-on-Autoware/start_autoware/#given-a-starting-point-and-an-end-point","title":"Given a starting point and an end point","text":"<ul> <li>2D pose Estimate:The current vehicle position on the map needs to be matched</li> <li>2D Goal Pose\uff1aEnd point</li> <li>Send Velocity Limit:Fill in the initial speed 3~5 (unit KM/h), click Send Velocity Limit to take effect   </li> </ul>"},{"location":"hands-on-Autoware/start_autoware/#click-the-auto-button","title":"Click the AUTO button","text":"<p>Switch the remote control to self_driving (in this state, only emergency parking is available on the remote control). When the vehicle is in automatic driving, please pay attention to the surrounding vehicles and roads, and make an emergency stop (press the red button in the center of the remote control or step on the brake when switching back to remote control mode).   </p>"},{"location":"hands-on-Autoware/start_autoware/#precautions","title":"Precautions","text":"<ul> <li>Before starting, you need to ensure that the map file exists. If the folder specified by map_path does not exist or the file does not exist, the startup will fail.</li> </ul>"},{"location":"hands-on-Autoware/traffic-light-detection/","title":"Traffic Light Detection","text":""},{"location":"hands-on-Autoware/traffic-light-detection/#traffic-light-detection","title":"Traffic Light Detection","text":""},{"location":"hands-on-Autoware/traffic-light-detection/#overview","title":"Overview","text":"<ol> <li>Obtain the rough ROI of the current traffic lights on the road through traffic light map based detector, camera intrinsics, camera extrinsics, and vector map.</li> <li>obtain the fine ROI through traffic light SSD fine detector based on rough ROI.</li> <li>classify the traffic lights using traffic light classifier based on the fine ROI.</li> <li>Return the traffic light classification results to behavior velocity planner in the Planning module to modify the trajectory speed.</li> </ol>"},{"location":"hands-on-Autoware/traffic-light-detection/#how-to-use","title":"How To Use","text":""},{"location":"hands-on-Autoware/traffic-light-detection/#draw-lanelet2-map","title":"Draw Lanelet2 Map","text":"<p>You need to draw <code>lanelet</code> and their referenced traffic_light in the Lanelet2 map. Refer to lanelet2 map.</p>"},{"location":"hands-on-Autoware/traffic-light-detection/#calibrate-camera-intrinsics-and-extrinsics","title":"Calibrate Camera Intrinsics and Extrinsics","text":"<ol> <li>For intrinsics calibration, refer to camera intrinsics calibration and save the parameters in <code>~/pix/pix-kit/Autoware/src/sensor_kit/external/pixkit_sensor_kit_launch/data/camera_info.yaml</code>.</li> <li>For extrinsic calibration, refer to LiDAR-Camera extrinsics calibration and save the parameters in <code>~/pix/pix-kit/Autoware/src/param/autoware_individual_params/individual_params/config/default/pixkit_sensor_kit/sensors_calibration.yaml</code>.</li> </ol>"},{"location":"hands-on-Autoware/traffic-light-detection/#set-goal-pose","title":"Set Goal Pose","text":"<p>Set the Goal Pose to generate a <code>LaneletRoute</code>. You can see a green line connecting the <code>traffic light</code> and the <code>vehicle</code> in the image below: </p>"},{"location":"hands-on-Autoware/traffic-light-detection/#traffic-light-detection_1","title":"Traffic Light Detection","text":"<ul> <li>When a red signal is detected, the trajectory after the stop line becomes red, indicating that the vehicle will stop before the stop line </li> <li>When a green signal is detected, the trajectory after the stop line becomes yellow or green, indicating that the vehicle will pass the intersection with traffic lights.  </li> </ul>"},{"location":"hands-on-Autoware/traffic-light-detection/#reference","title":"Reference","text":"<ul> <li>traffic light map based detector</li> <li>traffic light SSD fine detector</li> <li>traffic light classifier</li> <li>behavior velocity planner</li> <li>design of planning in Autoware</li> </ul>"},{"location":"hands-on-Autoware/trajectory-follower/","title":"Trajectory Tracking","text":""},{"location":"hands-on-Autoware/trajectory-follower/#trajectory-tracking","title":"Trajectory Tracking","text":"<p>This document will introduce the file structure of the trajectory tracking module, the data interaction between various communication nodes, as well as the configuration of startup files and algorithm parameters.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#overview","title":"Overview","text":"<p>The trajectory tracking is a core module in Autoware. It is responsible for tracking the reference trajectory by using the lateral and longitudinal controllers to follow the trajectory points sent by the trajectory planning module.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#file-structure","title":"File Structure","text":"<p>The trajectory tracking module is located in autoware.universe/control and has the following structure:</p> Directory Brief Description autonomous_emergency_braking Automatic Emergency Braking (AEB), which prevents collisions between the predicted trajectory (provided by the lateral controller) and obstacles control_performance_analysis Control performance analysis, which analyzes the tracking performance of the trajectory tracking module and monitors the driving status of the vehicle external_cmd_selector External command selector, switches vehicle mode (remote control mode/autonomous driving mode) according to input commands and current mode joy_controller Joy controller, which converts remote control messages into vehicle control commands required by Autoware (such as steering angle, gear, turn signal, start key, etc.) mpc_lateral_controller Implementation of the MPC (Model Predictive Control) algorithm for lateral control. It generates lateral control commands (steering angle and steering rate) to follow the path and uses the vehicle model to simulate the trajectory generated by the control commands. obstacle_collision_checker Obstacle collision checker, which checks for collisions with obstacles using the predicted trajectory generated by the lateral controller and publishes diagnostic errors when a collision is detected. operation_mode_transition_manager Operation mode transition manager, responsible for managing different operation modes of Autoware system. Possible modes are: <code>Autonomous</code>, <code>Local</code>, <code>Remote</code>, and <code>Stop</code>. pid_longitudinal_controller PID longitudinal controller, which uses the trajectory points speed sent by the Planner module as the reference speed, calculates the vehicle acceleration control signal using the PID algorithm, and achieves the specified target speed when passing through the target trajectory. pure_pursuit Pure pursuit lateral controller, which implements the pure pursuit algorithm to generate lateral control commands (steering angle and steering rate) to track the path. shift_decider Shift decider, determines the size of the gear based on the control instructions output by controller. trajectory_follower_base Trajectory tracking controller interface, which provides a unified interface for lateral and longitudinal controllers for trajectory_follower_node. trajectory_follower_node Trajectory tracking controller node, which is a functional node implemented in the controller class derived from trajectory_follower_base, generating control commands to track the reference trajectory. vehicle_cmd_gate Vehicle command throttle, a package that obtains information from emergency processing programs, planning modules, and external controllers and sends messages to the vehicle."},{"location":"hands-on-Autoware/trajectory-follower/#data-interaction","title":"Data Interaction","text":""},{"location":"hands-on-Autoware/trajectory-follower/#subscribed-topics","title":"Subscribed Topics","text":"Topic Name Message Type Subscribed Node /autoware/state autoware_auto_system_msgs/msg/AutowareState shift_decider /control/command/control_cmd autoware_auto_control_msgs/msg/AckermannControlCommand operation_mode_transition_manager /control/gate_mode_cmd tier4_control_msgs/msgs/GateMode vehicle_cmd_gate /control/shift_decider/gear_cmd autoware_auto_vehicle_msgs/msg/GearCommand vehicle_cmd_gate /control/trajectory_follower/control_cmd autoware_auto_control_msgs/msg/AckermannControlCommand shift_decider /control/trajectory_follower/lateral/predicted_trajectory autoware_auto_planning_msgs/msg/Trajectory autonomous_emergency_braking lane_departure_checker obstacle_collision_checker /control/vehicle_cmd_gate/operation_mode autoware_adapi_v1_msgs/msg/OperationModeState operation_mode_transition_manager /external/selected/control_cmd autoware_auto_control_msgs/msg/AckermannControlCommand vehicle_cmd_gate /external/selected/hazard_lights_cmd autoware_auto_vehicle_msgs/msg/HazardLightsCommand vehicle_cmd_gate /external/selected/gear_cmd autoware_auto_vehicle_msgs/msg/GearCommand vehicle_cmd_gate /external/selected/heartbeat tier4_external_api_msgs/msg/Heartbeat vehicle_cmd_gate /localization/acceleration geometry_msgs/msgs/AccelWithCovarianceStamped trajectory_follower_node vehicle_cmd_gate /localization/kinematic_state nav_msgs/msgs/Odometry autonomous_emergency_braking lane_departure_checker obstacle_collision_checker operation_mode_transition_manager  trajectory_follower_node vehicle_cmd_gate /map/vector_map autoware_auto_mapping_msgs/msg/HADMapBin lane_departure_checker obstacle_collision_checker /perception/obstacle_segmentation/pointcloud sensor_msgs/msg/PointCloud2 autonomous_emergency_braking obstacle_collision_checker /planning/hazard_lights_cmd autoware_auto_vehicle_msgs/msg/HazardLightsCommand vehicle_cmd_gate /planning/mission_planning/route autoware_auto_planning_msgs/msg/LaneletRoute lane_departure_checker obstacle_collision_checker /planning/scenario_planning/trajectory autoware_auto_planning_msgs/msg/Trajectory trajectory_follower_node obstacle_collision_checker operation_mode_transition_manager  lane_departure_checker /planning/turn_indicators_cmd autoware_auto_vehicle_msgs/msg/TurnIndicatorsCommand vehicle_cmd_gate /sensing/imu/imu_data sensor_msgs/msg/Imu autonomous_emergency_braking /system/emergency/control_cmd autoware_auto_control_msgs/msg/AckermannControlCommand vehicle_cmd_gate /system/emergency/gear_cmd autoware_auto_vehicle_msgs/msg/GearCommand vehicle_cmd_gate /system/emergency/hazard_lights_cmd autoware_auto_vehicle_msgs/msg/HazardLightsCommand vehicle_cmd_gate /system/fail_safe/mrm_state autoware_adpi_v1_msgs/msgs/MrmState vehicle_cmd_gate /system/operation_mode/state autoware_adpi_v1_msgs/msgs/OperationModeState vehicle_cmd_gate trajectory_follower_node /vehicle/status/control_mode autoware_auto_vehicle_msgs/msg/ControlMoedReport operation_mode_transition_manager /vehicle/status/gear_status autoware_auto_vehicle_msgs/msg/GearReport vehicle_cmd_gate /vehicle/status/steering_status autoware_auto_vehicle_msgs/msgs/SteeringReport operation_mode_transition_manager trajectory_follower_node vehicle_cmd_gate /vehicle/status/velocity_status autoware_auto_vehicle_msgs/msgs/VelocityReport autonomous_emergency_braking"},{"location":"hands-on-Autoware/trajectory-follower/#published-topic","title":"Published Topic","text":"Topic Name Message Type Publishing Node /api/autoware/get/engage autoware_auto_vehicle_msgs/msg/Engage vehicle_cmd_gate /api/autoware/get/emergency autoware_auto_vehicle_msgs/msg/Emergency vehicle_cmd_gate /control/command/emergency_cmd tire4_vehicle_msgs/msg/VehicleEmergencyStamped vehicle_cmd_gate /control/command/control_cmd autoware_auto_control_msgs/msg/AckermannControlCommand vehicle_cmd_gate /control/command/gear_cmd autoware_auto_vehicle_msgs/msg/GearCommand vehicle_cmd_gate /control/command/turn_indicators_cmd autoware_auto_vehicle_msgs/msg/TurnIndicatorsCommand vehicle_cmd_gate /control/command/hazard_lights_cmd autoware_auto_vehicle_msgs/msg/HazardLightsCommand vehicle_cmd_gate /control/current_gate_mode tire4_control_msgs/msg/GateMode vehicle_cmd_gate /control/shift_decider/gear_cmd autoware_auto_vehicle_msgs/msg/GearCommand shift_decider /control/trajectory_follower/control_cmd autoware_auto_control_msgs/msg/AckermannControlCommand trajectory_follower_node /control/trajectory_follower/lateral/predicted_trajectory autoware_auto_planning_msgs/msg/Trajectory trajectory_follower_node /control/trajectory_follower/lateral/diagnostic tier4_debug_msgs/Float32MultiArrayStamped trajectory_follower_node /control/trajectory_follower/longitudinal/slope_angle tier4_debug_msgs/Float32MultiArrayStamped trajectory_follower_node /control/trajectory_follower/longitudinal/diagnostic tier4_debug_msgs/Float32MultiArrayStamped trajectory_follower_node /control/vehicle_cmd_gate/operation_mode autoware_adapi_v1_msgs/msgs/OperationModeState vehicle_cmd_gate"},{"location":"hands-on-Autoware/trajectory-follower/#parameter-configuration","title":"Parameter Configuration","text":"<p>The configuration file location of each node in this module: autoware_launch/config/control</p> <p>Note: autoware.universe/control/*/config has the same configuration files as autoware_launch/config/control, but is loaded by default from autoware_launch/config/control</p>"},{"location":"hands-on-Autoware/trajectory-follower/#key-configuration-parameters","title":"Key Configuration Parameters","text":"Parameter name Parameter type Parameter description Optional value lateral_controller_mode string When starting launch file\uff0ccan specify the lateral controller to be loaded mpc\uff08by default\uff09\uff0cpure_pursuit mpc_weight_steering_input double For mpc_lateral_controller, it indicates the weight of the steering input. When the weight increases, the steering will be more stable, but the state error between the vehicle and the reference trajectory will increase. 0~inf mpc_weight_lat_error double For mpc_lateral_controller, it indicates the weight of lateral error. When the weight increases, the vehicle is closer to the reference trajectory, but it is prone to oscillation 0~inf mpc_weight_heading_error double For mpc_lateral_controller, it indicates the heading error weight, when the weight is larger, the vehicle is more parallel to the trajectory, but it may make the lateral error convergence speed lower 0~inf mpc_weight_terminal_lat_error double For mpc_lateral_controller, it indicates the lateral error at the end of the trajectory, when the weight is larger, the lateral error at the end of the vehicle is smaller, but it may affect the stability of the driving process 0.0~inf mpc_weight_terminal_heading_error double For mpc_lateral_controller, it indicates the heading error at the end of the trajectory, when the weight is larger, the heading error at the end of the vehicle is smaller, but it may affect the stability of the driving process 0.0~inf mpc_prediction_horizon double For mpc_lateral_controller, It indicates the prediction time range, the larger the parameter, the longer the prediction time of the vehicle, improving the tracking performance, but the calculation cost will increase 0.0~inf [s] mpc_prediction_dt double For mpc_lateral_controller, It indicates the prediction time interval, the smaller the parameter, the smaller the prediction time interval of the vehicle, improving the tracking performance, but the computational cost will increase 0.0~inf [s] kp double For pid_longitudinal_controller,  it indicates the weight of the longitudinal error, the larger the parameter, the smaller the error, but too large will make the motor output too large, you need to set a reasonable range 0.0~inf ki double For pid_longitudinal_controller, it indicates the weight of the longitudinal integration error, this parameter will make the longitudinal error smaller and smaller, need to set the range reasonably 0.0~inf kd double For pid_longitudinal_controller, it indicates the weight of the rate of change of the longitudinal error, and this parameter can reduce the oscillation of the longitudinal error and needs to be set reasonably in the range 0.0~inf"},{"location":"hands-on-Autoware/trajectory-follower/#detailed-configuration-parameters","title":"Detailed configuration parameters","text":"<p>The detailed configuration of each node is shown below.  </p> Node Name Configure File Location autonomous_emergency_braking https://autowarefoundation.github.io/autoware.universe/main/control/autonomous_emergency_braking/#parameters control_performance_analysis https://autowarefoundation.github.io/autoware.universe/main/control/control_performance_analysis/#parameters joy_controller https://autowarefoundation.github.io/autoware.universe/main/control/joy_controller/#parameters lane_departure_checker https://autowarefoundation.github.io/autoware.universe/main/control/lane_departure_checker/#parameters mpc_lateral_controller https://autowarefoundation.github.io/autoware.universe/main/control/mpc_lateral_controller/#parameter-description obstacle_collision_checker https://autowarefoundation.github.io/autoware.universe/main/control/obstacle_collision_checker/#parameters operation_mode_transition_manager https://autowarefoundation.github.io/autoware.universe/main/control/operation_mode_transition_manager/#parameters pid_longitudinal_controller https://autowarefoundation.github.io/autoware.universe/main/control/pid_longitudinal_controller/#parameter-description pure_pursuit None shift_decider None vehicle_cmd_gate https://autowarefoundation.github.io/autoware.universe/main/control/vehicle_cmd_gate/#parameters"},{"location":"hands-on-Autoware/trajectory-follower/#four-wheel-steering-vehicle-kinematic-model","title":"Four-Wheel Steering Vehicle Kinematic Model","text":"<p>Vehicles equipped with a four-wheel steering system are more agile than vehicles with the front-wheel steering system. Compared to vehicles with the same size but front-wheel steering structure, they have a smaller turning radius. This means they can maneuver or change direction in tighter spaces. When driving on highways, vehicles with a four-wheel steering system can improve the stability of the vehicle by adjusting the steering of the rear wheels to achieve a larger turning radius.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#four-wheel-steering-kinematic-model-based-on-cartesian-coordinate-system","title":"Four-Wheel Steering Kinematic Model Based on Cartesian Coordinate System","text":"<p>As shown in the above figure, \\(A\\) \u3001\\(B\\)\u3001\\(C\\) represent the centers of the front and rear wheels, as well as the vehicle's center of gravity respectively. \\(V\\) denotes the vehicle's velocity,\\(\\ell_f\\) and \\(\\ell_r\\) represent the distances from the front and rear wheels to the vehicle's center of gravity, and \\(\\delta_f\\) and \\(\\delta_r\\) indicate the front and rear wheel steering angles respectively. \\(\\psi\\) represents the vehicle's heading angle, and \\(\\beta\\)  represents the vehicle's sideslip angle. \\(O\\)  represents the vehicle's rotation center, and \\(R\\) denotes the vehicle's turning radius. Decomposing the current velocity \\(V\\) of the vehicle along the global coordinate system, we can denote it as \\(\\dot{X}\\) and \\(\\dot{Y}\\), \\(\\dot{X}\\)represents the velocity of the vehicle along the global coordinate X-axis, and \\(\\dot{Y}\\) represents the velocity of the vehicle along the global coordinate y-axis. Therefore, we have the following equations:</p>  \\[ \\begin{align} \\dot{X}=V \\cos(\\psi+\\beta) \\\\ \\dot{Y}=V \\sin(\\psi+\\beta) \\end{align}  \\tag{1.1} \\]  <p>According to the sine theorem, we have the following relation in angle \\(\\angle OCA\\): $$ \\frac{\\sin \\left(\\delta_f-\\beta\\right)}{\\ell_f}=\\frac{\\sin \\left(\\frac{\\pi}{2}-\\delta_f\\right)}{R} \\tag{1.2} $$</p> <p>Similarly, in angle \\(\\angle OCB\\), we have: $$ \\frac{\\sin \\left(\\beta-\\delta_r\\right)}{\\ell_r}=\\frac{\\sin \\left(\\frac{\\pi}{2}+\\delta_r\\right)}{R} \\tag{1.3} $$</p> <p>Expanding equation (1.2) using the  product-to-sum and sum-to-product formulas, we have: $$ \\frac{\\sin(\\delta_f) \\cos(\\beta) - \\cos(\\delta_f) \\sin(\\beta)}{\\ell_f} = \\frac{\\cos(\\delta_f)}{R} \\tag{1.4} $$</p> <p>Similarly, expanding equation (1.3) using the product-to-sum formulas, we have: $$ \\frac{\\sin(\\beta) \\cos(\\delta_r) - \\cos(\\beta) \\sin(\\delta_r)}{\\ell_r} = \\frac{\\cos(\\delta_r)}{R} \\tag{1.5} $$</p> <p>Multiplying both sides of equation (1.4) by \\(\\frac{\\ell_f}{\\cos(\\delta_f)}\\), we have: $$ \\tan(\\delta_f) \\cos(\\beta) - \\sin(\\beta) = \\frac{\\ell_f}{R} \\tag{1.6} $$</p> <p>Multiplying both sides of equation (1.5) by \\(\\frac{\\ell_r}{\\cos(\\delta_r)}\\), we have: $$ \\sin(\\beta) - \\cos(\\beta) \\tan(\\delta_r) = \\frac{\\ell_r}{R} \\tag{1.7} $$</p> <p>Adding equations (1.6) and (1.7), we have: $$ \\cos(\\beta)(\\tan(\\delta_f) - \\tan(\\delta_r)) = \\frac{\\ell_f + \\ell_r}{R}  \\tag{1.8} $$</p> <p>When the vehicle is traveling at low speeds, the angular velocity of the vehicle can be expressed as follows: $$ \\dot{\\psi} =\\frac{V}{R} \\tag{1.9}  $$</p> <p>Combining equations (1.8) and (1.9), we have: $$ \\dot{\\psi} = \\frac{V\\cos(\\beta)}{\\ell_f + \\ell_r} (\\tan(\\delta_f) - \\tan(\\delta_r)) \\tag{1.10} $$</p> <p>Therefore, the kinematic equation of the vehicle can be expressed as follows:</p>  \\[ \\begin{aligned} \\dot{X} &amp; =V \\cos (\\psi+\\beta) \\\\ \\dot{Y} &amp; =V \\sin (\\psi+\\beta) \\\\ \\dot{\\psi} &amp; =\\frac{V \\cos (\\beta)}{\\ell_f+\\ell_r}\\left(\\tan \\left(\\delta_f\\right)-\\tan \\left(\\delta_r\\right)\\right) \\end{aligned} \\tag{1.11} \\]  <p>Where \\(\\dot{X}\\), \\(\\dot{Y}\\), and \\(\\dot{\\psi}\\) represent the velocity of the vehicle along the \\(X\\)-axis, \\(Y\\)-axis and the angular velocity of the heading angle in the global coordinate system, respectively.</p> <p>Assuming that the front and rear wheels steer in the same magnitude but opposite directions, i.e., when the vehicle turns, the steering angles of the front and rear wheels are equal in magnitude but opposite in direction. Furthermore, when the vehicle is traveling at low speeds, the influence of the sideslip angle on the vehicle's motion can be neglected, so we have \\(\\beta=0\\). In this case, the heading angle of the vehicle aligns with the direction of motion. Based on these assumptions, the kinematic equation for the vehicle regarding equation (1.11) can be simplified to:</p>  \\[ \\begin{align*} \\dot{X} &amp; =V \\cos (\\psi) \\\\   \\dot{Y} &amp; =V \\sin (\\psi) \\\\ \\dot{\\psi} &amp; =\\frac{2 V \\tan \\left(\\delta_f\\right)}{\\ell_f+\\ell_r}  \\end{align*} \\tag*{1.12} \\]"},{"location":"hands-on-Autoware/trajectory-follower/#four-wheel-steering-kinematic-model-based-on-path-coordinate-system","title":"Four-Wheel Steering Kinematic Model Based on Path Coordinate System","text":"<p>From the previous derivation, it is evident that the description of the vehicle's motion state depends on the coordinate system itself. When the vehicle is traveling on the road, we prefer to use a coordinate system based on the road to describe the vehicle's motion state. </p> <p> </p> <p>In the above figure, \\(e_{ra}\\) represents the lateral distance of the vehicle to the road, \\(\\theta\\) represents the heading angle of the vehicle in the global coordinate system, \\(v\\) represents the current velocity of the vehicle, and \\(\\delta\\) represents the steering angle of the vehicle. \\((c_x, c_y)\\) represents the projection point of the vehicle on the road (i.e., the nearest point of the vehicle on the road), and \\(\\theta_p\\) represents the angle between the tangent line at the projection point and the \\(x\\)-axis of the global coordinate system. \\(s\\) represents the distance from the start point of the road to the projection point, and we will use \\(\\kappa(s)\\) to denote the curvature of the road at the projection point. The curvature of the road at the projection point can be expressed as: $$ \\kappa(s)=\\frac{d\\theta_p}{ds} \\tag{2.1} $$ Establishing a coordinate system at the projection point along the tangent direction and its perpendicular direction, the distance from the perpendicular direction to the vehicle is denoted as \\(e_{ra}\\)  which is the lateral distance of the vehicle with respect to the road coordinate system. In this case, \\(\\theta_{e}\\) is denoted as the rotation angle of the vehicle relative to the road coordinate system, can be expressed as: $$ \\theta_e = \\theta - \\theta_p \\tag{2.2} $$</p> <p>Therefore, the state variables of the vehicle in the road coordinate system can be represented as \\(\\begin{bmatrix} s &amp; e_{ra} &amp; \\theta_e \\end{bmatrix}^\\mathrm{T}\\).</p> <p>According to equation \\((2.1)\\), taking the derivative of \\(\\theta_p\\) with respect to time \\(t\\), we have: $$ \\dot{\\theta}_p=\\kappa(s)\\dot{s} \\tag{2.3} $$</p> <p>According to the analysis in reference [2], it is known that:</p>  \\[ \\dot{s}=v{\\rm{cos}}(\\theta_e)+\\dot{\\theta}_pe_{ra} \\tag{2.4} \\]  <p>Substituting equation (2.3) into equation (2.4) and rearranging, we have: $$  \\dot{s}=\\frac{v\\rm{cos}(\\theta_e)}{1-e_{ra}\\kappa(s)} \\tag{2.5} $$ </p> <p>Therefore, the lateral velocity of the vehicle in the Frenet coordinate system can be expressed as:</p>  \\[ \\dot{e}_{ra}= v_{x_{car}} - v_{x_{traj}} \\tag{2.6} \\]  <p>\\(v_{x_{car}}\\) represents the lateral velocity of the vehicle in the Frenet coordinate system, while \\(v_{x_{traj}}\\) represents the lateral velocity of the projection point (reference trajectory) in the Frenet coordinate system. Since the projection point has a zero velocity in the perpendicular direction (Frenet coordinate), we have \\(v_{x_{traj}} = 0\\). In other words:</p>  \\[ \\dot{e}_{ra}=v{\\rm{sin}}(\\theta_e) \\tag{2.7} \\]  <p>According to equation (2.2), the angular velocity of the vehicle relative to the road is given by: $$ \\dot{\\theta}_e=\\dot{\\theta}-\\dot{\\theta}_p \\tag{2.8} $$</p> <p>From equation (1.12), we know that \\(\\dot{\\theta}=\\frac{2 v \\tan(\\delta_f)}{L}\\). According to reference [2], \\(\\dot{\\theta}p=\\frac{v \\kappa(s)\\cos(\\theta_e)}{1-e{ra}\\kappa(s)}\\). Substituting this into equation (2.8), we have:</p>  \\[ \\dot{\\theta}_e=\\frac{2 v \\tan \\left(\\delta_f\\right)}{L}-\\frac{ v \\kappa(s){\\rm{cos}}(\\theta_e)}{1-e_{ra}\\kappa(s)} \\tag{2.9} \\]  <p>By combining the above equations, we can obtain the kinematic model of a four-wheel steering vehicle in the road coordinate system as follows:</p>  \\[ \\left[ \\begin{array}{c} \\dot{s} \\\\ \\dot{e}_{ra} \\\\ \\dot{\\theta}_e  \\end{array} \\right] =\\left[ \\begin{array}{c} \\frac{v\\rm{cos}(\\theta_e)}{1-e_{ra}\\kappa(s)} \\\\ {v \\rm{sin}(\\theta_e)} \\\\ \\frac{2 v \\rm{tan}(\\delta)}{L} - \\frac{v \\kappa(s)\\rm{cos}(\\theta_e)}{1-e_{ra}\\kappa(s)} \\end{array}  \\right]\\tag{2.10} \\]"},{"location":"hands-on-Autoware/trajectory-follower/#control-algorithm","title":"Control Algorithm","text":"<p>In Autoware.core/universe, vehicle control is divided into lateral control and longitudinal control. By decoupling the control problems, the algorithm complexity is reduced to meet the requirements of control performance. Longitudinal control is used for acceleration and deceleration of the vehicle's speed. Lateral control is used for steering control of the vehicle.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#longitudinal-control-algorithm-for-vehicle-based-on-road-coordinate-system","title":"Longitudinal Control Algorithm for Vehicle based on Road Coordinate System","text":"<p>To be completed</p>"},{"location":"hands-on-Autoware/trajectory-follower/#lateral-control-algorithm-for-vehicle-based-on-road-coordinate-system","title":"Lateral Control Algorithm for Vehicle based on Road Coordinate System","text":"<p>Currently, vehicle lateral control algorithms can be broadly categorized into three types:    </p> <ol> <li>Geometry-based lateral control algorithms, such as Pure Pursuit and Stanley. These algorithms utilize geometric principles to control the vehicle's lateral movement, determining the appropriate steering angle based on the desired trajectory.   </li> <li>Model-based lateral control algorithms, such as LQR (Linear Quadratic Regulator) and MPC (Model Predictive Control). These algorithms employ mathematical models of the vehicle and the environment to optimize control inputs and achieve desired lateral behavior.</li> <li>Machine learning-based lateral control algorithms, such as Reinforcement Learning and Deep Learning. These algorithms leverage machine learning techniques to learn and adapt control policies based on observed data, enabling the vehicle to make lateral control decisions autonomously.</li> </ol> <p>In Autoware.core/universe, two lateral control algorithms are provided: Pure Pursuit and MPC (Model Predictive Control). Users can choose the appropriate algorithm based on their specific requirements and needs.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#model-predictive-control","title":"Model Predictive Control","text":"<p>Model Predictive Control (MPC) is an algorithm based on the idea of using a mathematical model of the target system to make predictions and optimize control inputs over a future time horizon. It involves formulating an optimization problem to find the optimal control inputs that minimize a cost function while satisfying system constraints. By solving this optimization problem, MPC obtains the best control outputs for the current time step based on the predicted behavior of the model over a certain future time period.</p> <p>The following section provides a general overview and summary of the basic principles of the MPC algorithm. Please note that there may be differences between this conceptual description and the specific implementation of the MPC algorithm in Autoware.core/universe. Further details and additions related to the specific implementation will be provided later on.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#selection-of-control-variables","title":"Selection of Control Variables","text":"<p>Given that the reference trajectory is known, the angular velocity at the projection point can be expressed as \\(\\dot{\\theta}p = v{y_{traj}} \\cdot k(s)\\), where \\(v_{y_{traj}}\\) represents the longitudinal velocity at the projection point along the reference trajectory, and \\(k(s)\\) denotes the curvature of the reference trajectory at the projection point. By combining equations (1.12), (2.3), (2.7), and (2.8), we can obtain the following expressions:</p>  \\[              \\left[ \\begin{array}{c} \\dot{e}_{ra} \\\\ \\dot{\\theta}_e  \\end{array} \\right]= \\left[ \\begin{array}{c} v\\rm{sin}(\\theta_e) \\\\ \\frac{2v \\tan(\\delta)}{L} - v_{ref}k(s) \\end{array} \\right] \\tag{3.1} \\]  <p>Let's define the state variables as \\(x = \\begin{bmatrix} e_{ra} \\ \\theta_e \\end{bmatrix}\\) and the input variable as \\(u = \\delta\\). The state equation can then be expressed as: $$ \\dot{x}=f(x,u) \\tag{3.2} $$</p>"},{"location":"hands-on-Autoware/trajectory-follower/#linearization-of-the-motion-model","title":"Linearization of the Motion Model","text":"<p>Assuming that the vehicle is operating near the projection point on the road during tracking, we can linearize the model by performing a first-order Taylor expansion at the projection point. We have: $$ \\dot{x}=f(x_{ref},u_{ref})+\\frac{\\partial f(x,u)}{\\partial x}(x-x_{ref})+\\frac{\\partial f(x,u)}{\\partial u}(u-u_{ref})  \\tag{3.3} $$</p> <p>where</p>  \\[              \\frac{\\partial f(x,u)}{\\partial x} = \\begin{bmatrix} 0 &amp; vcos \\theta_{e}\\\\  0 &amp; 0 \\end{bmatrix}, \\frac{\\partial f(x,u)}{\\partial u} = \\begin{bmatrix} 0 \\\\ \\frac{2v}{Lcos^2 \\delta} \\end{bmatrix} \\tag{3.14} \\]  <p>Furthermore, let \\(A=\\frac{\\partial f(x,u)}{\\partial x}\\) and \\(B=\\frac{\\partial f(x,u)}{\\partial u}\\), then we have: $$ \\dot{x}=f(x_{ref},u_{ref})+A(x-x_{ref})+B(u-u_{ref}) \\tag{3.5} $$</p> <p>Thus, we have obtained the linearized state equation for a four-wheel steering vehicle.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#constructing-error-model","title":"Constructing Error Model","text":"<p>We can construct an error state equation at the reference point, which can be expressed as:</p>  \\[    \\begin{align*} \\dot{x}-\\dot{x}_{ref} &amp;= f(x_{ref},u_{ref})+A(x-x_{ref})+B(u-u_{ref}) - f(x_{ref},u_{ref}) \\\\ \\dot{\\bar{x}} &amp;= A\\bar{x} +B\\bar{u} \\end{align*}  \\tag{3.6} \\]  <p>where \\(\\dot{\\bar{x}}=\\dot{x}-\\dot{x}_{ref}\\)\uff0c\\(\\bar{x} = x-x_{ref}\\)\uff0c\\(\\bar{u} = u-u_{ref}\\)</p>"},{"location":"hands-on-Autoware/trajectory-follower/#discretization-of-error-model","title":"Discretization of Error Model","text":"<p>Discretizing equation (3.6), we obtain:</p>  \\[  \\bar{x}_{k+1}-\\bar{x}_k = A\\bar{x}_k + B\\bar{u}_k \\tag{3.7} \\]  <p>Simplifying the expression, we have: $$ \\bar{x}_{k+1} = (I+AT)\\bar{x}_k+BT\\bar{u}_k \\tag{3.8} $$</p> <p>Let's define \\(\\bar{A}=(I+AT)\\) and \\(\\bar{B}=BT\\). We can rewrite the equation as follows: $$ \\bar{x}_{k+1}=\\bar{A}\\bar{x}_k+\\bar{B}\\bar{u}_k \\tag{3.9} $$</p>"},{"location":"hands-on-Autoware/trajectory-follower/#model-prediction","title":"Model Prediction","text":"<p>To predict the future states of the vehicle, we need to perform model predictions. Assuming we want to predict the states for the next n steps, we have:</p>  \\[    \\begin{bmatrix} \\bar{x}_0 \\\\ \\bar{x}_1 \\\\ \\bar{x}_2 \\\\ \\bar{x}_3 \\\\ \\vdots \\\\ \\bar{x}_n\\end{bmatrix} = \\begin{bmatrix}I \\\\ \\bar{A} \\\\\\bar{A}^2 \\\\\\bar{A}^3 \\\\\\vdots\\\\\\bar{A}^n \\\\\\end{bmatrix}\\bar{x}_0 + \\begin{bmatrix}0 &amp; 0 &amp; 0 &amp; \\cdots &amp; 0 \\\\ \\bar{B} &amp; 0 &amp; 0 &amp; \\cdots &amp; 0\\\\\\bar{A}\\bar{B} &amp; \\bar{B} &amp; 0 &amp; \\cdots &amp; 0\\\\\\bar{A}^2\\bar{B} &amp; \\bar{A}\\bar{B} &amp; \\bar{B} &amp; \\cdots &amp; 0\\\\\\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots\\\\\\bar{A}^{n-1}\\bar{B} &amp; \\bar{A}^{n-2}\\bar{B} &amp; \\bar{A}^{n-3}\\bar{B} &amp; \\cdots &amp; \\bar{B}\\end{bmatrix}\\begin{bmatrix} \\bar{u}_0 \\\\ \\bar{u}_1 \\\\ \\bar{u}_2 \\\\ \\vdots \\\\ \\bar{u}_{n-1}\\end{bmatrix} \\tag{3.10} \\]  <p>Simplified, we can write it as: $$ \\tilde{X}=\\tilde{A}\\bar{x}_0+\\tilde{B}\\tilde{U} \\tag{3.11} $$</p>"},{"location":"hands-on-Autoware/trajectory-follower/#formulating-constrained-quadratic-programming-problem","title":"Formulating Constrained Quadratic Programming Problem","text":"<p>Our objective is to minimize a cost function while satisfying certain physical constraints. The goal is to minimize the errors between the current state sequence \\(\\bar{x}_i, i \\in [0, n]\\) and the desired state sequence \\(\\bar{x}_{i_{ref}}, i \\in [0, n]\\), as well as the predicted inputs \\(\\bar{u}_j, j \\in [0, n-1]\\).</p>  \\[  J = min\\sum_{i=0}^{n-1}((\\bar{x}_i-\\bar{x}_{i_{ref}})^\\mathrm{T}Q(\\bar{x}_i-\\bar{x}_{i_{ref}}) + \\bar{u}_{i}^\\mathrm{T}R\\bar{u}_{i}) + (\\bar{x}_n-\\bar{x}_{n_{ref}})^\\mathrm{T}F(\\bar{x}_n-\\bar{x}_{n_{ref}}) \\tag{3.12} \\]  <p>Since \\(\\bar{x}_i\\) represents the error state, it is evident that the desired error state is \\(\\bar{x}_{i_{ref}} = 0\\). Therefore, we can simplify the formulation as follows:</p>  \\[  J =\\text{min} \\begin{bmatrix} \\bar{x}_0 \\\\ \\bar{x}_1 \\\\ \\bar{x}_2 \\\\ \\bar{x}_3 \\\\ \\vdots \\\\ \\bar{x}_n \\end{bmatrix}^T \\begin{bmatrix} Q &amp; 0 &amp; 0 &amp; 0 &amp; \\cdots &amp; 0\\\\ 0 &amp; Q &amp; 0 &amp; 0 &amp; \\cdots &amp; 0 \\\\ 0 &amp; 0 &amp; Q &amp; 0 &amp; \\cdots &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; Q &amp; \\cdots &amp; 0 \\\\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; \\cdots &amp; F \\end{bmatrix} \\begin{bmatrix} \\bar{x}_0 \\\\ \\bar{x}_1 \\\\ \\bar{x}_2 \\\\ \\bar{x}_3 \\\\ \\vdots \\\\ \\bar{x}_n \\end{bmatrix} + \\begin{bmatrix} \\bar{u}_0  \\\\ \\bar{u}_1 \\\\ \\bar{u}_2 \\\\ \\vdots \\\\ \\bar{u}_{n-1} \\end{bmatrix}^T \\begin{bmatrix} R &amp; 0 &amp; 0 &amp; \\cdots &amp; 0 \\\\ 0 &amp; R &amp; 0 &amp; \\cdots &amp; 0 \\\\ 0 &amp; 0 &amp; R &amp; \\cdots &amp; 0 \\\\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ 0 &amp; 0 &amp; 0 &amp; \\cdots &amp; R\\end{bmatrix} \\begin{bmatrix} \\bar{u}_0  \\\\ \\bar{u}_1 \\\\ \\bar{u}_2 \\\\ \\vdots \\\\ \\bar{u}_{n-1} \\end{bmatrix} \\tag{3.13} \\]  <p>Simplified, we can write it as:</p>  \\[  \\begin{align*} J = \\text{min} \\quad &amp;  \\mathbf{\\tilde{X}}^\\top \\mathbf{\\tilde{Q}} \\mathbf{\\tilde{X}} + \\mathbf{\\tilde{U}}^\\top \\mathbf{\\tilde{R}} \\mathbf{\\tilde{U}}  \\end{align*} \\tag{3.14} \\]  <p>Now let's transform equation (3.14) into the following standard form:</p> \\[ \\begin{align*} \\text{minimize} \\quad &amp; \\frac{1}{2} \\mathbf{x}^\\top \\mathbf{H} \\mathbf{x} + \\mathbf{c}^\\top \\mathbf{x} \\\\ \\text{subject to} \\quad &amp; \\mathbf{A} \\mathbf{x} \\leq \\mathbf{b} \\\\ &amp; \\mathbf{G} \\mathbf{x} = \\mathbf{h} \\end{align*} \\] <p>Substituting equation (3.11) into equation (3.14) and expanding, we have:</p>  \\[  \\begin{align*} J &amp;= \\text{min} \\quad \\mathbf{\\bar{x}_0^\\top\\tilde{A}^\\top \\tilde{Q} \\tilde{A}\\bar{x}_0 +\\tilde{U}^\\top\\tilde{B}^\\top \\tilde{Q} \\tilde{B}\\tilde{U} + \\bar{x}_0^\\top\\tilde{A}^\\top \\tilde{Q} \\tilde{B}\\tilde{U} + \\tilde{U}^\\top\\tilde{B}^\\top \\tilde{Q} \\tilde{A}\\bar{x}_0 + \\tilde{U}^\\top\\tilde{R}\\tilde{U}} \\end{align*} \\tag{3.15} \\]  <p>Where \\(\\bar{x}_0^\\top \\tilde{A}^\\top \\tilde{Q} \\tilde{A} \\bar{x}_0\\) is only dependent on the initial state and can be considered as a constant \\(C\\), and \\(\\tilde{U}^\\top \\tilde{B}^\\top \\tilde{Q} \\tilde{A} \\bar{x}_0\\) is the transpose of \\(\\bar{x}_0^\\top \\tilde{A}^\\top \\tilde{Q} \\tilde{B} \\tilde{U}\\), and it is a 1x\\(n\\) dimensional vector. The sum of the two terms is \\(2 \\bar{x}_0^\\top \\tilde{A}^\\top \\tilde{Q} \\tilde{B} \\tilde{U}\\). Therefore, we can simplify the expression as follows:</p>  \\[  \\begin{align*} J &amp;= \\text{min} \\quad \\mathbf{ \\frac{1}{2} \\tilde{U}^\\top (\\tilde{B}^\\top \\tilde{Q} \\tilde{B} + \\tilde{R}) \\tilde{U} + \\bar{x}_0^\\top\\tilde{A}^\\top\\tilde{Q}\\tilde{B}\\tilde{U}} \\end{align*} \\tag{3.16} \\]  <p>Where \\(H = \\tilde{B}^\\top \\tilde{Q} \\tilde{B} + \\tilde{R}\\) and \\(c^\\top = \\bar{x}_0^\\top \\tilde{A}^\\top \\tilde{Q} \\tilde{B}\\). We can introduce inequality constraints on the predicted inputs. Therefore, we have:</p>  \\[  \\begin{aligned} &amp;min \\quad \\frac{1}{2} \\tilde{U}^\\top (\\tilde{B}^\\top \\tilde{Q} \\tilde{B} + \\tilde{R}) \\tilde{U} + \\bar{x}_0^\\top\\tilde{A}^\\top\\tilde{Q}\\tilde{B}\\tilde{U} \\\\ &amp;s.t. \\quad \\tilde{U}_{min} \\leq \\tilde{U} \\leq \\tilde{U}_{max}  \\end{aligned} \\tag{3.17} \\]  <p>The equation (3.17) can be solved using a solver, and the obtained optimal solution is directly used as the control signal for the vehicle, which is sent to the vehicle control unit to achieve lateral control of the vehicle.</p>"},{"location":"hands-on-Autoware/trajectory-follower/#references","title":"References","text":"<p>[1]: Rajamani, Rajesh. Vehicle dynamics and control. Springer Science &amp; Business Media, 2011. [2]: A. De Luca, G.Oriolo, and C. Samson.  Feedback control of anonholonomic car-like robot.  InRobot MotionPlanning and Control, pages 171\u2013249. 1998</p>"},{"location":"hands-on-Autoware/vehicle-interface/","title":"Pix Chassis Interface","text":""},{"location":"hands-on-Autoware/vehicle-interface/#pix-chassis-interface","title":"Pix Chassis Interface","text":""},{"location":"hands-on-Autoware/vehicle-interface/#overview","title":"Overview","text":"<p>Pixmoving chassis are driving-by-wire/DbW chassis, which are compatible with self-driving systems. We had designed an interface for Autoware.universe.</p>"},{"location":"hands-on-Autoware/vehicle-interface/#notice","title":"Notice","text":"<p>For the source code, please refer to pix_driver.</p> <p>Before you can use the interface, make sure you have already installed and launched ros2_socketcan in your workspace.</p>"},{"location":"hands-on-Autoware/vehicle-interface/#role","title":"Role","text":"<p>There are three main functions for Pix Chasssis Interface:</p> <ul> <li>Translation between CAN frames and pix_hooke_driver_msgs</li> <li>Conversion of Autoware commands to pix_hooke_driver_msgs</li> <li>Conversion of vehicle status in pix_hooke_driver_msgs to Autoware messages</li> </ul>"},{"location":"hands-on-Autoware/vehicle-interface/#software-design","title":"Software Design","text":""},{"location":"hands-on-Autoware/vehicle-interface/#control-command-node","title":"Control Command Node","text":""},{"location":"hands-on-Autoware/vehicle-interface/#input","title":"Input","text":""},{"location":"hands-on-Autoware/vehicle-interface/#the-input-to-control-command-node","title":"The input to Control Command Node","text":"Input Topic(Data Type) Explanation autonomous driving to vehicle drive control <code>/pix_hooke/a2v_drivectrl_130</code>(pix_hooke_driver_msgs/msg/A2vDriveCtrl) A2vDriveCtrl autonomous driving to vehicle brake control <code>/pix_hooke/a2v_brakectrl_131</code>(pix_hooke_driver_msgs/msg/A2vBrakeCtrl) A2vBrakeCtrl autonomous driving to vehicle steering control <code>/pix_hooke/a2v_steerctrl_132</code>(pix_hooke_driver_msgs/msg/A2vSteerCtrl) A2vSteerCtrl autonomous driving to vehicle control <code>/pix_hooke/a2v_vehiclectrl_133</code>(pix_hooke_driver_msgs/msg/A2vVehicleCtrl) A2vVehicleCtrl autonomous driving to vehicle motor control <code>/pix_hooke/a2v_wheelctrl_135</code>(pix_hooke_driver_msgs/msg/A2vWheelCtrl) A2vWheelCtrl"},{"location":"hands-on-Autoware/vehicle-interface/#a2vdrivectrl","title":"A2vDriveCtrl","text":"<p>The detailed contents in <code>A2vDriveCtrl(self-driving to vehicle drive control)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header acu_chassis_driver_en_ctrl std_msgs/int8 enable/disable longitudinal acceleration contrl <code>{0: 'ACU_CHASSISDRIVERENCTRL_DISABLE', 1: 'ACU_CHASSISDRIVERENCTRL_ENABLE'}</code> acu_chassis_driver_mode_ctrl std_msgs/int8 target control mode <code>{0: 'ACU_CHASSISDRIVERMODECTRL_SPEED_CTRL_MODE', 1: 'ACU_CHASSISDRIVERMODECTRL_THROTTLE_CTRL_MODE', 2: 'ACU_CHASSISDRIVERMODECTRL_RESERVE', 3: 'ACU_CHASSISDRIVERMODECTRL_RESERVE'}</code> acu_chassis_gear_ctrl std_msgs/int8 target gear <code>{0: 'ACU_CHASSISGEARCTRL_DEFAULT_N', 1: 'ACU_CHASSISGEARCTRL_D', 2: 'ACU_CHASSISGEARCTRL_N', 3: 'ACU_CHASSISGEARCTRL_R'}</code> acu_chassis_speed_ctrl std_msgs/float32 Target velocity [m/s] acu_chassis_throttle_pdl_target std_msgs/float32 target accel pedal value <code>0.0-100.0</code>"},{"location":"hands-on-Autoware/vehicle-interface/#a2vbrakectrl","title":"A2vBrakeCtrl","text":"<p>The detailed contents in <code>A2vBrakeCtrl(self-driving to vehicle brake control)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header acu_chassis_brake_en std_msgs/int8 enable/disable longitudinal deacceleration contrl <code>0: 'ACU_CHASSISBRAKEEN_DISABLE', 1: 'ACU_CHASSISBRAKEEN_ENABLE'</code> acu_chassis_aeb_ctrl std_msgs/int8 enable/disable AEB <code>0: 'ACU_CHASSISAEBCTRL_DISABLE', 1: 'ACU_CHASSISAEBCTRL_ENABLE'</code> acu_chassis_brake_pdl_target std_msgs/float32 target brake pedal value <code>0.0-100.0</code> acu_chassis_epb_ctrl std_msgs/int8 parking brake control <code>0: 'ACU_CHASSISEPBCTRL_DEFAULT', 1: 'ACU_CHASSISEPBCTRL_BRAKE', 2: 'ACU_CHASSISEPBCTRL_RELEASE'</code>"},{"location":"hands-on-Autoware/vehicle-interface/#a2vsteerctrl","title":"A2vSteerCtrl","text":"<p>The detailed contents in <code>A2vSteerCtrl(self-driving to vehicle steering control)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header acu_chassis_steer_en_ctrl std_msgs/int8 enable/disable lateral/steering contrl <code>{0: 'ACU_CHASSISSTEERENCTRL_DISABLE', 1: 'ACU_CHASSISSTEERENCTRL_ENABLE'}</code> acu_chassis_steer_mode_ctrl std_msgs/int8 steering mode <code>{0: 'ACU_CHASSISSTEERMODECTRL_FRONT_ACKERMAN', 1: 'ACU_CHASSISSTEERMODECTRL_SAME_FRONT_AND_BACK', 2: 'ACU_CHASSISSTEERMODECTRL_FRONT_DIFFERENT_BACK', 3: 'ACU_CHASSISSTEERMODECTRL_BACK_ACKRMAN', 4: 'ACU_CHASSISSTEERMODECTRL_FRONT_BACK'}</code> acu_chassis_steer_angle_target std_msgs/int32 target steering angle, <code>-500=500 left to right</code>. When <code>ACU_ChassisSteerModeCtrl=ACU_CHASSISSTEERMODECTRL_FRONT_BACK</code>, <code>ACU_ChassisSteerAngleTarget</code> can only control front wheels acu_chassis_steer_angle_rear_target std_msgs/int32 target rear steering angle. <code>-500-500</code>. Works only when <code>ACU_ChassisSteerModeCtrl=ACU_CHASSISSTEERMODECTRL_FRONT_BACK</code> acu_chassis_steer_angle_speed_ctrl std_msgs/float32 target steering speed <code>0-500</code>"},{"location":"hands-on-Autoware/vehicle-interface/#a2vvehiclectrl","title":"A2vVehicleCtrl","text":"<p>The detailed contents in <code>A2vVehicleCtrl(self-driving to vehicle Vehicle Control)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header acu_vehicle_pos_lamp_ctrl std_msgs/int8 positioning lamp contorl <code>{0: 'ACU_VEHICLEPOSLAMPCTRL_OFF', 1: 'ACU_VEHICLEPOSLAMPCTRL_ON'}</code> acu_vehicle_head_lamp_ctrl std_msgs/int8 head lamp control <code>{0: 'ACU_VEHICLEHEADLAMPCTRL_OFF', 1: 'ACU_VEHICLEHEADLAMPCTRL_ON'}</code> acu_vehicle_left_lamp_ctrl std_msgs/int8 left lamp control <code>{0: 'ACU_VEHICLELEFTLAMPCTRL_OFF', 1: 'ACU_VEHICLELEFTLAMPCTRL_ON'}</code> acu_vehicle_right_lamp_ctrl std_msgs/int8 right lamp control <code>{0: 'ACU_VEHICLERIGHTLAMPCTRL_OFF', 1: 'ACU_VEHICLERIGHTLAMPCTRL_ON'}</code> acu_vehicl_high_beam_ctrl std_msgs/int8 vehicle high beam control <code>{0: 'ACU_VEHICLEHIGHBEAMCTRL_OFF', 1: 'ACU_VEHICLEHIGHBEAMCTRL_ON'}</code> acu_vehicle_fog_lamp_ctrl std_msgs/int8 fog lamp control <code>{0: 'ACU_VEHICLEFOGLAMPCTRL_OFF', 1: 'ACU_VEHICLEFOGLAMPCTRL_ON'}</code> acu_vehicle_body_light_crtl std_msgs/int8 body light control <code>{0: 'ACU_VEHICLEBODYLIGHTCTRL_OFF', 1: 'ACU_VEHICLEBODYLIGHTCTRL_ON'}</code> acu_vehicle_read_light_crtl std_msgs/int8 reading light control (reserved) <code>{0: 'ACU_VEHICLEREADLIGHTCTRL_OFF', 1: 'ACU_VEHICLEREADLIGHTCTRL_ON'}</code> acu_vehicle_voice std_msgs/int8 vehicle voice control (reserved) <code>{0: 'ACU_VEHICLEVOICE_OFF', 1: 'ACU_VEHICLEVOICE_TURN_LEFT', 2: 'ACU_VEHICLEVOICE_TURN_RIGHT', 3: 'ACU_VEHICLEVOICE_BACKWARD'}</code> acu_vehicle_wipers_crtl std_msgs/int8 wipers control (reserved) <code>{0: 'ACU_VEHICLEWIPERSCTRL_OFF', 1: 'ACU_VEHICLEWIPERSCTRL_LOW', 2: 'ACU_VEHICLEWIPERSCTRL_MID', 3: 'ACU_VEHICLEWIPERSCTRL_HIGH'}</code> acu_vehicle_door_crtl std_msgs/int8 door control (reserved) <code>{0: 'ACU_VEHICLEDOORCTRL_DEFAULT', 1: 'ACU_VEHICLEDOORCTRL_CLOSE', 2: 'ACU_VEHICLEDOORCTRL_OPEN'}</code> acu_vehicle_window_crtl std_msgs/int8 window control (reserved) <code>{0: 'ACU_VEHICLEWINDOWCTRL_DEFAULT', 1: 'ACU_VEHICLEWINDOWCTRL_CLOSE', 2: 'ACU_VEHICLEWINDOWCTRL_OPEN'}</code> acu_chassis_speed_limite_mode std_msgs/int8 speed limit model <code>{0: 'ACU_CHASSISSPEEDLIMITEMODE_DEFAULT', 1: 'ACU_CHASSISSPEEDLIMITEMODE_LIMIT'}</code> acu_chassis_speed_limite_val std_msgs/int32 velocity limit control <code>m/s</code>"},{"location":"hands-on-Autoware/vehicle-interface/#a2vwheelctrl","title":"A2vWheelCtrl","text":"<p>The detailed contents in <code>A2vWheelCtrl(self-driving to vehicle motor control)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header acu_motor_torque_lf_crtl std_smgs/float32 left front motor torque control [Nm] <code>-200.0-200.0</code> acu_motor_torque_rf_crtl std_smgs/float32 right front motor torque control [Nm] <code>-200.0-200.0</code> acu_motor_torque_lr_crtl std_smgs/float32 left rear motor torque control [Nm] <code>-200.0-200.0</code> acu_motor_torque_rr_crtl std_smgs/float32 right rear motor torque control [Nm] <code>-200.0-200.0</code>"},{"location":"hands-on-Autoware/vehicle-interface/#output","title":"Output","text":"<p>The ouputs of <code>Control Command Node</code> are can_msgs/Frame to Socket CAN Interface.</p> Output (to Autoware) Topic(Data Type) Explanation can frame <code>/to_can_bus</code>(can_msgs/msg/Frame) control command in CAN Frams"},{"location":"hands-on-Autoware/vehicle-interface/#report-parser-node","title":"Report Parser Node","text":""},{"location":"hands-on-Autoware/vehicle-interface/#input_1","title":"Input","text":"<p>The inputs of <code>Report Parser Node</code> are can_msgs/Frame from Socket CAN Interface.</p> Input (from SocketCAN Interface) Topic(Data Type) Explanation can frame <code>/from_can_bus</code>(can_msgs/msg/Frame) control command in CAN Frams"},{"location":"hands-on-Autoware/vehicle-interface/#output_1","title":"Output","text":"<p>The outputs of Report Parser Node</p> Output Topic(Data Type) Explanation vehicle to autonomous driving drive status feedback <code>/pix_hooke/v2a_drivestafb</code>(pix_hooke_driver_msgs/msg/V2aDriveStaFb) V2aDriveStaFb vehicle to autonomous driving brake status feedback <code>/pix_hooke/v2a_brakestafb</code>(pix_hooke_driver_msgs/msg/V2aBrakeStaFb) V2aBrakeStaFb vehicle to autonomous driving steering status feedback <code>/pix_hooke/v2a_steerstafb</code>(pix_hooke_driver_msgs/msg/V2aSteerStaFb) V2aSteerStaFb vehicle to autonomous driving vehicle working status feedback <code>/pix_hooke/v2a_vehicleworkstafb</code>(pix_hooke_driver_msgs/msg/V2aVehicleWorkStaFb) V2aVehicleWorkStaFb vehicle to autonomous driving power status feedback <code>/pix_hooke/v2a_powerstafb</code>(pix_hooke_driver_msgs/msg/V2aPowerStaFb) V2aPowerStaFb vehicle to autonomous driving vehicle status feedback <code>/pix_hooke/v2a_vehiclestafb</code>(pix_hooke_driver_msgs/msg/V2aVehicleStaFb) V2aVehicleStaFb vehicle to autonomous driving vehicle fault status feedback <code>/pix_hooke/v2a_vehiclefltsta</code>(pix_hooke_driver_msgs/msg/V2aVehicleFltSta) V2aVehicleFltSta vehicle to autonomous driving chassis wheel speed feedback <code>/pix_hooke/v2a_chassiswheelrpmfb</code>(pix_hooke_driver_msgs/msg/V2aChassisWheelRpmFb) V2aChassisWheelRpmFb vehicle to autonomous driving tire pressure feedback <code>/pix_hooke/v2a_chassiswheeltirepressfb</code>(pix_hooke_driver_msgs/msg/V2aChassisWheelTirePressFb) V2aChassisWheelTirePressFb vehicle to autonomous driving wheel angle feedback <code>/pix_hooke/v2a_chassiswheelanglefb</code>(pix_hooke_driver_msgs/msg/V2aChassisWheelAngleFb) V2aChassisWheelAngleFb"},{"location":"hands-on-Autoware/vehicle-interface/#v2adrivestafb","title":"V2aDriveStaFb","text":"<p>The detailed contents in <code>V2aDriveStaFb(vehicle to autonomous driving status feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_driver_en_sta std_msgs/int8 drive enable status feedback <code>{0: 'VCU_CHASSISDRIVERENSTA_DISABLE', 1: 'VCU_CHASSISDRIVERENSTA_ENABLE'}</code> vcu_chassis_diver_slopover std_msgs/int8 drive Slop-over status feedback  <code>{0: 'VCU_CHASSISDIVERSLOPOVER_NORMAL', 1: 'VCU_CHASSISDIVERSLOPOVER_OVER_SLOP'}</code> vcu_chassis_driver_mode_sta std_msgs/int8 drive mode feedback <code>{0: 'VCU_CHASSISDRIVERMODESTA_SPEED_CTRL_MODE', 1: 'VCU_CHASSISDRIVERMODESTA_THROTTLE_CTRL_MODE', 2: 'VCU_CHASSISDRIVERMODESTA_RESERVE', 3: 'VCU_CHASSISDRIVERMODESTA_RESERVE'}</code> vcu_chassis_gear_fb std_msgs/int8 gear feedback <code>{0: 'VCU_CHASSISGEARFB_NO_USE', 1: 'VCU_CHASSISGEARFB_D', 2: 'VCU_CHASSISGEARFB_N', 3: 'VCU_CHASSISGEARFB_R'}</code> vcu_chassis_speed_fb std_msgs/float32 speed feedback [m/s] <code>-50.0-50.0</code> vcu_chassis_throttle_padl_fb std_msgs/float32 pedal value feedback <code>0.0-100.0</code> vcu_chassis_accceleration_fb std_msgs/float32 target accel pedal value [m/s2] <code>-20.0-20.0</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2abrakestafb","title":"V2aBrakeStaFb","text":"<p>The detailed contents in <code>V2aBrakeStaFb(vehicle to autonomous driving braking status feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_brake_en_sta std_msgs/int8 braking enable status feedback <code>{0: 'VCU_CHASSISBRAKEENSTA_DISABLE', 1: 'VCU_CHASSISBRAKEENSTA_ENABLE'}</code> vcu_vehicle_brake_lamp_fb std_msgs/int8 braking lamp status feedback  <code>{0: 'VCU_VEHICLEBRAKELAMPFB_OFF', 1: 'VCU_VEHICLEBRAKELAMPFB_ON'}</code> vcu_chassis_epb_fb std_msgs/int8 EPB/Parking Brake status feedback <code>{0: 'VCU_CHASSISEPBFB_RELEASE', 1: 'VCU_CHASSISEPBFB_BRAKE', 2: 'VCU_CHASSISEPBFB_RELEASING', 3: 'VCU_CHASSISEPBFB_BRAKING'}</code> vcu_chassis_brake_padl_fb std_msgs/float32 braking pedal value feedback <code>0-100</code> vcu_aeb_en_sta_fb std_msgs/int8 AEB enable status feedback <code>{0: 'VCU_AEBENSTAFB_OFF', 1: 'VCU_AEBENSTAFB_ON'}</code> vcu_aeb_trigger_sta_fb std_msgs/int8 AEB triggered status feedback <code>{0: 'VCU_AEBTRIGGERSTAFB_OFF', 1: 'VCU_AEBTRIGGERSTAFB_AEB_TRIGGER'}</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2asteerstafb","title":"V2aSteerStaFb","text":"<p>The detailed contents in <code>V2aSteerStaFb(vehicle to autonomous driving steering status feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_steer_en_sta std_msgs/int8 steering control enable status feedback <code>{0: 'VCU_CHASSISSTEERENSTA_DISABLE', 1: 'VCU_CHASSISSTEERENSTA_ENABLE'}</code> vcu_chassis_steer_slopover std_msgs/int8 steering slop-over status feedback <code>{0: 'VCU_CHASSISSTEERSLOPOVER_NORMAL', 1: 'VCU_CHASSISSTEERSLOPOVER_OVER_SLOP'}</code> vcu_chassis_steer_work_mode std_msgs/int8 steering work mode feedback <code>{0: 'VCU_CHASSISSTEERWORKMODE_MACHINE', 1: 'VCU_CHASSISSTEERWORKMODE_WIRE', 2: 'VCU_CHASSISSTEERWORKMODE_POWER'}</code> vcu_chassis_steer_mode_fb std_msgs/int8 steering mode feedback <code>{0: 'VCU_CHASSISSTEERMODEFB_FRONT_ACKERMAN', 1: 'VCU_CHASSISSTEERMODEFB_SAME_FRONT_AND_BACK', 2: 'VCU_CHASSISSTEERMODEFB_FRONT_DIFFERENT_BACK', 3: 'VCU_CHASSISSTEERMODEFB_BACK_ACKRMAN', 4: 'VCU_CHASSISSTEERMODEFB_FRONT_BACK'}</code> vcu_chassis_steer_angle_fb std_msgs/int32 steering angle of front steering wheel [deg] <code>-500-500</code> vcu_chassis_steer_angle_rear_fb std_msgs/int32 steering angle of rear steering wheel [deg] <code>-500-500</code> vcu_chassis_steer_angle_speed_fb std_msgs/float32 angular speed of steering wheel [deg/s] <code>0-500</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2avehicleworkstafb","title":"V2aVehicleWorkStaFb","text":"<p>The detailed contents in <code>V2aVehicleWorkStaFb(vehicle to autonomous driving vehicle work status feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_driving_mode_fb std_msgs/int8 vcu driving mode feedback <code>{0: 'VCU_DRIVINGMODEFB_STANDBY', 1: 'VCU_DRIVINGMODEFB_SELF_DRIVING', 2: 'VCU_DRIVINGMODEFB_REMOTE', 3: 'VCU_DRIVINGMODEFB_MAN'}</code> vcu_chassis_power_sta_fb std_msgs/int8 power status feedback <code>{0: 'VCU_CHASSISPOWERSTAFB_INIT', 1: 'VCU_CHASSISPOWERSTAFB_ON_ACC', 2: 'VCU_CHASSISPOWERSTAFB_READY', 3: 'VCU_CHASSISPOWERSTAFB_OFF'}</code> vcu_chassis_power_dc_sta std_msgs/int8 DC working status feedback <code>{0: 'VCU_CHASSISPOWERDCSTA_OFF', 1: 'VCU_CHASSISPOWERDCSTA_ON', 2: 'VCU_CHASSISPOWERDCSTA_STANDBY'}</code> vcu_chassis_speed_limited_mode_fb std_msgs/int8 speed limit mode status feedback <code>{0: 'VCU_CHASSISSPEEDLIMITEDMODEFB_DEFAULT', 1: 'VCU_CHASSISSPEEDLIMITEDMODEFB_LIMIT'}</code> vcu_chassis_power_limite_sta std_msgs/int8 power limit status feedback <code>{0: 'VCU_CHASSISPOWERLIMITESTA_DEFAULT', 1: 'VCU_CHASSISPOWERLIMITESTA_LIMIT'}</code> vcu_sys_eco_mode std_msgs/int8 Eco mode feedback <code>{0: 'VCU_SYSECOMODE_DEFAULT', 1: 'VCU_SYSECOMODE_ECO', 2: 'VCU_SYSECOMODE_SPORT'}</code> vcu_chassis_speed_limited_val_fb std_msgs/float32 speed limit feedback [m/s] <code>0.0-50.0</code> vcu_chassis_low_power_volt_sta std_msgs/float32 low-voltage/small battery voltage status feedback [V] <code>0-25</code> vcu_chassis_e_stop_sta_fb std_msgs/int8 E-stop status feedback <code>{0: 'VCU_CHASSISESTOPSTAFB_NO', 1: 'VCU_CHASSISESTOPSTAFB_CHASSIS_ESTOP', 2: 'VCU_CHASSISESTOPSTAFB_REMOTE_ESTOP', 3: 'VCU_CHASSISESTOPSTAFB_CHASSIS_ERR_ESTOP'}</code> vcu_crash_front_sta std_msgs/int8 front crash status feedback <code>{0: 'VCU_CRASHFRONTSTA_OFF', 1: 'VCU_CRASHFRONTSTA_COLLIDE'}</code> vcu_crash_rear_sta std_msgs/int8 rear crash status feedback <code>{0: 'VCU_CRASHREARSTA_OFF', 1: 'VCU_CRASHREARSTA_COLLIDE'}</code> vcu_crash_left_sta std_msgs/int8 left crash status feedback <code>{0: 'VCU_CRASHLEFTSTA_OFF', 1: 'VCU_CRASHLEFTSTA_COLLIDE'}</code> vcu_crash_right_sta std_msgs/int8 right crash status feedback <code>{0: 'VCU_CRASHLEFTSTA_OFF', 1: 'VCU_CRASHLEFTSTA_COLLIDE'}</code> vcu_life std_msgs/int32 life cycle count <code>0-255</code> vcu_check_sum std_msgs/int32 check sum"},{"location":"hands-on-Autoware/vehicle-interface/#v2apowerstafb","title":"V2aPowerStaFb","text":"<p>The detailed contents in <code>V2aPowerStaFb(vehicle to autonomous driving power status feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_bms_reserved_1 std_msgs/int32 reserved position vcu_chassis_power_charge_sta std_msgs/int8 charging status feedback <code>{0: 'VCU_CHASSISPOWERCHARGESTA_NO_CHARGE', 1: 'VCU_CHASSISPOWERCHARGESTA_CHARGE', 2: 'VCU_CHASSISPOWERCHARGESTA_CHARGE_FULL'}</code> vcu_chassis_power_charge_sock_sta std_msgs/int8 charging socket status feedback <code>{0: 'VCU_CHASSISPOWERCHARGESOCKSTA_NO_CONNECT', 1: 'VCU_CHASSISPOWERCHARGESOCKSTA_CONNECT'}</code> vcu_chassis_power_soc_fb std_msgs/int32 power battery SOC feedback [%] <code>0-100</code> vcu_chassis_power_volt_fb std_msgs/float32 power battery voltage feedback [V] <code>0.0-1000.0</code> vcu_chassis_power_curr_fb std_msgs/float32 power battery current feedback [A] <code>-1000.0-1000.0</code> vcu_chassis_bms_max_temp std_msgs/int32 BMX max temperature feedback [\u00b0C] <code>-40-80</code> vcu_chassis_bms_reserved_2 std_msgs/int32 reserved position"},{"location":"hands-on-Autoware/vehicle-interface/#v2avehiclestafb","title":"V2aVehicleStaFb","text":"<p>The detailed contents in <code>V2aVehicleStaFb(vehicle to autonomous driving vehicle status feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_vehicle_pos_lamp_fb std_msgs/int8 Positioning lamp feedback <code>{0: 'VCU_VEHICLEPOSLAMPFB_OFF', 1: 'VCU_VEHICLEPOSLAMPFB_ON'}</code> vcu_vehicle_head_lamp_fb std_msgs/int8 head lamp feedback <code>{0: 'VCU_VEHICLEHEADLAMPFB_OFF', 1: 'VCU_VEHICLEHEADLAMPFB_ON'}</code> vcu_vehicle_left_lamp_fb std_msgs/int8 left lamp feedback <code>{0: 'VCU_VEHICLELEFTLAMPFB_OFF', 1: 'VCU_VEHICLELEFTLAMPFB_ON'}</code> vcu_vehicle_right_lamp_fb std_msgs/int8 right lamp feedback <code>{0: 'VCU_VEHICLERIGHTLAMPFB_OFF', 1: 'VCU_VEHICLERIGHTLAMPFB_ON'}</code> vcu_vehicle_high_beam_fb std_msgs/int8 high beam feedback <code>{0: 'VCU_VEHICLEHIGHBEAMFB_OFF', 1: 'VCU_VEHICLEHIGHBEAMFB_ON'}</code> vcu_vehicle_fog_lamp_fb std_msgs/int8 fog lamp feedback <code>{0: 'VCU_VEHICLEFOGLAMPFB_OFF', 1: 'VCU_VEHICLEFOGLAMPFB_ON'}</code> vcu_vehicle_hazard_war_lamp_fb std_msgs/int8 hazard warning lamp feedback <code>{0: 'VCU_VEHICLEHAZARDWARLAMPFB_OFF', 1: 'VCU_VEHICLEHAZARDWARLAMPFB_ON'}</code> vcu_vehicle_body_lamp_fb std_msgs/int8 body lamp feedback <code>{0: 'VCU_VEHICLEBODYLAMPFB_OFF', 1: 'VCU_VEHICLEBODYLAMPFB_ON'}</code> vcu_vehicle_read_lamp_fb std_msgs/int8 reading lamp feedback <code>{0: 'VCU_VEHICLEREADLAMPFB_OFF', 1: 'VCU_VEHICLEREADLAMPFB_ON'}</code> acu_vehicle_window_fb std_msgs/int8 window feedback <code>{0: 'ACU_VEHICLEWINDOWFB_INVALID', 1: 'ACU_VEHICLEWINDOWFB_OPENING', 2: 'ACU_VEHICLEWINDOWFB_CLOSING', 3: 'ACU_VEHICLEWINDOWFB_OPEN_INPLACE', 4: 'ACU_VEHICLEWINDOWFB_CLOSE_INPLACE', 5: 'ACU_VEHICLEWINDOWFB_OPEN_TIMEOUT', 6: 'ACU_VEHICLEWINDOWFB_CLOSE_TIMEOUT'}</code> vcu_vehicle_door_sta_fb std_msgs/int8 door status feedback <code>{0: 'VCU_VEHICLEDOORSTAFB_INVALID', 1: 'VCU_VEHICLEDOORSTAFB_OPENING', 2: 'VCU_VEHICLEDOORSTAFB_CLOSING', 3: 'VCU_VEHICLEDOORSTAFB_OPEN_INPLACE', 4: 'VCU_VEHICLEDOORSTAFB_CLOSE_INPLACE', 5: 'VCU_VEHICLEDOORSTAFB_OPEN_TIMEOUT', 6: 'VCU_VEHICLEDOORSTAFB_CLOSE_TIMEOUT'}</code> vcu_vehicle_wipers_sta_fb std_msgs/int8 wiper status feedback <code>{0: 'VCU_VEHICLEWIPERSSTAFB_OFF', 1: 'VCU_VEHICLEWIPERSSTAFB_LOW', 2: 'VCU_VEHICLEWIPERSSTAFB_MID', 3: 'VCU_VEHICLEWIPERSSTAFB_HIGH'}</code> vcu_vehicle_safety_belt_1 std_msgs/int8 safty belt 1 feedback <code>{0: 'VCU_VEHICLESAFETYBELT1_NO', 1: 'VCU_VEHICLESAFETYBELT1_SIT', 2: 'VCU_VEHICLESAFETYBELT1_SAFETYBELT', 3: 'VCU_VEHICLESAFETYBELT1_UNKNOW_SENSOR_ERROR'}</code> vcu_vehicle_safety_belt_2 std_msgs/int8 safty belt 2 feedback <code>{0: 'VCU_VEHICLESAFETYBELT2_NO', 1: 'VCU_VEHICLESAFETYBELT2_SIT', 2: 'VCU_VEHICLESAFETYBELT2_SAFETYBELT', 3: 'VCU_VEHICLESAFETYBELT2_UNKNOW_SENSOR_ERROR'}</code> vcu_vehicle_safety_belt_3 std_msgs/int8 safty belt 3 feedback <code>{0: 'VCU_VEHICLESAFETYBELT3_NO', 1: 'VCU_VEHICLESAFETYBELT3_SIT', 2: 'VCU_VEHICLESAFETYBELT3_SAFETYBELT', 3: 'VCU_VEHICLESAFETYBELT3_UNKNOW_SENSOR_ERROR'}</code> vcu_vehicle_safety_belt_4 std_msgs/int8 safty belt 4 feedback <code>{0: 'VCU_VEHICLESAFETYBELT4_NO', 1: 'VCU_VEHICLESAFETYBELT4_SIT', 2: 'VCU_VEHICLESAFETYBELT4_SAFETYBELT', 3: 'VCU_VEHICLESAFETYBELT4_UNKNOW_SENSOR_ERROR'}</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2avehiclefltsta","title":"V2aVehicleFltSta","text":"<p>The detailed contents in <code>V2aVehicleFltSta(vehicle to autonomous driving vehicle fault feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_sys_motor_over_temp_sta std_msgs/int8 motor system over-temperature status <code>{0: 'VCU_SYSMOTOROVERTEMPSTA_NORMAL', 1: 'VCU_SYSMOTOROVERTEMPSTA_OVER_TEMP'}</code> vcu_sys_bms_over_temp_sta std_msgs/int8 BMS over-temperature status <code>{0: 'VCU_SYSBMSOVERTEMPSTA_NORMAL', 1: 'VCU_SYSBMSOVERTEMPSTA_OVER_TEMP'}</code> vcu_sys_brake_over_temp_sta std_msgs/int8 braking system over-temperature status <code>{0: 'VCU_SYSBRAKEOVERTEMPSTA_NORMAL', 1: 'VCU_SYSBRAKEOVERTEMPSTA_OVER_TEMP'}</code> vcu_sys_steer_over_temp_sta std_msgs/int8 steering system over-temperature status <code>{0: 'VCU_SYSSTEEROVERTEMPSTA_NORMAL', 1: 'VCU_SYSSTEEROVERTEMPSTA_OVER_TEMP'}</code> vcu_sys_under_volt std_msgs/int8 battery low-voltage status <code>{0: 'VCU_SYSUNDERVOLT_NORMAL', 1: 'VCU_SYSUNDERVOLT_UNDER_VOLT'}</code> vcu_sys_flt std_msgs/int8 system fault <code>{0: 'VCU_SYSFLT_NORMAL', 1: 'VCU_SYSFLT_FAULT_LEVEL_1', 2: 'VCU_SYSFLT_FAULT_LEVEL_2', 3: 'VCU_SYSFLT_FAULT_LEVEL_3', 4: 'VCU_SYSFLT_FAULT_LEVEL_4'}</code> vcu_sys_brake_flt std_msgs/int8 braking system fault <code>{0: 'VCU_SYSBRAKEFLT_NORMAL', 1: 'VCU_SYSBRAKEFLT_FAULT_LEVEL_1', 2: 'VCU_SYSBRAKEFLT_FAULT_LEVEL_2', 3: 'VCU_SYSBRAKEFLT_FAULT_LEVEL_3', 4: 'VCU_SYSBRAKEFLT_FAULT_LEVEL_4'}</code> vcu_sys_parking_flt std_msgs/int8 parking brake fault <code>{0: 'VCU_SYSPARKINGFLT_NORMAL', 1: 'VCU_SYSPARKINGFLT_FAULT_LEVEL_1', 2: 'VCU_SYSPARKINGFLT_FAULT_LEVEL_2', 3: 'VCU_SYSPARKINGFLT_FAULT_LEVEL_3', 4: 'VCU_SYSPARKINGFLT_FAULT_LEVEL_4'}</code> vcu_sys_steer_front_flt std_msgs/int8 front steering system fault <code>{0: 'VCU_SYSSTEERFRONTFLT_NORMAL', 1: 'VCU_SYSSTEERFRONTFLT_FAULT_LEVEL_1', 2: 'VCU_SYSSTEERFRONTFLT_FAULT_LEVEL_2', 3: 'VCU_SYSSTEERFRONTFLT_FAULT_LEVEL_3', 4: 'VCU_SYSSTEERFRONTFLT_FAULT_LEVEL_4'}</code> vcu_sys_steer_back_flt std_msgs/int8 rear steering system fault <code>{0: 'VCU_SYSSTEERBACKFLT_NORMAL', 1: 'VCU_SYSSTEERBACKFLT_FAULT_LEVEL_1', 2: 'VCU_SYSSTEERBACKFLT_FAULT_LEVEL_2', 3: 'VCU_SYSSTEERBACKFLT_FAULT_LEVEL_3', 4: 'VCU_SYSSTEERBACKFLT_FAULT_LEVEL_4'}</code> vcu_sys_motor_lf_flt std_msgs/int8 left front motor fault <code>{0: 'VCU_SYSMOTORLFFLT_NORMAL', 1: 'VCU_SYSMOTORLFFLT_FAULT_LEVEL_1', 2: 'VCU_SYSMOTORLFFLT_FAULT_LEVEL_2', 3: 'VCU_SYSMOTORLFFLT_FAULT_LEVEL_3', 4: 'VCU_SYSMOTORLFFLT_FAULT_LEVEL_4'}</code> vcu_sys_motor_rf_flt std_msgs/int8 right front motor fault <code>{0: 'VCU_SYSMOTORRFFLT_NORMAL', 1: 'VCU_SYSMOTORRFFLT_FAULT_LEVEL_1', 2: 'VCU_SYSMOTORRFFLT_FAULT_LEVEL_2', 3: 'VCU_SYSMOTORRFFLT_FAULT_LEVEL_3', 4: 'VCU_SYSMOTORRFFLT_FAULT_LEVEL_4'}</code> vcu_sys_motor_lr_flt std_msgs/int8 left rear motor fault <code>{0: 'VCU_SYSMOTORLRFLT_NORMAL', 1: 'VCU_SYSMOTORLRFLT_FAULT_LEVEL_1', 2: 'VCU_SYSMOTORLRFLT_FAULT_LEVEL_2', 3: 'VCU_SYSMOTORLRFLT_FAULT_LEVEL_3', 4: 'VCU_SYSMOTORLRFLT_FAULT_LEVEL_4'}</code> vcu_sys_motor_rr_flt std_msgs/int8 right rear motor fault <code>{0: 'VCU_SYSMOTORRRFLT_NORMAL', 1: 'VCU_SYSMOTORRRFLT_FAULT_LEVEL_1', 2: 'VCU_SYSMOTORRRFLT_FAULT_LEVEL_2', 3: 'VCU_SYSMOTORRRFLT_FAULT_LEVEL_3', 4: 'VCU_SYSMOTORRRFLT_FAULT_LEVEL_4'}</code> vcu_sys_bms_flt std_msgs/int8 BMS fault <code>{0: 'VCU_SYSBMSFLT_NORMAL', 1: 'VCU_SYSBMSFLT_FAULT_LEVEL_1', 2: 'VCU_SYSBMSFLT_FAULT_LEVEL_2', 3: 'VCU_SYSBMSFLT_FAULT_LEVEL_3', 4: 'VCU_SYSBMSFLT_FAULT_LEVEL_4'}</code> vcu_sys_dc_flt std_msgs/int8 DC system fault <code>{0: 'VCU_SYSDCFLT_NORMAL', 1: 'VCU_SYSDCFLT_FAULT_LEVEL_1', 2: 'VCU_SYSDCFLT_FAULT_LEVEL_2', 3: 'VCU_SYSDCFLT_FAULT_LEVEL_3', 4: 'VCU_SYSDCFLT_FAULT_LEVEL_4'}</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2achassiswheelrpmfb","title":"V2aChassisWheelRpmFb","text":"<p>The detailed contents in <code>V2aChassisWheelRpmFb(vehicle to autonomous driving vehicle wheel speed feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_wheel_rpm_lf std_msgs/int32 left front motor speed [rpm] <code>-2000-2000</code> vcu_chassis_wheel_rpm_rf std_msgs/int32 right front motor speed [rpm] <code>-2000-2000</code> vcu_chassis_wheel_rpm_lr std_msgs/int32 left rear motor speed [rpm] <code>-2000-2000</code> vcu_chassis_wheel_rpm_rr std_msgs/int32 right rear motor speed [rpm] <code>-2000-2000</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2achassiswheeltirepressfb","title":"V2aChassisWheelTirePressFb","text":"<p>The detailed contents in <code>V2aChassisWheelTirePressFb(vehicle to autonomous driving tire pressure feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_wheel_tire_press_lf std_msgs/float32 left front tire pressure [bar] <code>0.0-20.0</code> vcu_chassis_wheel_tire_press_rf std_msgs/float32 right front tire pressure [bar] <code>0.0-20.0</code> vcu_chassis_wheel_tire_press_lr std_msgs/float32 left rear tire pressure [bar] <code>0.0-20.0</code> vcu_chassis_wheel_tire_press_rr std_msgs/float32 right rear tire pressure [bar] <code>0.0-20.0</code>"},{"location":"hands-on-Autoware/vehicle-interface/#v2achassiswheelanglefb","title":"V2aChassisWheelAngleFb","text":"<p>The detailed contents in <code>V2aChassisWheelAngleFb(vehicle to autonomous driving steering wheel angle feedback)</code> are as follows.</p> Content Data Type Explanation header std_msgs/Header header vcu_chassis_wheel_angle_lf std_msgs/float32 left front steering angle [deg] <code>-90|90</code> vcu_chassis_wheel_angle_rf std_msgs/float32 right front steering angle [deg] <code>-90|90</code> vcu_chassis_wheel_angle_lr std_msgs/float32 left rear steering angle [deg] <code>-90|90</code> vcu_chassis_wheel_angle_rr std_msgs/float32 right rear steering angle [deg] <code>-90|90</code>"},{"location":"hands-on-Autoware/vehicle-interface/#control-converter-node","title":"Control Converter Node","text":""},{"location":"hands-on-Autoware/vehicle-interface/#input_2","title":"Input","text":"Input (from Autoware and vehicle feedback) Topic(Data Type) Explanation raw vehicle command <code>/control/command/actuation_cmd</code>(tier4_vehicle_msgs/msg/ActuationCommandStamped) raw vehicle command from autoware including Throttle pedal and Braking Pedal gear command <code>/control/command/gear_cmd</code>(autoware_auto_vehicle_msgs/msg/GearCommand) gear command from Autoware Shift Decider drive status feedback <code>/pix_hooke/v2a_drivestafb</code>(V2aDriveStaFb) needs gear status feedback in order to set velocity as 0 when it needs to shift"},{"location":"hands-on-Autoware/vehicle-interface/#output_2","title":"Output","text":"Output (to Control Command Node) Topic(Data Type) Explanation autonomous driving to vehicle drive control <code>/pix_hooke/a2v_drivectrl_130</code>(A2vDriveCtrl) autonomous driving to vehicle brake control <code>/pix_hooke/a2v_brakectrl_131</code>(A2vBrakeCtrl) autonomous driving to vehicle steering control <code>/pix_hooke/a2v_steerctrl_132</code>(A2vSteerCtrl) autonomous driving to vehicle control <code>/pix_hooke/a2v_vehiclectrl_133</code>(A2vVehicleCtrl)"},{"location":"hands-on-Autoware/vehicle-interface/#report-converter-node","title":"Report Converter Node","text":""},{"location":"hands-on-Autoware/vehicle-interface/#input_3","title":"Input","text":"Input (from Report Parser Node ) Topic(Data Type) Explanation vehicle to autonomous driving drive status feedback <code>/pix_hooke/v2a_drivestafb</code>(pix_hooke_driver_msgs::msg::V2aDriveStaFb) vehile eto autonomous driving brake status feedback <code>/pix_hooke/v2a_brakestafb</code>(pix_hooke_driver_msgs/msg/V2aBrakeStaFb) vehicle to autonomous driving steering status feedback <code>/pix_hooke/v2a_steerstafb</code>(pix_hooke_driver_msgs/msg/V2aSteerStaFb) vehicle to autonomous driving vehicle working status feedback <code>/pix_hooke/v2a_vehicleworkstafb</code>(pix_hooke_driver_msgs::msg::V2aVehicleWorkStaFb) vehicle to autonomous driving vehicle status feedback <code>/pix_hooke/v2a_vehiclestafb</code>(pix_hooke_driver_msgs::msg::V2aVehicleStaFb)"},{"location":"hands-on-Autoware/vehicle-interface/#output_3","title":"Output","text":"Output (to Autoware) Topic(Data Type) Explanation control mode status <code>/vehicle/status/control_mode</code>(autoware_auto_vehicle_msgs/msg/ControlModeReport) vehicle contol mode states to Autoware velocity status <code>/vehicle/status/velocity_status</code>(autoware_auto_vehicle_msgs/msg/ControlModeReport) vehicle lateral and longitudinal velocity status to Autoware [m/s] steering status <code>/vehicle/status/steering_status</code>(autoware_auto_vehicle_msgs/msg/SteeringReport) vehicle steering tire angle status to Autoware [rad] Shift status <code>/vehicle/status/gear_status</code>(autoware_auto_vehicle_msgs/msg/GearReport) vehicle shift to Autoware [-] Turn indicators status <code>/vehicle/status/turn_indicators_status</code>(autoware_auto_vehicle_msgs/msg/TurnIndicatorsReport) vehicle turn indicators status to Autoware [-] hazard lights status <code>/vehicle/status/hazard_lights_status</code>(autoware_auto_vehicle_msgs::msg::HazardLightsReport) vehicle hazard lights status to Autoware [-] actuation status <code>/vehicle/status/actuation_status</code>tier4_vehicle_msgs/msg/ActuationStatusStamped accel, brake and steer status to Autoware for vehicle calibration [0-100]"},{"location":"hands-on-Autoware/vehicle-interface/#reference","title":"Reference","text":"<ul> <li>pix_driver</li> <li>tier4_autoware_msgs/tier4_vehicle_msgs</li> <li>autoware_auto_msgs</li> <li>ros2_socketcan</li> </ul>"},{"location":"mapping/","title":"Overview","text":""},{"location":"mapping/#hd-map","title":"HD map","text":"<p>The autonomous driving map includes point cloud maps and vector maps, which assist autonomous driving vehicles in completing positioning, navigation, perception, decision-making, control and other functions.</p>"},{"location":"mapping/#how-to-create-point-cloud-maps-and-vector-maps","title":"How to create point cloud maps and vector maps","text":"<ul> <li>Building_map</li> <li>lanelet2-map</li> </ul>"},{"location":"mapping/Building_map/","title":"Building  map","text":""},{"location":"mapping/Building_map/#building-map","title":"Building  map","text":""},{"location":"mapping/Building_map/#overview","title":"Overview","text":"<p>Purpose: Use the mapping program to obtain a map (GlobalMap.pcd)</p>"},{"location":"mapping/Building_map/#lio-sam-6axis","title":"LIO-SAM-6AXIS","text":""},{"location":"mapping/Building_map/#step-1-calibrate-the-sensor-the-initial-parameters-have-been-set-you-can-skip-it-if-the-mapping-effect-is-not-good-please-recalibrate-it","title":"step-1 Calibrate the sensor (the initial parameters have been set, you can skip it. If the mapping effect is not good, please recalibrate it)","text":"<ul> <li>\u6807\u5b9aIMU\u5185\u53c2</li> <li>\u6807\u5b9aLiDAR\u4e0eIMU\u5916\u53c2</li> </ul>"},{"location":"mapping/Building_map/#step-2-record-ros2-bag","title":"step-2  Record ros2 bag","text":"<p>\u6ce8\u610f Check the topic output before recording. During the recording process, the vehicle should be driven as smoothly and slowly as possible. It is recommended to loop your map scene.</p> <ul> <li>Start autoware first:./autoware.sh \u6392\u67e5\u95ee\u9898</li> </ul> <pre><code>Method 1 \uff1acd  ~/pixkit/pix/ros2_bag\n                  ros2 bag record $(cat rosbag.txt)\nMethod 2 \uff1acd  ~/pixkit/pix/ros2_bag\uff08by yourself\uff09\n                  ros2 bag record  /lidar_topic /gnss_topic /imu_topic \n                  Here   /lidar_topic\uff1alidar topic\n                        /gnss_topic \uff1agbss topic\n                        /imu_topic  : imu topic\n</code></pre>"},{"location":"mapping/Building_map/#step-3-modify-the-config-file","title":"step-3 Modify the config file","text":"<p>run.launch under launch file:</p> <pre><code>import os\nfrom ament_index_python.packages import get_package_share_directory\nXXX\nXXX\n\ndef generate_launch_description():\n\n    share_dir = get_package_share_directory('lio_sam')\n    parameter_file = LaunchConfiguration('params_file')\n    xacro_path = os.path.join(share_dir, 'config', 'robot.urdf.xacro')\n    rviz_config_file = os.path.join(share_dir, 'config', 'rviz2.rviz')\n\n    params_declare = DeclareLaunchArgument(\n        'params_file',\n        default_value=os.path.join(\n            share_dir, 'config', 'params_rs16.yaml'),\n        description='FPath to the ROS2 parameters file to use.')\n</code></pre> <p><code>params_rs16.yaml</code>\uff1aRead the configuration file under config. If you need to change it, please pay attention here</p> <ul> <li>You need to modify the topic configured for your sensor </li> </ul> parameter msg type describe pointCloudTopic sensor_msgs/Pointcloud2 The topic where you recorded the LiDAR point cloud imuTopic sensor_msgs/Imu The topic where you recorded the IMU odomTopic nav_msgs/Odometry IMU odometer topic, no modification required gpsTopic nav_msgs/NavSatFix The positioning topic you recorded for GNSS <ul> <li>If GNSS is used for orientation initialization, it needs to be<code>useImuHeadingInitialization</code>set to <code>true</code>\uff0c </li> </ul>"},{"location":"mapping/Building_map/#step-4-run-the-mapping-program","title":"step-4: Run the mapping program","text":"<p>\u6ce8\u610f Must end autoware</p> <p>Run the map launch file under mapping_ws</p> <pre><code>source install/setup.bash\nros2 launch lio_sam run.launch.py\n</code></pre>"},{"location":"mapping/Building_map/#step-5-play-ros2-bag","title":"step-5: play ros2 bag","text":"<pre><code>ros2 bag play  [your_ros2_bag] --clock \nyour_ros2_bag\uff1a Play ros2 bag, the following operations are required after playing completed ros2 bag\n</code></pre>"},{"location":"mapping/Building_map/#step-6-save-the-map","title":"step-6: Save the map","text":"<p>Under the mapping_ws file\uff1a</p> <pre><code>source install/setup.bash\nros2 service call /lio_sam/save_map  lio_sam/srv/SaveMap \n</code></pre> <p>The saved map is in LOAM under Downloads and will be used</p> name describe GlobalMap.pcd Point cloud map\uff0cimport Vector Map Builder to draw, if using GNSS, the direction has been converted to ENU direction <p>The origin WGS84 coordinates of the point cloud map, used for GNSS positioning</p> <p>It is recommended to save the information in the terminal for easy use in GNSS positioning.     </p>"},{"location":"mapping/Building_map/#code-git","title":"Code git","text":""},{"location":"mapping/Building_map/#prerequest","title":"prerequest","text":"<ul> <li>Ubuntu 22.04</li> <li>ROS2 Humble</li> </ul>"},{"location":"mapping/Building_map/#step-1-build-a-drawing-workspace","title":"step-1: Build a drawing workspace","text":"<p>Create a workspace</p> <pre><code>mkdir ~/mapping_ws\ncd ~/mapping_ws\nmkdir src\ncd src\n</code></pre>"},{"location":"mapping/Building_map/#step-2-clone","title":"step-2 clone","text":"<pre><code>git clone https://github.com/pixmoving-moveit/LIO-SAM-ROS2-PIXKIT # clone \n</code></pre>"},{"location":"mapping/Building_map/#step-3-install-dependencies","title":"step-3  Install dependencies","text":"<pre><code>sudo apt install ros-humble-perception-pcl \\\n       ros-humble-pcl-msgs \\\n       ros-humble-vision-opencv \\\n       ros-humble-xacro\n# Add GTSAM-PPA\nsudo add-apt-repository ppa:borglab/gtsam-release-4.1\nsudo apt install libgtsam-dev libgtsam-unstable-dev\n</code></pre>"},{"location":"mapping/Building_map/#step-4-colcon-build-package","title":"step-4 colcon build package","text":"<pre><code>cd ~/mapping_ws\ncolcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release\n</code></pre>"},{"location":"mapping/Building_map/#lidar-parameters","title":"LiDAR Parameters","text":"parameter describe sensor LiDAR type, optional <code>velodyne</code>, <code>ouster</code>, <code>livox</code>, <code>robosense</code> N_SCAN Point cloud channel number, 16-line laser radar is 16 Horizon_SCAN LiDAR lateral resolution, (Velodyne: 1800, Ouster: 512, 1024, 2048, Livox Horizon: 4000) downsampleRate Downsample rate, let N_SCAN/downsampleRate=16 lidarMinRange Minimum point cloud distance, default is 1.5 lidarMaxRange Maximum point cloud distance, default is 1000.0 <ul> <li>IMU internal parameters, refer to IMU\u6807\u5b9ato obtain IMU internal parameters</li> </ul> parameter describe imuAccNoise 3-axis accelerometer white noise mean (m/s^s) imuGyrNoise 3-axis gyro white noise mean (rad/s) imuAccBiasN 3-axis accelerometer zero bias mean (m/s^s) imuGyrBiasN 3-axis gyro bias mean (rad/s) imuGravity Local gravity acceleration (m/s^2) imuRPYWeight Angle weight, default 0.01 <ul> <li>IMU external parameters\uff0crefer toLiDAR\u4e0eIMU\u5916\u53c2\u6807\u5b9a</li> </ul> <p>IMU extrinsic parameters can be measured by [LiDAR and IMU extrinsic calibration] or manually measured with a tape measure (the coordinate system is the right-hand rule) When measuring manually\uff1a - extrinsicTrans:manual measurement with a tape measure  - extrinsicRot: the unit matrix is \u200b\u200bsufficient</p> <p></p> parameter describe extrinsicTrans Translation Matrix extrinsicRot Rotation Matrix"},{"location":"mapping/Building_map/#references","title":"References","text":"<ul> <li> <p>LIO_SAM</p> </li> <li> <p>LIO_SAM_6AXIS</p> </li> <li> <p>LIO-SAM-ROS2-PIXKIT</p> </li> <li> <p>creating maps for Autoware</p> </li> </ul>"},{"location":"mapping/lanelet2-map/","title":"Lanelet2 Map","text":""},{"location":"mapping/lanelet2-map/#lanelet2-map","title":"Lanelet2 Map","text":""},{"location":"mapping/lanelet2-map/#overview","title":"Overview","text":"<p>Lanelet2 is a C++ library for handling map data in the context of automated driving. It is designed to utilize high-definition map data in order to efficiently handle the challenges posed to a vehicle in complex traffic scenarios. Flexibility and extensibility are some of the core principles to handle the upcoming challenges of future maps.</p> <p></p>"},{"location":"mapping/lanelet2-map/#lanelet2-primitives","title":"Lanelet2 primitives","text":"<p>The lanelet2 map is composed of some primitives, consisting of <code>node/point</code>, <code>linestring</code>, <code>polygon</code>, <code>lanelet</code>, <code>area</code>, and <code>regulatory element</code>. </p>"},{"location":"mapping/lanelet2-map/#node","title":"node","text":"<p>A node consists of a unique ID, latitude, longitude, height, and Cartesian coordinate system coordinates. It also has the ability to be extended by adding new features through setting the <code>k</code> tag and values through setting the <code>v</code> tag.</p> <pre><code>&lt;node id=\"1\" lat=\"\" lon=\"\"&gt;\n  &lt;tag k=\"mgrs_code\" v=\"99XXX0000-2\"/&gt;\n  &lt;tag k=\"local_x\" v=\"11.5354\"/&gt;\n  &lt;tag k=\"local_y\" v=\"-184.0996\"/&gt;\n  &lt;tag k=\"ele\" v=\"-0.2962\"/&gt;\n&lt;/node&gt;\n</code></pre> <p>The above example shows a node with an <code>ID</code> of 1, <code>local_x</code> as the x-coordinate, <code>local_y</code> as the y-coordinate, and <code>ele</code> as the height. It is used to form the basic structure of linestring and area.</p>"},{"location":"mapping/lanelet2-map/#area","title":"area","text":"<p>An area consists of a unique ID, a series of ordered node IDs, the type of area, and whether it is a mark of an area. It also has the ability to be extended by adding new features through setting the <code>k</code> tag and values through setting the <code>v</code> tag.</p> <pre><code>&lt;way id=\"88\"&gt;\n  &lt;nd ref=\"84\"/&gt;\n  &lt;nd ref=\"85\"/&gt;\n  &lt;nd ref=\"86\"/&gt;\n  &lt;nd ref=\"87\"/&gt;\n  &lt;tag k=\"type\" v=\"detection_area\"/&gt;\n  &lt;tag k=\"area\" v=\"yes\"/&gt;\n&lt;/way&gt;\n</code></pre> <p>For the example above, it describes a \"way\" object with an ID of \"88\" that includes references to four \"node\" objects with IDs \"84\", \"85\", \"86\", and \"87\". It also includes two tags: \"type\" with a value of \"detection_area\" and \"area\" with a value of \"yes\".</p>"},{"location":"mapping/lanelet2-map/#linestring","title":"linestring","text":"<p>A Linestring is composed of a series of ordered node IDs, linestring types, and extension types, and has the ability to be extended by setting additional properties through the <code>k</code> tag and their values through the <code>v</code> tag.</p> <pre><code>&lt;way id=\"3\"&gt;\n  &lt;nd ref=\"1\"/&gt;\n  &lt;nd ref=\"2\"/&gt;\n  &lt;nd ref=\"8\"/&gt;\n  &lt;nd ref=\"10\"/&gt;\n  &lt;tag k=\"type\" v=\"line_thin\"/&gt;\n  &lt;tag k=\"subtype\" v=\"solid\"/&gt;\n&lt;/way&gt;\n</code></pre> <p>In the example above, the Linestring has an ID of \"3\" and references the nodes \"1\", \"2\", \"8\", and \"10\" in that order. The linestring type is \"line_thin\", and optional linestring types and subtypes can be found in the table below.</p> type subtype description lane change? line_thin solid a solid lane marking no line_thin solid_solid a double solid lane marking no line_thin dashed a dashed lane marking yes line_thin dashed_solid a marking that is dashed on the left and solid on the right left-&gt;right: yes line_thin solid_dashed the other way around right-&gt;left: yes line_thick same as above for thin curbstone high a curbstone that is to high for a vehicle to drive over no curbstone low curb that is low and can be driven for a vehicle no virtual - a non-physical lane boundary, intended mainly for intersections no road_border - the end of the road. no"},{"location":"mapping/lanelet2-map/#polygon","title":"polygon","text":"<p>A Polygon is composed of a single linestring and can be extended by setting additional properties through the <code>k</code> tag and their values through the <code>v</code> tag.</p> <pre><code>&lt;relation id=\"35\"&gt;\n  &lt;member type=\"way\" role=\"outer\" ref=\"32\"/&gt;\n  &lt;tag k=\"type\" v=\"multipolygon\"/&gt;\n&lt;/relation&gt;\n</code></pre>"},{"location":"mapping/lanelet2-map/#lanelet","title":"lanelet","text":"<p>A Lanelet is composed of a left and right linestring, references to regulatory elements and the lanelet type, and can be extended by setting additional properties through the <code>k</code> tag and their values through the <code>v</code> tag.</p> <pre><code>&lt;relation id=\"48\"&gt;\n  &lt;member type=\"way\" role=\"left\" ref=\"47\"/&gt;\n  &lt;member type=\"way\" role=\"right\" ref=\"44\"/&gt;\n  &lt;member type=\"way\" role=\"centerline\" ref=\"80\"/&gt;\n  &lt;member type=\"relation\" role=\"regulatory_element\" ref=\"89\"/&gt;\n  &lt;member type=\"relation\" role=\"regulatory_element\" ref=\"100\"/&gt;\n  &lt;tag k=\"type\" v=\"lanelet\"/&gt;\n  &lt;tag k=\"subtype\" v=\"road\"/&gt;\n  &lt;tag k=\"speed_limit\" v=\"10\"/&gt;\n  &lt;tag k=\"location\" v=\"urban\"/&gt;\n  &lt;tag k=\"one_way\" v=\"yes\"/&gt;\n&lt;/relation&gt;\n</code></pre> <p>In the example above, the Lanelet has an ID of \"48\", with the left and right boundaries referencing Linestrings with IDs \"47\" and \"44\", respectively. The centerline references the Linestring with ID \"80\". The regulatory elements are referenced by relations with IDs \"89\" and \"100\". The lanelet type is \"lanelet\", with a subtype of \"road\". Additional properties such as \"speed_limit\", \"location\", and \"one_way\" are also set using the \"k\" and \"v\" tags. Optional tags for lanelet can be found in the table below.</p> subtype location description Inferred Participants Speed limit road urban A part of a road in urban region All vehicles and bikes City speed limit road nonurban A part of a road in nonurban region All vehicles and bikes Nonurban speed limit highway urban A part of a highway in urban region All vehicles Urban highway limit highway nonurban A part of a highway in nonurban region All vehicles Nonurban highway limit play_street - A part of a play street Vehicles, bikes, pedestrians play street speed limit emergency_lane - Lane for emergency vehicles Emergency vehicles Average emergency vehicle speed bus_lane urban Lane for buses Bus, Emergency, Taxi City speed limit bus_lane nonurban Lane for buses Bus, Emergency, Taxi Nonurban speed limit bicycle_lane - A lane that is usable only for bikes Bikes Average bike speed exit urban Exit area of a house or garage that crosses the crosswalk Vehicles, bikes, pedestrians Urban speed limit walkway - A part of a way for pedestrians Pedestrians Average pedestrian walking speed shared_walkway - A way shared by bikes and pedestrians Bikes, Pedestrians Average bike/pedestrian speed crosswalk - A part of a crosswalk Pedestrians Average pedestrian walking speed stairs - Well ... stairs Pedestrians Average pedestrian walking speed"},{"location":"mapping/lanelet2-map/#regulatory-element","title":"regulatory element","text":"<p>\"Regulatory element is composed of a series of linestrings and regulatory element types, and has expandability. New features can be added by setting the 'k' attribute in the tag, and the value of the new feature can be set by setting 'v'.</p> <pre><code>&lt;relation id=\"100\"&gt;\n  &lt;member type=\"way\" role=\"refers\" ref=\"95\"/&gt;\n  &lt;member type=\"way\" role=\"ref_line\" ref=\"92\"/&gt;\n  &lt;member type=\"way\" role=\"light_bulbs\" ref=\"99\"/&gt;\n  &lt;tag k=\"type\" v=\"regulatory_element\"/&gt;\n  &lt;tag k=\"subtype\" v=\"traffic_light\"/&gt;\n&lt;/relation&gt;\n</code></pre> <p>In the example below, the <code>regulatory element</code> with <code>id</code> 100 refers to linestring with <code>id</code> 95 as the reference line for the <code>traffic light</code>, <code>linestring</code> with <code>id</code> 92 as the stop line, and <code>linestring</code> with <code>id</code> 99 as the light bulb. The <code>type</code> is <code>regulatory_element</code> and the <code>subtype</code> is <code>traffic_light</code>. The <code>subtypes</code> of <code>regulatory elements</code> are shown in the table below.</p> subtype description traffic_sign traffic sign traffic_light traffic light speed_limit speed limit sign"},{"location":"mapping/lanelet2-map/#lanelet2-map-making","title":"lanelet2 Map Making","text":""},{"location":"mapping/lanelet2-map/#drawing-tool","title":"Drawing Tool","text":"<p>Use the Vector Map Builder tool developed by Tier Iv Inc for map making. </p>"},{"location":"mapping/lanelet2-map/#importing-point-cloud-maps","title":"Importing Point Cloud Maps","text":"<p>Before making a map, you need to import a point cloud map as a reference for the geometric features of the vector map. Making Pointcloud map</p> <ol> <li> <p>click on <code>file</code>-<code>Import PCD</code> </p> </li> <li> <p>click on <code>browser</code> to select the PCD file </p> </li> <li> <p>After selecting the PCD file, click <code>import</code> </p> </li> <li> <p>The pointcloud map is imported into the map visualization box </p> </li> </ol>"},{"location":"mapping/lanelet2-map/#creating-a-lanelet2-map","title":"Creating a Lanelet2 Map","text":"<ol> <li>Click on the <code>create</code> menu, <code>create_lanelet2Map</code> </li> </ol>"},{"location":"mapping/lanelet2-map/#editing-a-lanelet","title":"Editing a Lanelet","text":"<ol> <li>Find the road and see the drivable area between the curbs </li> <li>Click on the <code>lanelet</code> button in the menu above to enter the <code>lanelet</code> editing mode </li> <li>Click on the initial point of the <code>lanelet</code> in the drivable area on the map </li> <li>Move the mouse to select the next <code>lanelet</code> node. You can select multiple nodes in the curved section to ensure smooth curves </li> <li>Deselect the <code>lanelet</code> button to exit <code>lanelet editing mode</code> </li> <li>Modify the Lanelet Width</li> <li>You can use the <code>Change Lanelet Width</code> in the <code>Action</code> section on the right to modify the lanelet width  </li> <li>You can click on a <code>node</code> to move it in 3D and change the width of the lanelet  </li> </ol>"},{"location":"mapping/lanelet2-map/#editing-a-parking-lot","title":"Editing a Parking Lot","text":"<p>When an autonomous vehicle enters parking mode, the parking lot is converted into a <code>parking_lot</code>. 1. Find the parking lot area and use the <code>linestring</code> tool to draw the parking lot area  2. Deselect the <code>linestring</code> drawing tool, click the <code>Change to Polygon</code> button on the right to convert the <code>linestring</code> to a <code>polygon</code>  3. set <code>type</code> to <code>parking_lot</code> in the attribute box on the right </p>"},{"location":"mapping/lanelet2-map/#edit-traffic-lights","title":"Edit traffic lights","text":"<ol> <li>Select a <code>lanelet</code> and choose the <code>trafficlight</code> tool from the toolbar above </li> <li>Click on the selected <code>lanelet</code> to generate a <code>linestring</code> with <code>type</code> as <code>stop_line</code>, a <code>linestring</code> with <code>type</code> as <code>traffic_light</code>, and a <code>linestring</code> with <code>type</code> as <code>light_bulbs</code>. You can move the position of these components, but the direction of the <code>traffic_light</code> cannot be changed. This is because the direction of the <code>traffic_light</code> is considered as a filtering factor in the traffic signal detection process. </li> <li>Set the <code>sub_type</code> of the <code>traffic_light</code> to <code>red_yellow_green</code>. There is a key named <code>heigh</code>t which represents the rectangular ROI with the <code>linestring</code> of the <code>traffic_light</code> as the length and the <code>height</code> as the width. Therefore, you can adjust the value of height accordingly. </li> <li>Add an <code>optional_tag</code> named <code>traffic_light_id</code> to the <code>light_bulbs</code> with the value set to the ID of the <code>traffic_light</code> <code>linestring</code>. </li> <li>Adjust the color of the <code>light_bulbs</code>. Click on a light bulb to set the color to <code>red</code>, <code>green</code>, or <code>yellow</code> in the attribute editor on the right. </li> </ol>"},{"location":"mapping/lanelet2-map/#reference","title":"Reference","text":"<ul> <li>https://www.autoware.org/_files/ugd/984e93_9978752488284f4ab6853f83a0c044bc.pdf?index=true</li> <li>https://github.com/fzi-forschungszentrum-informatik/Lanelet2</li> <li>https://tools.tier4.jp/feature/vector_map_builder_ll2/</li> <li>https://autowarefoundation.github.io/autoware-documentation/main/design/autoware-interfaces/components/planning/#lanelet2-map</li> </ul>"},{"location":"pix-chassis-user-manual/","title":"Overview","text":""},{"location":"pix-chassis-user-manual/#pix-chassis-user-manual","title":"PIX Chassis User Manual","text":""},{"location":"pix-chassis-user-manual/#pixloop-drive-by-wire-chassis-hooke","title":"PIXLOOP DRIVE-BY-WIRE Chassis HOOKE","text":""},{"location":"pix-chassis-user-manual/#forword","title":"Forword","text":"<p>Thank you very much for choosing our PIX products, your recognition and satisfaction are our greatest motivation.</p> <p>PIXLOOP HOOKE drive-by-wire chassis is a pure drive-by-wire chassis created by PIX Moving for engineers. It is a drive-by-wire chassis for L4 low-speed autonomous driving in the parks. The chassis features a new steering pattern and a new way of driving. The power of the whole chassis is provided by a 72V power battery and a 12V maintenance-free lead-acid battery. The whole chassis is constructed of high-strength steel. The steering and power of the chassis can be easily controlled through the remote control, and the PIXLOOP chassis can be equipped with an autonomous driving system. This manual will use the HOOKE 4-wheel driving and 4-wheel steering version to introduce each function of the chassis in details while allowing you to quickly use this product.</p>"},{"location":"pix-chassis-user-manual/#disclaimer","title":"Disclaimer","text":"<ol> <li> <p>This manual has included various function introductions and instructions as much as possible at the time of printing. However, due to continuous improvement of product functions and design changes, there may still be discrepancies with the product you purchased. Due to product updates, there may be deviations between this manual and the actual product in terms of color, appearance, etc., please refer to the actual product.</p> </li> <li> <p>In order to protect the legitimate rights and interests of users, please be sure to read the instruction manual we provide with this product carefully before using this product. The chassis provider reserves the right to update the above documents. Please read this manual carefully before use and operate this product according to the manual.</p> </li> <li> <p>This product is not suitable for use by persons under the age of 18 or other persons who do not have full capacity for civil conduct. Please avoid contact with this product by the above-mentioned persons, and please pay special attention when operating in places where the above-mentioned persons appear.</p> </li> <li> <p>Once you start using this product, it is deemed that you have read, understood, recognized and accepted all the terms and contents of the product manual and disclaimer. The user promises to be responsible for his own behavior and all the consequences arising therefrom.</p> </li> <li> <p>In the process of using this product, please be sure to strictly abide by and implement the requirements including but not limited to the instructions. For all personal injuries, accidents, property losses, legal disputes, and other adverse events that cause conflicts of interest caused by violations of the use behaviors suggested in the manual or force majeure, the user shall bear the relevant responsibilities and losses, and the product provider will We do not assume any responsibility.</p> </li> <li> <p>The chassis provider will not bear any responsibility for any violation of laws and regulations that occurs directly or indirectly when the user uses this product.</p> </li> </ol>"},{"location":"pix-chassis-user-manual/#outline","title":"Outline","text":"<ul> <li>Product Introduction</li> <li>Usage and Development</li> <li>Vehicle Safety Mechanism</li> <li>Specs of Chassis</li> <li>FAQ</li> <li>Mauntenance and Precautions</li> <li>Ater-sale Service &amp; Technical Support</li> </ul>"},{"location":"pix-chassis-user-manual/FAQ/","title":"FAQ","text":""},{"location":"pix-chassis-user-manual/FAQ/#faq","title":"FAQ","text":"<p>This section sorts out the solutions to various chassis common problems. If you can\u2019t solve it according to this document, please contact the relevant technical personnel.\u3002</p> <ul> <li>Q: The chassis cannot be driven, and the remote control has no alarm</li> </ul> <p>A: Step 1: Check if the power battery is sufficient. Step 2: Check if all emergency stop switches pop up.Step 3: Check if the handbrake is off. Step 4: Check if it is in remote control mode.Step 5: Check if the brakes are on The return position is normal, check whether the vehicle can be pushed.Step 6: Check whether the high-voltage power supply of the motor controller is normal. Step 7: Check whether the wake-up power relay of the motor controller in the fuse box is normal.</p> <ul> <li>Q: Chassis cannot be powered on</li> </ul> <p>A: Step 1: Check if all emergency stop switches pop out. Step 2: Check whether the 12V battery is out of power. Step 3: Check whether the fuses of each fuse box are normal. Step 4: Check whether the low-voltage fuse box is powered. Step 5: Check whether the VCU power supply is normal. Step 6: Check whether there is a short circuit or open circuit on the CAN bus.</p> <ul> <li>Q: The remote control shows SOC=0%**</li> </ul> <p>A:  Step 1: Check if the remote controller has other alarms. If so, refer to Appendix 1 \"Remote Controller Fault Code Analysis and Suggestions for Handling\". Step 2: Check the power of the chassis power battery and charge the chassis. Step 3: Check whether the 12V battery is short of electricity, which will cause the power battery to fail to output, and it is recommended to recharge the battery. Step 4: Check whether the fuses of each fuse box are normal, whether there is a short circuit or an open circuit in the line. Step 5: Read the chassis CAN message, check whether the 782 message can be read, and contact technical assistance.</p> <ul> <li>Q: The chassis cannot be charged</li> </ul> <p>A:  Step 1: Confirm the charging sequence, plug in the charging cable first, and then plug in the AC plug(The voltage standard in China is 220V) . Step 2: Check whether the main switch (knob switch, if any) is turned on, and it cannot be charged when the main switch is turned off. Step 3: Check the status of the indicator light of the charger to confirm the charging status (The red light flashes slowly to indicate charging, and the green light is always on to indicate that the charging is complete). Step 4: Check the charging circuit, whether there is a short circuit or open circuit; Step 5: Read the chassis message, check whether the 782 message can be read, and contact technical assistance to deal with it.</p> <ul> <li>Q: Chassis steering fails</li> </ul> <p>A: Step 1: Check whether the remote controller has an alarm, and deal with it according to the corresponding fault code. Step 2: Check whether the handbrake and brake are normal, and confirm that the low-voltage power supply is normal. Step 3: Check whether the 12V battery is out of power. Step 4: Check In the fuse box, confirm whether the fuse is blown. Step 5: Check the steering motor relay to confirm whether it is burnt out, which can be cross-validated.</p> <ul> <li>Q: Chassis brake failure</li> </ul> <p>A: Step 1: Check whether the remote controller has an alarm, and deal with it according to the corresponding fault code. Step 2: Check whether the handbrake and steering are normal, and confirm that the low-voltage power supply is normal. Step 3: Check whether the 12V battery is under charge. Step 4: Check the fuse box to see if any fuse is blown. Step 5: Check the brake relay to confirm whether it is burnt out, which can be cross-validated.</p> <ul> <li>Q: Chassis handbrake failure</li> </ul> <p>A:  Step 1: Check whether the remote control has an alarm, and deal with it according to the corresponding fault code. Step 2: Check whether the braking and steering are normal, and confirm that the low-voltage power supply is normal. Step 3: Check whether the 12V battery is under charge. Step 4: Check the fuse box to see if any fuse is blown. Step 5: Check the handbrake relay to confirm whether it is burnt out, which can be cross-validated.</p> <ul> <li>Q: CAN port communication is abnormal</li> </ul> <p>A: Step 1: Check whether the remote control has an alarm, confirm that other functions of the chassis are normal, and the VCU is working normally. Step 2: Use a multimeter to measure the CAN port 2 and 7 respectively, and connect the negative pole to the chassis shell. Under normal circumstances, The voltage of port 2 is low, about 2.25V, and the voltage of port 7 is high, about 2.75V. If the voltage is normal, please check the CAN port connector at the other end connected by yourself. Step 3: If the voltage is abnormal, check the line along the CAN line to confirm whether there is a short circuit or an open circuit.</p> <ul> <li>Q: Remote control startup exception handling</li> </ul> <p>A:  After the vehicle is powered on successfully, the lower part of the display screen of the remote control car will display \u201cReady\u201d. Otherwise, the power on fails. After the chassis enters \u201cReady\u201d, observe whether there is a triangle exclamation mark above \u201cReady\u201d. If not, the driver can perform a driving operation. If it shows that there is a fault in the vehicle, you need to press the Display Switch button to switch the display as the second interface to check the specific system fault. Further investigation of detailed faults requires reading detailed fault codes from the CAN network connected to the phase system through the OBD interface, and the vehicle can be driven as a whole after troubleshooting.</p>"},{"location":"pix-chassis-user-manual/FAQ/#remote-controller-fault-code-analysis-and-suggestions-for-handling-is-below","title":"Remote Controller Fault Code Analysis and Suggestions for Handling is below","text":"No. Error code Fault code in English Meaning of error code Handling suggestion 1 Chassis normal System is normal Normal status Normal status 2 Unable to run Can not operate Can not operate 1.Check the remaining power of the power battery, if it is less than 20%, please charge it before use. 2.Check the high-voltage and low-voltage fuse boxes to confirm whether any fuse is blown. 3.Check that the handbrake or brakes are in place. 4.Collect and analyze the messages. 3 F-steer failure Front steering system fault Steering system motor or controller fault 1.Check the fuse box to see if there is a blown fuse. 2.Check steering motor relay. 3. Collect and analyze the messages 4 B-steer failure Back steering system fault 5 FL-Motor failure Front Left wheel failure The motor driver has no high-voltage input, or the communication of the signal line fails. 1. Check the remaining power of the power battery, if it is less than 20%, please charge it before use. 2.Check the high-voltage and low-voltage fuses, and the motor wake-up relay. 3.Check the corresponding wheel motor controller, whether the high voltage input is normal, and whether the signal input is normal. 4.Collect and analyze the messages 6 RL-Motor failure Rear Left wheel failure 7 FR-Motor failure Front Right wheel failure 8 RR-Motor failure Rear Right wheel failure 9 Brake failure Brake system failure Brake system brake pump or controller failure 1.Operate the brakes by remote control, check whether there is a brake sound. 2.Check whether the brake oil pot is sufficient. 3.Check whether the oil pipes at each caliper position of the brake are leaking oil. 4.Release the handbrake, put in neutral, and use a trolley to confirm whether the chassis can move. 5.Collect and analyze the messages 10 ModeSwitch failure Mode switch failure Switching steering modes or shifting gears while the chassis is moving 1.Switching steering modes or shifting gears while the chassis is moving. 2.Collect and analyze the messages 11 GearSwitch failure Gear switch failure 12 Lost connection Abnormal wireless communication The communication between the remote control and the receiver is abnormal. 1.The chassis is not powered on, or the receiver is not receiving power. Turn on the chassis, or check whether the power supply of the receiver is normal. 2.The distance between the remote control and the receiver is too long and greater than 100mm. Check whether the antenna of the receiver is normal, or operate it at close range. 3.There is signal shielding or interference between the remote control and the receiver, change the location to test. 13 Low battery The battery of Remote control is low The battery of Remote control is low Replacing the dry battery of the remote control 14 Loss of VCU siagnal Receiver CAN signal lost Receiver CAN signal lost Check the CAN network of receiver 15 Pus rod back to center Push rod failureReturn the push rod to the neutral position and restart Damaged push rod. The push rod is not in the neutral position, and the self-test fails Make sure the push rod is back to the neutral position(center), restart the remote control, and the push rod is prohibited during the self-test process of the remote control. If the failure is still displayed after repeated attempts, please contact Pix Moving for support 16 ESTOP! Emergency stop button activated Emergency stop button is pressed The emergency stop button is activated. To control the chassis, please exit the emergency stop state 17 E1 Abnormal wireless communication The communication between the remote control and the receiver is abnormal. 1.The chassis is not powered on, or the receiver is not receiving power. Turn on the chassis, or check whether the power supply of the receiver is normal. 2.The distance between the remote control and the receiver is too long and greater than 100mm. Check whether the antenna of the receiver is normal, or operate it at close range. 3.There is signal shielding or interference between the remote control and the receiver, change the location to test. 18 E2 The battery of Remote control is low The battery of Remote control is low Replacing the dry battery of the remote control 19 E3 Receiver CAN disconnected The communication between the receiver and VCU is abnormal. 1.The 12V battery of the chassis is out of power and the VCU is not activated. Measure the voltage of the 12V battery of the chassis. 2.The chassis power battery is  out of power , the VCU is not working.Please charge the chassis power battery. 3.The CAN line of the receiver is not in good contact or the line is abnormal. Check the receiver cable, re-plug and test, and check the line from the receiver to the VCU. 20 E4 Remote control push rod failure Remote control push rod failure. The self-test fails 1.During the power-on self-test of the remote control, the push rod is pushed, resulting in the failure of the self-test. Restart the remote control. 2.The push rod of the remote control itself is faulty, please contact the PIX Moving for technical solution. 21 E5 Abnormal wireless communication 22 E6 Backup"},{"location":"pix-chassis-user-manual/after-sale-service-and-technical-support/","title":"Ater-sale Service & Technical Support","text":""},{"location":"pix-chassis-user-manual/after-sale-service-and-technical-support/#after-sale-service-technical-support","title":"After-sale Service &amp; Technical Support","text":"<ol> <li> <p>PIX Moving guarantees that the quality of the goods provided is qualified.</p> </li> <li> <p>To ensure your use, we provide 7\u00d724 hours of service: our customer service engineers provide you with support 24 hours a day, 365 days a year, respond quickly to your service requests, and work with the correct department provide support for you. We record and track your service requests through a systematic service platform to ensure that they are dealt with in a timely and efficient manner.</p> </li> <li> <p>Remote technical support quality problems, whenever and wherever your product encounters unexpected or emergency situations, our technical support engineers will quickly identify faults remotely and provide solutions through reliable network connections, minimizing product use interruption .</p> </li> <li> <p>The products cannot be returned once sold unless it is rendered unusable due to major quality issues. For products that have been accepted, if there is a product quality problem or damage (non-human damage) during the warranty period, if PIX Moving inspects and confirms that it is a product quality problem, PIX Moving will repair or replace it and bear the relevant costs.</p> </li> <li> <p>If there is a dispute over whether the product has quality problems, the disputed product can be handed over to a neutral, legal, and professional third-party testing agency for testing (the testing agency must first be confirmed by both parties). The testing fee is prepaid by the submitter, and finally The party responsible for the unfavorable test results.</p> </li> <li> <p>PIX Moving has the right to evaluate and charge corresponding fees if repairs are required for damages caused after the warranty period expires or damages not caused by product quality problems.</p> </li> <li> <p>it will not be attributed to the original product quality problems, if the secondary development (partly involving software development, electrical circuitry, mechanical structure, etc.) requires changes to the original factory configuration or to the control system underlying the debugging caused by technical indicators other than those promised by the product. PIX Moving can give relevant positive cooperation and assistance, but does not assume responsibility for the accident.</p> </li> </ol>"},{"location":"pix-chassis-user-manual/after-sale-service-and-technical-support/#additional-declaration","title":"Additional declaration","text":"<ol> <li> <p>All intellectual property rights of the self-developed software and hardware products in this product are not transferred with the sale of the product.</p> </li> <li> <p>Confidential information about the products must not be disclosed in whole or in part to any third party without authorization from PIX Moving.</p> </li> <li> <p>In the event of such a breach of intellectual property rights, PIX Moving will be entitled to demand that the infringement be stopped immediately and that criminal and civil liability and economic loss be pursued in accordance with the law.</p> </li> </ol>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/","title":"Mauntenance and Precautions","text":""},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#maintenance-and-precautions","title":"Maintenance And Precautions","text":""},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#1-chassis-use-tips","title":"1 Chassis Use Tips","text":"<p>When the chassis is running, you should pay attention to protecting the safety of the surrounding people and protecting the chassis from injury. When running the chassis, you should ensure the safety of the environment around the chassis. The following guidelines for safe operation should be followed:</p> <p></p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#2-battery-and-charger-use-considerations","title":"2 Battery And Charger Use Considerations","text":"<p>Warning!!</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#notice-and-warning-items-using-the-battery","title":"Notice and warning items using the battery","text":"<p>In order to prevent the battery leaking, getting hot and exploding, please pay attention to preventing measure as following: </p> <ul> <li> <p>It is strictly forbidden to immerse the battery in seawater or water. When not in use, it should be placed in a cool and dry environment.</p> </li> <li> <p>It is forbidden to use and leave the battery next to heat and high temperature sources, such as fire, heaters, etc.</p> </li> <li> <p>When charging, please use a specific charger for lithium batteries. </p> </li> <li> <p>It is strictly forbidden to reverse the positive and negative poles of the battery </p> </li> <li> <p>Do not insert the battery directly into the power socket</p> </li> <li> <p>Do not throw batteries into fire or heater</p> </li> <li> <p>It is forbidden to directly connect the positive and negative poles of the battery with metal to cause a short circuit</p> </li> <li> <p>It is forbidden to transport or store batteries together with metals, such as hairpins, necklaces, etc.</p> </li> <li> <p>It is forbidden to knock or throw, step on the battery, etc.</p> </li> <li> <p>It is forbidden to directly weld the battery and pierce the battery with nails or other sharp objects; </p> </li> <li> <p>It is forbidden to use it in places with strong static electricity and strong magnetic field, otherwise it will easily damage the battery safety protection device and bring unsafe hidden dangers</p> </li> <li> <p>If the battery leaks and the electrolyte enters the eyes, please do not rub them. Rinse the eyes with clean water and send to a doctor immediately, otherwise it will hurt the eyes.</p> </li> <li> <p>If the battery emits peculiar smell, heat, discoloration, deformation or any abnormality occurs during use, storage or charging, immediately remove the battery from the device or charger and stop using it. </p> </li> <li> <p>If the electrode is dirty, wipe it off with a dry cloth before use, otherwise it may cause poor contact and function failure.</p> </li> <li> <p>Discarded batteries should be wrapped with insulating paper to prevent fire and explosion.</p> </li> </ul>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#charger","title":"Charger","text":"<ul> <li> <p>Do not place the charger in the rain!</p> </li> <li> <p>There are high-voltage components inside the charger, please do not disassemble it without authorization!</p> </li> <li> <p>Do not block the air inlet and outlet of the charger! </p> </li> <li> <p>The battery voltage must match the nominal voltage of the charger! </p> </li> <li> <p>Disconnect the power cord and the charging plug while moving the charger. </p> </li> </ul> <p>If you have any questions, you can call the company, and our company will serve you  wholeheartedly\u3002</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#3-parking-maintenance","title":"3 Parking Maintenance","text":""},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#when-the-chassis-will-not-be-used-for-an-extended-period-of-time-follow-these-suggestions","title":"When the chassis will not be used for an extended period of time, follow these suggestions:","text":"<ol> <li> <p>Stop the vehicle and apply the handbrake. The chassis parking site must be flat (it is forbidden to park the chassis on the slope for a long time. If the chassis must be parked on the slope due to chassis failure or other reasons, it must be blocked by triangular blocks or stones and other hard objects in the downhill direction of the wheels. To prevent the vehicle from rolling), the parking brake handle should be pulled up after the chassis stops.</p> </li> <li> <p>Do a good job of rainproof, moistureproof and dustproof. The electrical components of the chassis should not be in contact with rainwater or dust. When the vehicle is parked, it should be protected from rain, and the interface should be protected from dust and insulation.</p> </li> <li> <p>The 12V battery should be powered off. When the chassis is parked for a long time, please power off the 12V small battery. Remove the negative pole of the power supply from the battery and perform insulation treatment.</p> </li> <li> <p>**Anti-rust. ** Wipe the vehicle clean with a wet towel, brush and other tools, and apply anti-rust oil where necessary for daily routine maintenance.</p> </li> <li> <p>Keep away from fire and low temperature. When the temperature is lower than 0 \u2103, the chassis should be parked indoors, so as not to cause the chassis to fail to start due to low temperature.</p> </li> </ol>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#when-you-need-to-start-the-chassis-without-using-it-for-a-long-time-please-do-the-following-operations-before-use","title":"When you need to start the chassis without using it for a long time, please do the following operations before use:","text":"<ol> <li> <p>Check whether the battery power meets the usage requirements.</p> </li> <li> <p>Check each oil pipe joint for oil leakage.</p> </li> <li> <p>Check whether the wires of the battery electrode column are tightened and whether other wires are loose.</p> </li> <li> <p>Check whether the tire pressure (2.6-2.8bar), steering and braking functions are normal.</p> </li> <li> <p>Check whether the lighting and other signal devices are normal.</p> </li> <li> <p>When it is found that the suspension, brake, steering or connection are jammed or corroded, an appropriate amount of lubricating oil should be used for lubrication.</p> </li> <li> <p>Check the battery level, and charge it in time when the vehicle battery level is too low.</p> </li> <li> <p>The charging environment should be kept dry and ventilated, and there should be no combustibles within 2 meters around the vehicle and charging equipment.</p> </li> <li> <p>Problems found during the inspection should be eliminated before the vehicle runs.</p> </li> </ol>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#4-maintenance-advice","title":"4 Maintenance Advice","text":"<p>Regular maintenance of the chassis will help reduce the failure of chassis components and prolong the service life of the chassis.</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#structural-appearance","title":"Structural Appearance","text":"<p>Turn off the chassis. Clean the dust and stains on the chassis, and prevent the components from entering the interior. Check the chassis body structure, the paint surface is normal without falling off, the bolts are locked without looseness, and the wiring harness is normal without breakage. Apply grease to the moving parts such as the steering ball joint, the suspension swing arm bushing, and the swing arm fixing seat. Check the wiring harness leading from the chassis to the bodywork to ensure that there are no faults such as damage or breakage.</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#steering-system","title":"Steering System","text":"<p>Check that the steering tie rod nut is locked tightly without looseness, and the steering knuckle arm is fastened firmly without looseness. The test steering can be turned to the maximum angle normally, and it will automatically and smoothly return to the neutral position after releasing the joystick. There is no abnormal sound during the test steering process, and the response is sensitive and smooth.</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#braking-system","title":"Braking System","text":"<p>Check that the brake calipers have no oil leakage, and the oil pipes are not damaged or broken. Check to make sure that there is enough oil in the brake oil pot. It is recommended to replace the brake oil once every one to two years. Check to confirm that the brake disc is not deformed or cracked, and the brake pads are not consumed to the safety line. Test that the brake function is normal, there is no abnormal sound when the brake is released, and there is no friction and resistance when the brake is released.</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#power-system","title":"Power System","text":"<p>Check that the appearance of the hub and tire is not damaged or deformed, and the mounting nuts of the in-wheel motor are fastened without loosening. Check that the tire pressure is sufficient, and the tire pattern wear has not reached the safety line. The motors under testing rotates smoothly without abnormal noise, and each wheel rotates normally.</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#handbrake-system","title":"Handbrake System","text":"<p>Check that the handbrake caliper is installed and fastened without looseness, and the wire rope is fastened without looseness. Test that the handbrake is released and released normally, and the caliper is clamped and returned normally. Apply grease to the movable spring part of the caliper.</p>"},{"location":"pix-chassis-user-manual/maintenance-and-precautions/#remote-control","title":"Remote Control","text":"<p>Turn off the chassis. Clean up the dust and stains on the remote control. Check the power of the remote control, and replace the battery in time if the power is low. Check the push rods, buttons, and levers of the remote control to ensure that the levers are moved and the buttons are pressed normally.</p>"},{"location":"pix-chassis-user-manual/product-introduction/","title":"Product Introduction","text":""},{"location":"pix-chassis-user-manual/product-introduction/#product-introduction","title":"Product Introduction","text":""},{"location":"pix-chassis-user-manual/product-introduction/#1-product-list","title":"1 Product List","text":""},{"location":"pix-chassis-user-manual/product-introduction/#2-basic-functions","title":"2 Basic Functions","text":"<p>The chassis is connected to the chassis body through a wireless remote control, and the basic control of the chassis can be performed through a wireless remote control or other CAN communication control systems, and autonomous driving can also be deployed to realize autonomous driving functions, including:</p> <ul> <li> <p>Four-wheel independent motion control [rear drive, four-wheel drive, four-wheel independent control and differential steering mode can be opened under advanced functions (optional)].</p> </li> <li> <p>Chassis gear switching (forward gear, reverse gear, neutral gear).</p> </li> <li> <p>Two steering modes (front wheel Ackerman steering mode, four-wheel steering mode).</p> </li> <li> <p>Chassis Electric Parking Brake (EPB)/hydraulic brake control.</p> </li> <li> <p>Chassis brake control.</p> </li> <li> <p>Multiple voltage platform power supply function.</p> </li> <li> <p>Autonomous driving/remote control switching.</p> </li> <li> <p>Low speed driving mode.</p> </li> <li> <p>Advanced autonomous driving development, etc.</p> </li> </ul>"},{"location":"pix-chassis-user-manual/product-introduction/#3-product-overview","title":"3 Product Overview","text":"<p>The main load-bearing structure of the PIXLOOP chassis is assembled with high-strength steel, and the surface cover is sprayed aluminum. The wheel suspension part is formed by professional stamping, and the design process uses finite element analysis to fully meet the various impacts and challenges brought about by vehicle motion control and different scene factors. Surface formed decking provides high mechanical strength combined with aesthetics. The chassis body adopts an intercommunicating box-type structure design, which provides relatively large space redundancy for chassis equipment installation and later expansion.</p> <p></p>"},{"location":"pix-chassis-user-manual/product-introduction/#31-switch-and-connection-ports","title":"3.1 Switch And Connection Ports","text":"<p>The schematic diagram of the chassis switch and the open interface is as follows:</p> <p></p>"},{"location":"pix-chassis-user-manual/product-introduction/#emergency-stop","title":"Emergency Stop","text":"<p>The emergency stop switch of the body is triggered after being pressed, and the trigger takes effect immediately.The chassis loses power, the turn signal \"double flashes\", and the chassis enters the parking state. Rotate right as shown in the figure to release the emergency stop state.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#can-a","title":"CAN A","text":"<p>The autonomous driving CAN is used to receive commands and feedback chassis information. It is located under the rear access panel of the chassis body and on the surface of the chassis. There are two places in total.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#obd","title":"OBD","text":"<p>Fault access port for chassis inspection.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#power-interface","title":"Power Interface","text":"<p>The 24V power interface provides a rated 300W 24V DC power supply; the 12V rated 500W DC power supply provides two types of multiple 12V DC power interfaces. The voltage mark is marked on the corresponding wiring harness.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#32-light-indication","title":"3.2 Light Indication","text":"<p>The chassis provides the basic lighting system of the vehicle. Compared with traditional vehicles, it includes headlights, front and rear turn signals, and brake lights.</p> <p></p>"},{"location":"pix-chassis-user-manual/product-introduction/#headlight","title":"Headlight","text":"<p>The chassis headlights are controlled by the remote control toggle switch. Open the chassis, when the toggle switch is in the down position, the headlights are dimly lit in blue. When the toggle switch is in the upper position, the headlights are always on, and the light color is white. At the same time, the headlights provide a system development interface to meet the development of secondary headlight control strategies.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#turning-light","title":"Turning light","text":"<p>The chassis turning lights are standard turning status lights, and the specifications of the front, rear, left, and right turn lights are the same. By default, the turning lights are automatically controlled, and a system development interface is provided at the same time. When the chassis triggers an emergency stop or loses contact, the four turning lights continue to \"double flash\".</p>"},{"location":"pix-chassis-user-manual/product-introduction/#brake-lightstop-light","title":"Brake light(Stop light)","text":"<p>The chassis brake light is located at the rear of the body, also known as the tail light. When the system is turned on, the taillights will remain on continuously, and will be bright when braking. At the same time, the taillight provides a system development interface to meet the secondary taillight control strategy development.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#33-romote-control","title":"3.3 Romote Control","text":"<p>The wireless remote control is the basic controller connected to the PIX chassis. All basic vehicle controls can be realized under the condition of the wireless remote control running. It is also the chassis control interface with the highest authority other than non-body control.</p> Remote control frequency band 443MHz Receiver communication interface CAN Interface Remote control power supply mode 3\u00d71.5V No.5 dry cell Remote control display LCD display Receiver power supply 12-24V DC power supply Communication distance 150M (depending on the surrounding environment) <p></p> <p>The operation panel integrates a variety of switches, including remote control joystick \u00d7 2; two-stage toggle switch \u00d7 3; button \u00d7 4; knob switch \u00d7 4, the functions are introduced as follows.</p> <p></p> No. Button Name No. Button Name 1 Power switch 8 Steering push rod 2 Throttling/Braking push rod 9 Power control mode 3 Gear switch: D N R 10 Low speed mode switch 4 Headlight switch 11 Drive Mode(Four-wheel drive switch) 5 Parking switch 12 Emergency Stop 6 Control mode: Remote Control/Autonomous driving 13 Display switch 7 Steering Mode 14 Lock"},{"location":"pix-chassis-user-manual/product-introduction/#power-switch","title":"Power Switch","text":"<p>The power switch is the power-on switch of the remote control.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#throttlingbraking-push-rod","title":"Throttling/Braking push rod","text":"<p>This push rod controls the accelerator signal and brake signal of the vehicle. Both the accelerator control and the brake control are 0-1024 one-way push rodcontrols. Push the rod up to realize the chassis acceleration operation, and push it down to realize the chassis electronic brake operation.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#gear-switch-d-n-r","title":"Gear switch: D N R","text":"<p>The knob controls the vehicle gear switch, providing D, N, R three gear modes.</p> <ul> <li> <p>D gear: Forward gear, the vehicle moves forward when the accelerator is pushed.</p> </li> <li> <p>N gear: The neutral gear is also the parking gear, and the vehicle does not respond when the accelerator is pushed.</p> </li> <li> <p>R gear: Reverse gear, the vehicle moves backward when the accelerator is pushed.</p> </li> </ul>"},{"location":"pix-chassis-user-manual/product-introduction/#parking-switch","title":"Parking switch","text":"<p>It is a two-stage push rod switch, which can control the electronic parking brake(EPB). When the push rod switch is in the upper position, the parking function is turned off. The push rod switch is in the down position to start the parking function</p>"},{"location":"pix-chassis-user-manual/product-introduction/#control-mode-remote-controlautonomous-driving","title":"Control mode: Remote Control/Autonomous driving","text":"<p>This button toggles the chassis control mode. Push the rod down to switch to the autonomous driving mode, and push the rod up to exit the autonomous driving mode and switch to the manual remote control mode.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#steering-mode","title":"Steering Mode","text":"<p>The knob controls the switching of the steering mode of the chassis, providing three steering modes: normal steering mode, front and rear opposite direction steering mode, and front and rear same direction steering mode.</p> <p></p>"},{"location":"pix-chassis-user-manual/product-introduction/#steering-push-rod","title":"Steering push rod","text":"<p>This push rod controls the steering signal of the chassis, and the steering control is a two-way push rod control with levels from -1024 to +1024. Move the push rod to the left, and the chassis will turn left. Move the push rod to the right, and the chassis will turn right.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#power-control-mode","title":"Power control mode","text":"<p>The chassis supports the torque control method. In the torque control mode, the remote controller outputs the torque value, that is, the driving force of the motor.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#low-speed-mode-switch","title":"Low speed mode switch","text":"<p>This button activates low speed mode. The low-speed mode is mainly to prevent the chassis speed from being too fast and causing danger when the operator is not familiar with the operation method. In speed control mode, the speed limit is 5km/h. In throttle mode, when the speed is greater than 4km/h, the chassis will limit the requested torque, and the requested torque will be reduced to 0 when the speed exceeds 5km/h. If you are going downhill, the speed may exceed 5km/h due to gravity.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#drive-modefour-wheel-drive-switch","title":"Drive Mode(Four-wheel drive switch)","text":"<p>The switching of two-wheel motor driving and four-wheel motor driving.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#emergency-stop_1","title":"Emergency Stop","text":"<p>Control the vehicle to an emergency stop. Press the emergency stop switch button to start the emergency stop of the chassis, and turn the emergency stop switch button to the right to release the emergency stop function.</p> <p>NOTE: The emergency stop switch is for emergency use only. Do not keep the emergency stop switch button pressed for a long time.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#display-switch","title":"Display Switch","text":"<p>The remote control mainly has two pages, which can be switched through the Display Switch on the remote control. The first display screen mainly displays the operation instructions and the basic status of the chassis, and the second display interface mainly displays the chassis mileage, specific system faults and the signal strength of the remote control (the signal strength ranges from 0-255 to represent from weak to strong).</p>"},{"location":"pix-chassis-user-manual/product-introduction/#lock","title":"Lock","text":"<p>The remote control cannot be operated after it is locked.</p>"},{"location":"pix-chassis-user-manual/product-introduction/#display-panel-introduction","title":"Display panel introduction","text":"<p>The remote control has two main pages, which can be switched through the Display Switch on the remote control. The first display screen mainly displays the operation instructions and the basic status of the chassis. The detailed introduction is as shown in the figure below.</p> <p></p> <p>The second display interface mainly displays the chassis mileage, specific system faults and the signal strength of the remote control. The detailed introduction is shown in the figure below (the signal strength ranges from 0-255 to represent from weak to strong).</p> <p></p> <p>In addition, the remote control has a prompt interface for displaying fault signals of the remote control.</p> <p></p>"},{"location":"pix-chassis-user-manual/product-introduction/#tips-for-safe-operation-of-the-remote-control","title":"Tips for safe operation of the remote control","text":"<ul> <li> <p>When the remote control is turned on and off, it is necessary to ensure that each key is in the closed state, that is, parking, neutral, remote control takeover, and no throttle.</p> </li> <li> <p>After entering the remote control mode, do not push the accelerator to the maximum at one time to avoid danger, but slowly push the accelerator to control the direction to verify whether the buttons are working normally.</p> </li> <li> <p>The range of the remote control is guaranteed to be 50 meters in an open environment</p> </li> <li> <p>After parking, ensure that the vehicle is parked and in neutral, and avoid parking on ramps.</p> </li> <li> <p>For safety reasons, anyone should carefully read the relevant instructions of the remote control before using it, and do not hand over the remote control to people who are not familiar with the relevant operations to avoid danger;</p> </li> <li> <p>After the remote control signal is lost, the chassis triggers the safety protection mechanism, and the chassis stops in an emergency</p> </li> <li> <p>For your safety, before entering the automatic driving mode, please be sure to be familiar with the various operations of the remote control in advance, especially for the use of the emergency stop function, please confirm the remote control operation before entering the autonomous driving mode each time. For your safety, we have defined the absolute priority of the remote control at the industrial computer and the underlying protocol layer, that is, in any state of platform movement (please ensure that the remote control has sufficient power before each operation), as long as the remote control is powered on and in the remote control takeover state, the platform will enter the manual takeover mode to escort your safety test.</p> </li> </ul>"},{"location":"pix-chassis-user-manual/specs/","title":"Specs of Chassis","text":""},{"location":"pix-chassis-user-manual/specs/#specs-of-chassis","title":"Specs of Chassis","text":""},{"location":"pix-chassis-user-manual/specs/#1-the-overall-specs-of-the-chassis","title":"1 The overall specs of the chassis","text":"Dimensions (mm) 2510\u00d71700\u00d7646 Wheelbase (mm) 1900 Front/Rear Wheel Track (mm) 1465/1465 Front/Rear Overhang (mm) 237/237 Min Ground Clearance (mm) 175/170 Min Turning Radius (m) 3/6 Curb Weight (kg) 450/420 Max Allowable Load Mass  (kg) 500/400 Full Load Mass (kg) 950/820 Normal Speed (Km/h) \u226440 Max Speed (Km/h) No Load 60/55 Max Gradability(%) No Load 30/20 Acceleration Time (s)(0-30Km) No Load 4.5/9 Inner/Outer Wheel Steering Angle (\u00b0) 30/27 Suspension Type Front &amp; Rear Double Wishbone Independent Suspension IP Level IP56 Suspension Spring Stroke (mm) Full Load 30\u00b13 Frame Material High Strength Steel Drive Style Four-Wheel Drive Cruising Range (Km) No Load 70"},{"location":"pix-chassis-user-manual/specs/#2-specs-of-steering-system","title":"2 Specs of Steering System","text":"<p>The steering system is mainly composed of the steering power supply system, the steering gear assembly and the steering gear controller. The power supply of the steering gear is provided by the 12V DC standard on-board system, and the steering gear and the controller meet the standards of mass-produced vehicles.</p> Rated Power (KW) 0.5 Rated Torque(N.M) 4.5 Rated Rotating Speed (r/min) 1050 Operating Voltage (V) 10.8~14 Steering Range (\u00b0) \u00b1450 Steering Structure Drive-by-wire Electric Steering Steering Type Ackerman Steering Steering Mode Four-wheel/Wedge Steering Operating Temperature (\u2103) -40~105 Communication Speed (kps) 500 Steering Accuracy  (\u00b0) 1 Response Time (ms) \u2264150 Max Output Force of Steering Rod(N) 10000 Communication Protocol CAN2.0B Steady-state error (\u00b0) \u00b11 Overshoot (\u00b0) \u226415 Control Method Target Steering Wheel Angle &amp; Angular Velocity Toe-in (mm) 5"},{"location":"pix-chassis-user-manual/specs/#3-specs-of-braking-system","title":"3 Specs of Braking System","text":"<p>Compared with the traditional automobile braking system, the braking system of the chassis reduces the number of actuators related to manual braking, and the braking of the whole chassis is completed by electronic control. The main components of the brake system include: brake power supply system, brake hydraulic oil pipe circuit, brake disc and electronic caliper. In addition to hydraulic braking, the vehicle also provides electronic parking functions.</p> Braking Type for Driving Drive-by-wire Hydraulic Braking Braking Type for Parking Electronic Parking System Overshoot(Mpa) 0.5 Brake Type Disc otor Type Permanent Magnet Brushless Motor Rated Power (KW) 0.45 Rated Torque(N.M) 2.3 Rated Rotating Speed (r/min) 1700 Operating Voltage (V) 9~14 Response Time (ms) \u2264200 Communication Protocol CAN2.0B Max Braking Pressure (Mpa) 7 Max Pressure Build-up Time(ms) \u2264300ms Control Method target pressure loop-close Control precision (Mpa) 0.1 Steady-state Error (Mpa) 0.3 Operating Temperature (\u2103) -40 ~ 85 Max Braking Distance (m)Full load@30km/h \u22646"},{"location":"pix-chassis-user-manual/specs/#4-specs-of-power-system","title":"4 Specs of Power System","text":"<p>The power system is mainly composed of 72V DC power supply battery, power battery distribution box, hub motor, hub motor controller, vehicle control system and connecting wiring harness. The power system parameters are as follows.</p> Rated Power (KW) 4\u00d73/2\u00d73 Rated Torque(N.M) 4\u00d7126/2\u00d7126 Rated Rotating Speed (r/min) 230 eak Power(KW) 4\u00d73.8/2\u00d73.8 Peak Torque (N.M) 4\u00d7180 Peak Rotating Speed (r/min) 550 Rated Voltage (V) 72V Cooling Method Wind Speed Control Accuracy (km/h) 0.1 Motor Size (mm) \u00f8280 Responding Speed (ms) \u2264200ms Steady-state Error (km/h) 0.2 Communication Protocol CAN2.0B Drive motor type Permanent Magnet Brushless DC Motor Overshoot (km/h) 0.4 Control Method Accelerator Pedal Opening (Torque Control &amp; Speed Control)"},{"location":"pix-chassis-user-manual/specs/#5-specs-of-power-supply-system","title":"5 Specs of Power Supply System","text":"Power Battery Type Ternary Lithium Battery Rated Voltage of Battery System (V) 72 Rated Capacity of Battery System (AH) 100/150 Battery System Energy (kW.h) 7.2/10.8 Max Output Power of Battery System(KW)(less than or equal to 60S) 25 Over-discharge Protection Method for Power Battery BMS Overcharge Protection Method for Power Battery BMS Charging Method C Slow Charge Charging Time (h) 6 Cooling Method Natural Cooling Low Voltage Starting Power 12V Lead-acid Battery"},{"location":"pix-chassis-user-manual/specs/#6-dimension-drawing","title":"6 Dimension Drawing","text":""},{"location":"pix-chassis-user-manual/usage-and-development/","title":"Usage and Development","text":""},{"location":"pix-chassis-user-manual/usage-and-development/#usage-and-development","title":"Usage and development","text":""},{"location":"pix-chassis-user-manual/usage-and-development/#1-remote-control-chassis","title":"1 Remote Control Chassis","text":""},{"location":"pix-chassis-user-manual/usage-and-development/#chassis-power-on","title":"Chassis power on","text":"<ul> <li> <p>Open the rear inspection cover of the chassis body</p> </li> <li> <p>Press the chassis power switch, the chassis enters initialization and self-test, it takes about 5 seconds, and starts after the self-test is completed.</p> </li> </ul> <p></p> <p>Tip: The switch has its own indicator light. The switch open light is red and the chassis off light if off.</p>"},{"location":"pix-chassis-user-manual/usage-and-development/#connect-the-remote-control","title":"Connect the remote control","text":"<p>Rotate the power switch of the wireless remote control to the ON position, turn on the switch of the remote control, and it is in the remote control takeover mode. The button is in the park and neutral positions, and the left and right push rods are in the middle position, so that the remote control is powered on and enters the remote control takeover mode. After the startup is successful, the page of the remote control is displayed as follows:</p> <p></p> <p>Tip: If there is an abnormality, please check the emergency stop and the remote control button. Refer to the common problems to deal with, and proceed to the next step after confiming that there is no error.</p>"},{"location":"pix-chassis-user-manual/usage-and-development/#chassis-shutdown","title":"Chassis shutdown","text":"<p>After ensuring that the vehicle is parked correctly, activate the parking button of the remote control, turn off the power button of the remote control, and press the power button of the chassis to ensure that the vehicle is powered off.</p>"},{"location":"pix-chassis-user-manual/usage-and-development/#2-charging","title":"2 Charging","text":"<p>The charging environment should be kept dry and ventilated. There should be no combustibles within 2 meters around the chassis and charging equipment. Follow the steps below to charge</p> <ol> <li> <p>Power off the chassis</p> </li> <li> <p>Connecting the Portable Charger to the Chassis Charging Socket.</p> </li> <li> <p>Connect to AC power (The voltage standard in China is 220V)</p> </li> </ol> <p></p>"},{"location":"pix-chassis-user-manual/usage-and-development/#status-of-the-indicator-light","title":"Status of the indicator light","text":"<ul> <li> <p>Red and green flash alternately (one second interval), the battery is not connected, and the battery cannot be detected;</p> </li> <li> <p>The red indicator light flashes once per second, the fan is running, and the battery capacity is &lt;80%;</p> </li> <li> <p>The yellow light/(green light) indicator flashes once every second, and the battery power is \u226580%</p> </li> <li> <p>Green light is always on (power off) battery power = 100%</p> </li> <li> <p>When the indicator light of the charger is green, it means that the charging is completed.</p> </li> <li> <p>Unplug the power connector of the charger.</p> </li> <li> <p>Unplug the charging port connector of the charger.</p> </li> </ul>"},{"location":"pix-chassis-user-manual/usage-and-development/#3-development-use","title":"3 Development Use","text":""},{"location":"pix-chassis-user-manual/usage-and-development/#31-upper-pod-development-support","title":"3.1 Upper Pod Development Support","text":""},{"location":"pix-chassis-user-manual/usage-and-development/#reserved-mounting-point","title":"Reserved mounting point","text":"<p>Hardware mount points. The chassis provides convenient hardware installation points, and customers can quickly and easily install brackets and equipment according to the arranged installation points, examples are as follows:</p> <p></p> <p>The connection is recommended to use the following specifications to install the connection material:</p> <ul> <li>Shrapnel nut, the reference specification of which is European standard 20M5.</li> <li>The installation guide, the specification of which is the European standard 2040 profile.</li> <li>Bolt, the reference specification of which is M5\u00d710.</li> </ul> <p></p>"},{"location":"pix-chassis-user-manual/usage-and-development/#chassis-boundary-model","title":"Chassis boundary model","text":"<p>The model contains two formats of cgr and 3dxml, which are deparameter formats, and customers can open them with current mainstream 3D engineering software, including but not limited to Dassault CATIA, UG, and Autodesk. CGR needs to be opened in insert mode when opening in CATIA.</p> <p>Note that this file cannot be distributed at will, and some parts and objects are different, so it can only be used as a reference.</p> <p></p>"},{"location":"pix-chassis-user-manual/usage-and-development/#32-autonomous-driving-application","title":"3.2 Autonomous Driving Application","text":"<p>The chassis provides common power supply for autonomous driving, dedicated CAN interface, standard chassis open automatic driving protocol and corresponding DBC files.</p> <p>The cumulative output rated power of the power interface is 12V500W, 24V300W, and the interface type refers to \"Product Overview-Switch Interface\".</p> <p>Provide two dedicated CAN interfaces for autonomous driving, plug-in model DB9, CAN2.0B communication, belonging to the chassis CAN-A</p> <p>Provide standard chassis autonomous driving CAN protocol and corresponding DBC files.</p> <p></p> <p>When turning on the autonomous driving function, you need to switch the autonomous driving mode on the remote control.</p> <p></p>"},{"location":"pix-chassis-user-manual/usage-and-development/#33-advanced-rights-optional","title":"3.3 Advanced Rights (Optional)","text":"<p>Support distributed drive research and development, realize advanced motion control, and open lighting control interface. The advanced driving interface is a control interface for studying the chassis dynamics model and optimizing the dynamics model according to your actual application. After the advanced mode is enabled, the main control algorithm and logic of the VCU can be bypassed, and instructions can be issued directly to each motion actuator. This item needs to be opened when purchasing an order, and conventional vehicles do not have this function.</p>"},{"location":"pix-chassis-user-manual/vehicle-safety-mechanism/","title":"Vehicle Safety Mechanism","text":""},{"location":"pix-chassis-user-manual/vehicle-safety-mechanism/#vehicle-safety-mechanism","title":"Vehicle Safety Mechanism","text":""},{"location":"pix-chassis-user-manual/vehicle-safety-mechanism/#1-prevent-the-wrong-touch","title":"1 Prevent The Wrong Touch","text":"<p>In order to ensure the driving safety of the vehicle, the accelerator push rod of the remote control is equipped with a misoperation mechanism, that is, the chassis does not move when the accelerator pusher is pushed violently, preventing the vehicle from \"jumping out\" rapidly.</p> <p>Note: For the sake of safety, please ensure that there are no pedestrians and obstacles within 10M in front and behind the chassis when driving the vehicle remotely, and always pay attention to dangerous situations, and be ready to take over at any time. It is recommended that the remote control be responsible for normal testing.</p>"},{"location":"pix-chassis-user-manual/vehicle-safety-mechanism/#2-collision-sensor-optional","title":"2 Collision Sensor (Optional)","text":"<p>The standard chassis has reserved anti-collision strip wire harness interfaces in the front compartment and rear compartment of the chassis body.</p> <p>Chassis equipped with anti-collision strips has an anti-collision strip at the front and rear respectively, which can sense the pressure between the anti-collision strip and the chassis body to determine whether a collision has occurred. The minimum trigger force of the collision sensor is \u226450N, and the chassis immediately enters the emergency braking state after triggering , the vehicle enters the emergency braking mode, and the chassis will brake with the maximum braking force. In this mode, the vehicle cannot move and cannot be controlled. The emergency braking state can be released when the chassis loses contact with the collision object or the deformation of the anti-collision strip recovers (the internal switch is disconnected).</p> <p></p>"},{"location":"pix-chassis-user-manual/vehicle-safety-mechanism/#3-remote-control-emergency-stop","title":"3 Remote Control Emergency Stop","text":"<ul> <li> <p>When the chassis encounters an emergency, press the emergency stop button in the middle of the remote control to start the emergency stop of the chassis and the parking brake, and the remote control interface will display \"ESTOP!\".</p> </li> <li> <p>Turn the emergency stop button to the right to release the emergency stop function. After the emergency stop, the chassis' turn signal flashes twice, and the tail light is brightly lit, and the emergency stop is released and resumed.</p> </li> </ul> <p></p>"},{"location":"pix-chassis-user-manual/vehicle-safety-mechanism/#4-emergency-stop-switch-on-chassis","title":"4 Emergency Stop Switch on Chassis","text":"<ul> <li> <p>The function of the emergency stop switch is to provide an emergency stop signal to the vehicle, and the button is located on the left side of the chassis body.</p> </li> <li> <p>Press the emergency stop switch on the body to trigger emergency braking, the chassis enters the emergency braking state, and the chassis will brake with the maximum braking force.</p> </li> <li> <p>After the emergency stop, the chassis \u2018turning lights flash twice, and the tail light is brightly lit, and the emergency stop is released and resumed. In the state of emergency braking, the gear of the chassis is neutral, and the accelerator drive is invalid. Turn the emergency stop button clockwise to release the emergency braking state.</p> </li> </ul> <p></p>"},{"location":"sensor-calibration/","title":"Overview","text":""},{"location":"sensor-calibration/#sensor-calibration-introduction","title":"Sensor Calibration Introduction","text":""},{"location":"sensor-calibration/#overview","title":"Overview","text":"<p>In autonomous driving systems, sensor calibration is a critical process that is essential for ensuring the safety and performance of the autonomous driving system. Autonomous driving systems typically require multiple sensors to obtain environmental information around the vehicle, including cameras, LiDARs, and millimeter-wave radars. The calibration of these sensors can help the autonomous driving system accurately perceive and understand the environment around the vehicle.</p> <p>Specifically, the role of sensor calibration in autonomous driving systems includes:</p> <ol> <li>Precise positioning: Through calibration, the position, orientation, and relative distance between different sensors can be accurately determined, thereby achieving more accurate positioning and navigation.</li> <li>Optimized obstacle detection: Calibration can help the autonomous driving system accurately perceive and understand the obstacles around the vehicle, thereby avoiding collisions with other vehicles or objects.</li> <li>Improved lane-keeping ability: Calibration can improve the lane-keeping ability of the autonomous driving system, enabling the vehicle to more accurately recognize and track lanes.</li> <li>Improved prediction ability: Calibration can improve the prediction ability of the autonomous driving system, enabling it to more accurately predict the actions and intentions of other vehicles and pedestrians, thereby improving the safety and driving experience of the vehicle.</li> </ol>"},{"location":"sensor-calibration/#sensor-calibration","title":"Sensor calibration","text":"<ul> <li>camera-intrisics-calibration</li> <li>LiDAR-camera-calibration</li> <li>IMU-calibration</li> <li>LiDAR-IMU-calibration</li> <li>LiDAR-LiDAR-calibration</li> </ul>"},{"location":"sensor-calibration/#sensor-hardware-includes","title":"Sensor hardware includes","text":"<ul> <li>LiDAR <ul> <li>RS-Helios-16P</li> </ul> </li> <li>Camera<ul> <li>Sensing SG2-OX03CC-5200-GMSL2F-H120</li> </ul> </li> <li>Integrated Navigation<ul> <li>Huace CHC\u00ae CGI-410</li> </ul> </li> </ul>"},{"location":"sensor-calibration/#next","title":"NEXT","text":"<p>Now that you have completed the <code>Sensor Calibration Introduction</code>, you can proceed to:</p> <ul> <li>Calibration Tool Installation </li> </ul>"},{"location":"sensor-calibration/#references","title":"References","text":"<ul> <li>SensorsCalibration</li> <li>image_pipeline</li> <li>calibration_tools</li> <li>camera_calibration</li> <li>imu_utils</li> <li>code_utils</li> </ul>"},{"location":"sensor-calibration/IMU-calibration/","title":"IMU Calibration","text":""},{"location":"sensor-calibration/IMU-calibration/#imu-calibration","title":"IMU Calibration","text":""},{"location":"sensor-calibration/IMU-calibration/#overview","title":"Overview","text":"<p>IMU (Inertial Measurement Unit) is one of the important sensors in autonomous driving vehicles, which can measure the acceleration and angular velocity information of the vehicle in three-dimensional space. In order to ensure accurate control and positioning of autonomous driving vehicles, it is necessary to perform intrinsic calibration of IMU. The purpose of intrinsic calibration is to precisely measure the error parameters of the measuring equipment, including the biases, scale factors, non-orthogonality, etc. of the accelerometer and gyroscope. Intrinsic calibration can improve the accuracy of IMU, thereby improving the positioning accuracy and control accuracy of autonomous driving vehicles.</p>"},{"location":"sensor-calibration/IMU-calibration/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed calibration tool installation</li> <li>Prepared hardware:<ul> <li>Huace CHC\u00ae CGI-410</li> </ul> </li> <li>Data Type: <code>sensor_msgs/msg/Imu</code></li> <li>Data Requirement: Only record <code>angular_velocity</code> and <code>linear_acceleration</code>.</li> </ul> <p>As long as the data requirement is met, imu calibration can also be performed on ros2bag data from other sensors.</p>"},{"location":"sensor-calibration/IMU-calibration/#calibration-steps","title":"Calibration Steps","text":"<p>Note: Keep the industrial computer without running other ROS programs to prevent the sensor from being occupied.</p>"},{"location":"sensor-calibration/IMU-calibration/#step-1-configure-the-huace-chc-cgi-410-and-check-whether-the-combination-navigation-is-connected-to-the-industrial-computer","title":"Step 1: Configure the <code>Huace CHC\u00ae CGI-410</code> and check whether the combination navigation is connected to the industrial computer.","text":"<ol> <li>Open the <code>google_chrome</code> browser.</li> <li>Enter the website: <code>192.168.1.110</code>.</li> <li>Click in sequence: <code>I/O setting</code> -&gt; <code>TCP Server/NTRIP Caster4</code> -&gt; Disconnect -&gt; Connect.</li> </ol> <p> 4. Open the terminal and enter: <code>nc 192.168.1.110 9904</code> to determine whether the combination navigation is connected to the industrial computer. </p>"},{"location":"sensor-calibration/IMU-calibration/#step-2-record-imu-data-preparation","title":"Step 2: Record IMU data preparation.","text":"<ul> <li>Recording time: 2 hours.</li> <li>On a horizontal surface, the vehicle is placed stationary.</li> <li>Start the sensor.</li> </ul> <pre><code>source pix/pit-kit/Autoware/install/setup.bash\nros2 launch pixkit_sensor_kit_launch sensing.launch.xml\n</code></pre> <ul> <li>Start recording.</li> </ul> <pre><code>cd collect_script/ros2bag_collect_script/\n./collect_ros2bag.sh imu.yaml\ncd -\n</code></pre> <ul> <li>Recording success.</li> </ul> <pre><code>ros2 bag info ros2bag/imu_latest_ros2bag\n</code></pre> <p>Check whether the recording time <code>Duration</code> is greater than <code>2hr</code> (2 hours) [8802.282/3600=1.45h]</p> <p>Check whether <code>Count</code> and [Duration multiplied by frequency] are roughly the same: indicating that the data has not been lost too much.</p> <ul> <li>imu frequency is 100hz--8802.282*100=8802282</li> </ul> <p></p>"},{"location":"sensor-calibration/IMU-calibration/#step-3-launch-the-calibration-program-script","title":"Step 3: Launch the calibration program script.","text":"<ul> <li>Stop the sensor program that is running. <p>Enter <code>ros2 topic list</code>, and only two topics are left, indicating that no programs are running.</p> </li> </ul> <p></p> <ul> <li>Run the calibration script.</li> </ul> <pre><code>./calibration_script/imu_intrinsic/run_imu_cali.sh\n</code></pre> <p></p>"},{"location":"sensor-calibration/IMU-calibration/#step-4-check-the-calibration-results","title":"Step 4: Check the calibration results.","text":"<pre><code># Output the result.\ncat ./calibration_script/imu_intrinsic/output/output_imu_intrinsic.yaml\n</code></pre>"},{"location":"sensor-calibration/IMU-calibration/#calibration-result","title":"Calibration Result","text":"<p>Mapping of imu intrinsic calibration file parameters</p> xsens_imu_param.yaml param.yaml <code>gyr_n</code> <code>imuGyrNoise</code> <code>gyr_w</code> <code>imuGyrBiasN</code> <code>acc_n</code> <code>imuAccNoise</code> <code>acc_w</code> <code>imuAccBiasN</code> <p>sensor_calibration_tool/shared_folder/pix_data/imu/result/xsens_imu_param.yaml</p> <pre><code>Gyr:\n    unit: \" rad/s\"\n    avg-axis:\n    gyr_n: 1.5059072284923697e-03\n    gyr_w: 4.3430855283551206e-05\n    x-axis:\n    gyr_n: 1.6901233770452774e-03\n    gyr_w: 5.0850707578827144e-05\n    y-axis:\n    gyr_n: 1.3392742394140514e-03\n    gyr_w: 3.7654685426892668e-05\n    z-axis:\n    gyr_n: 1.4883240690177805e-03\n    gyr_w: 4.1787172844933785e-05\nAcc:\n    unit: \" m/s^2\"\n    avg-axis:\n    acc_n: 5.9215155351791055e-03\n    acc_w: 1.3379378640306186e-04\n    x-axis:\n    acc_n: 6.0017230453598448e-03\n    acc_w: 1.0726720420556991e-04\n    y-axis:\n    acc_n: 6.7689914243794181e-03\n    acc_w: 1.6961241589651517e-04\n    z-axis:\n    acc_n: 4.9938321357980535e-03\n    acc_w: 1.2450173910710051e-04\n</code></pre> <p>calibration_script/imu_intrinsic/config/param.yaml</p> <pre><code># IMU Settings\nimuAccNoise: 5.9215155351791055e-03\nimuGyrNoise: 1.5059072284923697e-03\nimuAccBiasN: 1.3379378640306186e-04\nimuGyrBiasN: 4.3430855283551206e-05\n</code></pre>"},{"location":"sensor-calibration/IMU-calibration/#next","title":"NEXT","text":"<p>Now that you have completed the <code>camera intrinsic calibration</code>, proceed to LiDAR-IMU Calibration.</p>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/","title":"LiDAR IMU Calibration","text":""},{"location":"sensor-calibration/LiDAR-IMU-calibration/#lidar-imu-calibration","title":"LiDAR IMU Calibration","text":""},{"location":"sensor-calibration/LiDAR-IMU-calibration/#overview","title":"Overview","text":"<p>LiDAR-IMU Calibration is the process of registering data from a LiDAR (Light Detection and Ranging) and an Inertial Measurement Unit (IMU) to align their data in time and space. This process solves the problem of temporal and spatial errors between the two sensors, improving the accuracy and stability of applications such as SLAM, localization, and mapping.</p> <p>LiDAR and IMU are commonly used sensors in the field of robotics. LiDAR is used to acquire 3D point cloud data of the environment, while IMU measures the robot's attitude (including angle and angular velocity). By calibrating the data from the two sensors, their relative position, attitude, and temporal relationship can be accurately determined, enabling more accurate and stable robot positioning, navigation, and mapping.</p> <p>During the calibration process, a set of data is collected with known poses (such as rotation and translation), and the data is processed to determine the relative pose and time offset between the two sensors. This process requires multiple calculations and optimizations and is usually assisted with tools such as calibration boards.</p> <p>It should be noted that different LiDARs and IMUs may have different error and noise characteristics, so the calibration process needs to be adjusted and optimized according to the specific sensors to achieve the best results.</p>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed Tool Installation</li> <li>Hardware prepared:<ul> <li>CHC\u00ae CGI-410</li> <li>Top-mounted LiDAR [RS-Helios-16P]</li> <li>Combination navigation and positioning status <code>Navigation Combination</code></li> </ul> </li> </ul>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#starting-calibration","title":"Starting Calibration","text":""},{"location":"sensor-calibration/LiDAR-IMU-calibration/#step-1-data-collection","title":"Step 1: Data Collection","text":"<ul> <li>Start the sensor</li> </ul> <pre><code>source pix/pit-kit/Autoware/install/setup.bash\nros2 launch pixkit_sensor_kit_launch sensing.launch.xml\n</code></pre> <ul> <li>Start recording</li> </ul> <pre><code>cd collect_script/ros2bag_collect_script/\n./collect_ros2bag.sh gnss_lidar.yaml\ncd -\n</code></pre> <ul> <li>Recording success indicator</li> </ul> <p>Recording requirements:   - Vehicle driving in a figure-eight pattern for three laps</p> <p></p> <pre><code>ros2 bag info ros2bag/gnss_lidar_latest_ros2bag\n</code></pre> <p>Check if <code>Count</code> and [Duration times frequency] are approximately the same: indicates that data loss is minimal.</p> <ul> <li>GNSS frequency is 50 Hz--82.776 * 50 = 4138.8</li> <li>LiDAR frequency is 10 Hz--82.776 * 10 = 827.76</li> </ul> <p></p>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#step-2-data-processing","title":"Step 2: Data Processing","text":"<ul> <li>Start processing</li> </ul> <pre><code>./collect_script/data_collectscript/lidar_imu_data.sh\n</code></pre> <ul> <li>Processing success indicator</li> </ul>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#step-3-start-calibration","title":"Step 3: Start Calibration","text":"<p>Mouse click to move the viewpoint</p> <p>Mouse double-click to rotate the viewpoint</p> <p></p>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#extrinsics-adjustment","title":"Extrinsics Adjustment","text":"Button Description +x degree Adjust the roll angle +y degree Adjust the pitch angle +z degree Adjust the yaw angle +x trans Adjust the x-axis displacement +y trans Adjust the y-axis displacement +z trans Adjust the z-axis displacement"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#success-indicator","title":"Success Indicator","text":"<pre><code>cat ./calibration_script/lidar2imu/output/sensors_calibration.yaml\n</code></pre>"},{"location":"sensor-calibration/LiDAR-IMU-calibration/#next","title":"NEXT","text":"<p>Now that you have completed the <code>LiDAR-IMU calibration</code>, you can proceed with the LiDAR-LiDAR calibration.</p>"},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/","title":"LiDAR-LiDAR Calibration","text":""},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#lidar-lidar-calibration","title":"LiDAR-LiDAR Calibration","text":""},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#overview","title":"Overview","text":"<p>This document provides instructions for calibrating the top laser radar [RS-Helios-16P] and the front blind spot radar [RS-Bpearl] using the lidar-to-lidar calibration tool.</p>"},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#prerequisites","title":"Prerequisites","text":"<ul> <li>The calibration tool has been installed, as described in Calibration Tool Installation.</li> <li>The following hardware is available:<ul> <li>Top laser radar [RS-Helios-16P]</li> <li>Front blind spot radar [RS-Bpearl]</li> </ul> </li> </ul>"},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#calibration-steps","title":"Calibration Steps","text":""},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#step-1-select-calibration-site","title":"Step 1: Select Calibration Site","text":"<ul> <li>Prepare two 1.8m X 0.9m wooden boards.</li> <li>Place the two wooden boards in the common viewing area of the two lidars.</li> <li>Place the two wooden boards at a 120-degree angle. </li> </ul> <p>If there are no such wooden boards, a corner of a wall can also be used as a reference.</p>"},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#step-2-launch-the-calibration-program","title":"Step 2: Launch the Calibration Program","text":"<pre><code>./calibration_script/lidar2lidar/run_lidar2lidar.sh\n</code></pre>"},{"location":"sensor-calibration/LiDAR-LiDAR-calibration/#step-3-check-calibration-results","title":"Step 3: Check Calibration Results","text":"<p>Observe rviz2. Calibration is complete when the white point cloud and the colored point cloud in the [left view|right view|top view|front view] overlap completely.</p> <ul> <li>White point cloud: Top lidar.</li> <li>Colored point cloud: Front blind spot lidar.</li> </ul> <p></p>"},{"location":"sensor-calibration/LiDAR-camera-calibration/","title":"LiDAR Camera calibration","text":""},{"location":"sensor-calibration/LiDAR-camera-calibration/#lidar-camera-calibration","title":"LiDAR Camera calibration","text":""},{"location":"sensor-calibration/LiDAR-camera-calibration/#overview","title":"Overview","text":"<p>The calibration of LiDAR to camera is used to register the 3D point cloud data of the LiDAR with the 2D image data of the camera, so as to achieve three-dimensional perception of objects. Through the calibration of LiDAR and camera, their relative position and posture, as well as the transformation matrix between them, can be determined, so that the three-dimensional point cloud data collected by LiDAR can be mapped to the camera image, and the image information collected by the camera can be converted into three-dimensional coordinate information. This is very important for applications such as autonomous driving and robot vision, which can achieve accurate perception and understanding of the environment.</p>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#objectives-of-this-chapter","title":"Objectives of this chapter","text":"<ul> <li>Understand extrinsic calibration</li> <li>Master the calibration skills of LiDAR to camera</li> <li>Calibrate qualified extrinsic parameters</li> </ul>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#calibration-of-the-vehicle","title":"Calibration of the vehicle","text":"<ul> <li>hook <ul> <li>Top LiDAR [RS-Helios-16P]</li> <li>Front camera [SG2-OX03CC-5200-GMSL2F-H120]</li> </ul> </li> </ul>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed camera intrinsic calibration</li> <li>Find a suitable calibration scene<ul> <li>There is a sedan in the camera image</li> <li>There is a utility pole in the camera image</li> <li>There is a wall with windows in the camera image</li> </ul> </li> </ul>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#start-calibration","title":"Start calibration","text":"<p>Completed camera intrinsic calibration -&gt; <code>step-3 Signs of success</code></p>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#step-1-collect-calibration-data","title":"step-1: Collect calibration data","text":"<pre><code>./calibration_script/lidar2camera/lidar2camera.sh\n</code></pre>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#check-if-the-collected-data-is-successfully-collected","title":"Check if the collected data is successfully collected","text":"<pre><code>ll ros2bag/pcd_png_data\n</code></pre>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#step-2-start-the-calibration-program","title":"step-2: Start the Calibration Program","text":""},{"location":"sensor-calibration/LiDAR-camera-calibration/#file-structure","title":"File structure","text":"Script Description Remarks lidar2camera.sh Calibration program startup script None lidar2camera.yaml Calibration program configuration file Input parameters for the calibration program parser.py Generate sensors_calibration.yaml file Generate parameters file for Autoware input Raw data for calibration Raw data required by the calibration program input/output_camera-intrinsic.json Camera intrinsic file Output file from camera intrinsic calibration input/top_center_lidar-to-center_camera-extrinsic.json Initial extrinsic file Default is sufficient output/sensors_calibration.yaml Extrinsic parameter file Parameters file for Autoware output/example.jpg Example output of calibration output/example.txt Example output of calibration"},{"location":"sensor-calibration/LiDAR-camera-calibration/#calibration_scriptlidar2cameralidar2camerayaml","title":"calibration_script/lidar2camera/lidar2camera.yaml","text":"Parameter Name Parameter Function Source pcd_path Path of input image required by the calibration program ros2bag/pcd_png_data/latest.pcd png_path Path of input point cloud required by the calibration program ros2bag/pcd_png_data/latest.png camera_intrinsic_filename Input camera intrinsic file required by the calibration program calibration_script/camera_intrinsic/output/output_camera-intrinsic.json lidar2camera_extrinsic_filename Input lidar-to-camera extrinsic file required by the calibration program Default is sufficient"},{"location":"sensor-calibration/LiDAR-camera-calibration/#copy-calibration-raw-data-to-input-folder","title":"Copy calibration raw data to input folder","text":"Copy File ros2bag/pcd_png_data/latest.pcd &gt; calibration_script/lidar2camera/input/latest.pcd ros2bag/pcd_png_data/latest.png &gt; calibration_script/lidar2camera/input/latest.png calibration_script/camera_intrinsic/output/output_camera-intrinsic.json &gt; calibration_script/lidar2camera/input/output_camera-intrinsic.json"},{"location":"sensor-calibration/LiDAR-camera-calibration/#start-calibration_1","title":"Start calibration","text":"<pre><code>./calibration_script/lidar2camera/lidar2camera.sh\n</code></pre>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#step-3-parameter-configuration","title":"step-3: Parameter Configuration","text":"<p> In the figure, the point clouds of the electric pole, the vehicle plate, and the window are aligned. This is a calibrated result. To achieve such a result, you need to adjust the parameters to achieve this calibration effect. Click the program button to fine-tune it.</p>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#extrinsic-adjustment","title":"Extrinsic Adjustment","text":"Button Description +x degree Roll angle adjustment +y degree Pitch angle adjustment +z degree Yaw angle adjustment +x trans X-axis displacement adjustment +y trans Y-axis displacement adjustment +z trans Z-axis displacement adjustment"},{"location":"sensor-calibration/LiDAR-camera-calibration/#camera-intrinsic-adjustment","title":"Camera Intrinsic Adjustment","text":"Button Description + fy Default value for camera intrinsic + fx Default value for camera <p>Intensity Color: The intensity of LiDAR is a parameter that records the strength of the laser beam return, and it shows the intensity of the point cloud under different materials.</p> <p>Overlap Filter: Eliminates the overlapping LiDAR points with a depth within 0.4m.</p> <p>deg step t step fxfy scale: These three buttons can adjust the step size of each click or keyboard input - default is recommended.</p> <p>point size: Adjusts the size of LiDAR points in the projected image.</p> <p>Reset: Click this button to reset all manual adjustments and restore the initial parameters.</p> <p>Save Image: Click this button after the calibration is finished to save the calibrated image, external and internal parameter matrices in the default directory.</p>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#step-4-validate-the-calibration-results","title":"Step-4: Validate the calibration results","text":"<ul> <li>Fill in the calibration results in the parameter configuration file<ul> <li>File 1: <code>~/pix/pit-kit/Autoware/install/individual_params/share/individual_params/config/default/pixkit_sensor_kit/sensors_calibration.yaml</code></li> <li>File 2: <code>~/pix/pit-kit/Autoware/install/pixkit_sensor_kit_description/share/pixkit_sensor_kit_description/config/sensors_calibration.yaml</code></li> <li>Calibration Results: <code>calibration_script/lidar2camera/config/sensors_calibration.yaml</code></li> </ul> </li> </ul> <p>Step 1: Backup <code>File 1</code> and <code>File 2</code>.</p> <p>Step 2: Fill in the <code>Calibration Results</code> in both <code>File 1</code> and <code>File 2</code>.</p> <ul> <li>Start the simulation to view the results</li> </ul> <pre><code>~/autoware_sim.sh\n</code></pre> <p></p> <p> </p>"},{"location":"sensor-calibration/LiDAR-camera-calibration/#next","title":"NEXT","text":"<p>Now that you have completed <code>LiDAR Camera calibration</code>, you can move on to IMU calibration</p>"},{"location":"sensor-calibration/calibration_tool_installation/","title":"Installation of Calibration Toolset","text":""},{"location":"sensor-calibration/calibration_tool_installation/#installation-of-calibration-toolset","title":"Installation of Calibration Toolset","text":"<p>For users who have purchased pixkit, this step has been completed for you. Please proceed to camera intrinsic calibration</p>"},{"location":"sensor-calibration/calibration_tool_installation/#overview","title":"Overview","text":"<ul> <li>ROS2 data collection package</li> <li>ROS2 calibration package</li> <li>Calibration executable files</li> </ul>"},{"location":"sensor-calibration/calibration_tool_installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Ubuntu 22.04</li> <li>Linux kernel == 5.19.0-40-generic</li> <li>ROS2: Humble</li> <li>Autoware</li> </ul>"},{"location":"sensor-calibration/calibration_tool_installation/#installation","title":"Installation","text":""},{"location":"sensor-calibration/calibration_tool_installation/#step-1-clone-the-code-repository","title":"Step 1: Clone the code repository","text":"<pre><code>git clone -b feature/deploy-calibration-tools https://github.com/pixmoving-moveit/sensor_calibration_tool.git\nmkdir sensors_calibration_tool\nvcs import sensors_calibration_tool &lt; sensors_calibration_tool.repos --recursive\n</code></pre>"},{"location":"sensor-calibration/calibration_tool_installation/#step-2-install-dependencies","title":"Step 2: Install Dependencies","text":""},{"location":"sensor-calibration/calibration_tool_installation/#install-dependencies-apt","title":"Install dependencies <code>[apt]</code>","text":"<pre><code># Camera intrinsic calibration tool\nsudo apt install ros-$ROS_DISTRO-camera-calibration-parsers\nsudo apt install ros-$ROS_DISTRO-camera-info-manager\nsudo apt install ros-$ROS_DISTRO-launch-testing-ament-cmake\n\n# IMU intrinsic calibration\nsudo apt-get install libdw-dev \n</code></pre>"},{"location":"sensor-calibration/calibration_tool_installation/#install-dependencies-source","title":"Install dependencies <code>[source]</code>","text":"<ul> <li>gflags</li> <li>jsoncpp</li> <li>Pangolin -- branch==v0.6</li> <li>fast_gicp</li> </ul>"},{"location":"sensor-calibration/calibration_tool_installation/#step-3-build","title":"Step 3: Build","text":"Calibration Name Calibration Program Program Address lidar2camera Executable program for lidar-to-camera calibration /sensors_calibration_tool/SensorsCalibration/lidar2camera/manual_calib/ lidar2imu Executable program for lidar-to-IMU calibration sensors_calibration_tool/SensorsCalibration/lidar2imu/manual_calib/ calibration_ws Executable programs for camera intrinsic and lidar-to-lidar calibration sensors_calibration_tool/calibration_ws/"},{"location":"sensor-calibration/calibration_tool_installation/#build-script-commands","title":"build script commands","text":"<pre><code>./cali_build.sh [function_name]\n# parameters as follows\n# help: Help document\n# calibration_ws\n#    - Calibration data acquisition package\n#    - IMU intrinsic calibration package\n#    - Camera intrinsic calibration package\n#    - Lidar-to-lidar calibration package\n# lidar2camera\n# lidar2imu\n</code></pre>"},{"location":"sensor-calibration/calibration_tool_installation/#build-lidar2camera-tool","title":"build lidar2camera tool","text":"<pre><code>./cail_build.sh lidar2camera\n</code></pre>"},{"location":"sensor-calibration/calibration_tool_installation/#build-lidar2imu-tool","title":"build lidar2imu tool","text":"<pre><code>./cail_build.sh lidar2imu\n</code></pre>"},{"location":"sensor-calibration/calibration_tool_installation/#build-calibration_ws","title":"build calibration_ws","text":"<pre><code>./cail_build.sh calibration_ws\n</code></pre> <p>The building of <code>calibration_ws</code> has successfully built, if you can see the message in the terminal below. <code>21 packages have been completed</code></p> <p></p>"},{"location":"sensor-calibration/calibration_tool_installation/#step-4-verify-calibrating-tools","title":"Step 4: verify calibrating tools","text":"<p>Verify whether the executable programs for lidar-to-camera and lidar-to-IMU calibration have been compiled successfully by executing the following command:</p> <pre><code># Execute the command and the output should be similar to the following image\ncd ./sensors_calibration_tool/SensorsCalibration/lidar2camera/manual_calib/\n./bin/run_lidar2camera data/0.png data/0.pcd data/center_camera-intrinsic.json data/top_center_lidar-to-center_camera-extrinsic.json\ncd -\n</code></pre> <p></p>"},{"location":"sensor-calibration/calibration_tool_installation/#next","title":"NEXT","text":"<p>Now that you have completed the <code>calibration tool installation</code>, you can proceed to</p> <ul> <li>camera intrinsic calibration</li> </ul>"},{"location":"sensor-calibration/calibration_tool_installation/#frequently-asked-questions","title":"Frequently Asked Questions","text":""},{"location":"sensor-calibration/calibration_tool_installation/#q1-error-occurs-when-executing-step-2-docker-deployment-build-docker-image","title":"Q1: Error occurs when executing <code>step-2: docker deployment - build docker image</code>","text":"<ul> <li>Analysis: Some files were not downloaded successfully due to network issues</li> <li>Solution: Repeat <code>step-2: docker deployment - build docker image</code> again</li> </ul>"},{"location":"sensor-calibration/camera-intrisics-calibration/","title":"Camera Intrisics Calibration","text":""},{"location":"sensor-calibration/camera-intrisics-calibration/#camera-intrisics-calibration","title":"Camera Intrisics Calibration","text":""},{"location":"sensor-calibration/camera-intrisics-calibration/#overview","title":"Overview","text":"<p>Camera intrinsic calibration is an important task in computer vision. Its purpose is to determine the intrinsics of the camera, such as the focal length, optical center, and distortion parameters. These intrinsics are key factors in camera imaging, which can affect the quality and geometric shape of the image.</p> <p>Intrinsic calibration can be completed by shooting a series of images of known objects (such as a chessboard). By analyzing these images, the camera's intrinsic parameters can be derived and saved as camera calibration parameters. Once the camera's intrinsic parameters are known, images can be corrected to eliminate distortion and correct the geometric shape of the image. This can make computer vision algorithms more accurate in analyzing and understanding images.</p> <p>Camera intrinsic calibration is necessary in many computer vision applications. For example, accurate camera parameters are required in fields such as 3D reconstruction, object tracking, and virtual reality. In addition, intrinsic calibration is also an important task in fields such as robot vision and autonomous driving.</p>"},{"location":"sensor-calibration/camera-intrisics-calibration/#prerequisites","title":"Prerequisites","text":"<ul> <li>Completed calibration tool installation</li> <li>Prepare calibration board<ul> <li>8x11 corner points</li> <li>Small square 0.05m X 0.05mX</li> <li>Material: diffuse aluminum profile </li> </ul> </li> </ul>"},{"location":"sensor-calibration/camera-intrisics-calibration/#start-calibration","title":"Start calibration","text":"<p>Make sure no other program is using the camera, and execute the following steps after restarting the industrial control computer</p>"},{"location":"sensor-calibration/camera-intrisics-calibration/#step-1-check-if-the-camera-is-connected-to-the-industrial-control-computer","title":"step-1: Check if the camera is connected to the industrial control computer","text":"<pre><code># Open Ubuntu's built-in camera software `cheese`\ncheese\n</code></pre> <p>Because the color space of the camera image is different from the default color space of the software, a color error is generated, which does not affect the subsequent operation.</p> <p></p>"},{"location":"sensor-calibration/camera-intrisics-calibration/#step-2-start-the-calibration-program","title":"step-2: Start the calibration program","text":"<p>Turn off cheese software to prevent the camera from being occupied.</p> <pre><code>./calibration_script/camera_intrinsic/run_usb_cam.sh \n</code></pre> <p></p>"},{"location":"sensor-calibration/camera-intrisics-calibration/#step-3-the-calibration-process","title":"step-3: The calibration process","text":"<p>If the calibration is proficient, the calibration will be completed in 2-3 minutes. </p> Parameter Description Button Description X The position of the camera's optical center on the X-axis of the image plane CALIBRATE Click this button to start calibration Y The position of the camera's optical center on the Y-axis of the image plane SAVE Click this button to save the calibration result Size The scaling factor of the pixel size COMMIT Click this button to exit the calibration program Skew The non-perpendicular inclination angle of the image plane <p>The longer the calibration process takes, the longer the program calculation time after clicking the three buttons, so wait for the program after clicking, do not click repeatedly.</p> <ul> <li>CALIBRATE button:<ul> <li>After the X-Y-Size-Skew four parameters meet the standards, the button will change from gray to green, indicating that it can be clicked.</li> <li>Click this button to start calculating the calibration result, successful flag-terminal output result.</li> </ul> </li> <li>SAVE button:<ul> <li>After clicking the CALIBRATE button, the terminal output will change from gray to green, indicating that it can be clicked.</li> <li>Click this button to save the calibration result, successful flag-terminal output result.</li> </ul> </li> <li>COMMIT button:<ul> <li>After clicking the CALIBRATE button and the terminal output, the button will change from gray to green, indicating that it can be clicked.</li> <li>Click this button to exit the calibration program, successful flag-terminal output result, program GUI interface exits.</li> </ul> </li> </ul> <p></p> <ul> <li>Calibration of parameter <code>X</code>: achieved by moving the calibration board left and right.</li> <li>Calibration of parameter <code>Y</code>: achieved by moving the calibration board up and down.</li> <li>Calibration of parameter <code>Size</code>: achieved by flipping the calibration board up and down when it is near the camera.</li> <li>Calibration of parameter SKew: achieved by flipping the calibration board up and down and left and right.</li> </ul> <p></p>"},{"location":"sensor-calibration/camera-intrisics-calibration/#step-4-verification-of-successful-calibration","title":"step-4: Verification of successful calibration","text":"<p>The compressed file <code>/tmp/calibrationdata.tar.gz</code> will be output, and the creation time should be the most recent.</p> <p>Note: You can make a copy, but please do not move or delete the file.</p> <pre><code>ll -h /tmp/calibrationdata.tar.gz\n# -rw-rw-r-- 1 pixkit pixkit 0  Apr 14 16:59 /tmp/calibrationdata.tar.gz\n</code></pre>"},{"location":"sensor-calibration/camera-intrisics-calibration/#next","title":"NEXT","text":"<p>Now that you have completed <code>camera intrinsic calibration</code>, you can proceed to LiDAR-camera calibration.</p>"},{"location":"support/","title":"Support","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/","title":"Backup OS Image","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#backup-os-image","title":"Backup OS Image","text":"<p>Basic principle: Make a mirror image of the IPC\uff08You need to prepare another hard disk larger than 100g\uff09 Statement: To prevent the user from installing other drivers in IPC or destroying the system configuration during software, which will result in the inability to run the autopilot and start the driver, the original system can be restored through the backup image (the original image of the system has been attached to the U disk). Users can also back up their own system image, and can use the hard disk to save the image of IPC.</p>"},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#prerequisites","title":"Prerequisites","text":"<ul> <li>Clonezilla boot U disk production</li> </ul>"},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#to-create-a-backup-system-image-follow-these-steps","title":"To create a backup system image, follow these steps:","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-1insert-the-usb-drive-and-press-f12-during-startup-a-wired-keyboard-can-be-used-for-this-operation-to-enter-the-flashing-startup-interface","title":"step-1\uff1aInsert the USB drive and press F12 during startup (a wired keyboard can be used for this operation) to enter the flashing startup interface.","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-2use-hard-disk-for-mirroringselect-first","title":"step-2\uff1aUse hard disk for mirroring\uff08select first\uff09","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-3select-the-chinese-interface-you-can-also-choose-other-languages","title":"step-3\uff1aSelect the Chinese interface (you can also choose other languages)","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-4keep","title":"step-4\uff1aKeep","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-5start-clonezillafrist","title":"step-5\uff1aStart Clonezilla(frist)","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-6save-image-file-to-hard-disk","title":"step-6\uff1aSave image file to hard disk","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-7select-the-first-one-when-using-a-hard-disk","title":"step-7\uff1aSelect the first one when using a hard disk","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-8insert-hard-drive","title":"step-8\uff1aInsert hard drive","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-9when-the-hard-disk-is-recognizedctrlc","title":"step-9\uff1aWhen the hard disk is recognized\uff0cctrl+c","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-10select-the-hard-drive-just-mounted","title":"step-10\uff1aSelect the hard drive just mounted","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-11select-the-first","title":"step-11\uff1aSelect the first","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-12select-the-directory-to-save","title":"step-12\uff1aSelect the directory to save","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-13done-enter","title":"step-13\uff1aDone Enter","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-14default-the-first-optionbeginner","title":"step-14\uff1aDefault the first option(Beginner)","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-15savedisk","title":"step-15\uff1aSavedisk","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-16name-the-file","title":"step-16\uff1aName the file","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-17compress-storage-in-zipzip","title":"step-17\uff1aCompress storage in zip(zip)","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-18default-the-first","title":"step-18\uff1aDefault the first","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-19default-the-first","title":"step-19\uff1aDefault the first","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-20default-the-first","title":"step-20\uff1aDefault the first","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-21selectpoweroff","title":"step-21\uff1aSelect\u2014\u2014poweroff","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-22start-copying","title":"step-22\uff1aStart copying","text":""},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#step-23wait-for-the-automatic-shutdown-to-complete","title":"step-23\uff1aWait for the automatic shutdown to complete","text":"<p>Note: 1. You need to prepare a hard disk to store your image. 2.The U disk is used as a boot disk, and the user needs to provide a hard disk when it needs to save its own image. Do not make any modifications, add or save other files on the U disk, so as not to damage the environment of the startup disk.</p>"},{"location":"support/Flash%20%26%20Backup/backup-OS-image/#quotation","title":"QUOTATION","text":"<p>Backup Image Video</p>"},{"location":"support/Flash%20%26%20Backup/flash-OS-image/","title":"Flash-OS-image","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#flash-os-image","title":"Flash-OS-image","text":"<p>Basic principle\uff1aFlash the system backup image to IPC Statement\uff1aWhen the industrial computer system is damaged, missing files make it impossible to run the autopilot, or the system cannot be entered due to a black screen, you can use a U disk to restore the industrial computer system and restore the factory settings.</p>"},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#prerequisites","title":"Prerequisites","text":"<ul> <li>Clonezilla boot U disk production</li> <li>Backup OS Image</li> </ul>"},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#according-to-the-following-steps","title":"According to the following steps","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-1insert-the-usb-drive-and-press-f12-during-startup-a-wired-keyboard-can-be-used-for-this-operation-to-enter-the-flashing-startup-interface","title":"step-1\uff1aInsert the USB drive and press F12 during startup (a wired keyboard can be used for this operation) to enter the flashing startup interface.","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-2select-the-second-option-when-using-a-usb-flash-drive-to-restore-the-image","title":"step-2\uff1aSelect the second option when using a USB flash drive to restore the image","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-3select-the-chinese-interface-you-can-also-choose-other-languages","title":"step-3\uff1aSelect the Chinese interface (you can also choose other languages)","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-4keep","title":"step-4\uff1aKeep","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-5start-clonezillafrist","title":"step-5\uff1aStart Clonezilla(frist)","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-6the-image-comes-from-the-usb-drive","title":"step-6\uff1aThe image comes from the USB drive","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-7read-to-u-diskdevsdb","title":"step-7\uff1aRead to U disk(dev/sdb)","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-8when-the-hard-disk-is-recognizedctrlc","title":"step-8\uff1aWhen the hard disk is recognized\uff0cctrl+c","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-9select-u-disk-when-inserting","title":"step-9\uff1aSelect U disk when inserting","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-10select-the-image-file-in-the-u-disk","title":"step-10\uff1aSelect the image file in the U disk","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-11default-the-first-optionbeginner","title":"step-11\uff1aDefault the first option(Beginner)","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-12select-the-third-option-to-restore-the-image-of-the-u-disk-to-the-industrial-computer","title":"step-12\uff1aSelect the third option to restore the image of the U disk to the industrial computer","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-13select-the-image-name-that-needs-to-be-restored","title":"step-13\uff1aSelect the image name that needs to be restored","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-14system-disk-location","title":"step-14\uff1aSystem Disk Location","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-15check-before-restore","title":"step-15\uff1aCheck before restore","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-16selectpoweroff","title":"step-16\uff1aselect\u2014\u2014poweroff","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-17waiting-to-read-mirror","title":"step-17\uff1aWaiting to read mirror","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-18enter-y","title":"step-18\uff1aEnter y","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-19wait-for-the-flash-about-10-minutes","title":"step-19\uff1aWait for the flash (about 10 minutes)","text":""},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#step-20the-system-automatically-shuts-down-flashing-has-been-completed","title":"step-20\uff1aThe system automatically shuts down - flashing has been completed","text":"<p>Note\uff1a This U disk is only recommended to restore the image, do not make any modification, add or save other files, so as not to damage the environment of the startup disk.</p>"},{"location":"support/Flash%20%26%20Backup/flash-OS-image/#quotation","title":"QUOTATION","text":"<p>Clonezilla \u518d\u751f\u9f8d Make Image Video</p>"}]}